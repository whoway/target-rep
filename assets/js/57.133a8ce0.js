(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{384:function(t,_,v){"use strict";v.r(_);var r=v(25),a=Object(r.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"内核态层-tcp层面试题-md"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#内核态层-tcp层面试题-md"}},[t._v("#")]),t._v(" 内核态层-TCP层面试题.md")]),t._v(" "),_("h2",{attrs:{id:"面试-tcp3次握手和4次挥手"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#面试-tcp3次握手和4次挥手"}},[t._v("#")]),t._v(" 面试-TCP3次握手和4次挥手")]),t._v(" "),_("ul",[_("li",[t._v("面试的时候希望用专业术语说！虽然打比方能够讲清楚")])]),t._v(" "),_("h4",{attrs:{id:"连接时候为什么需要三次握手"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#连接时候为什么需要三次握手"}},[t._v("#")]),t._v(" 连接时候为什么需要三次握手？")]),t._v(" "),_("p",[t._v("（1）通俗解释1")]),t._v(" "),_("p",[t._v("三次握手，就是说三次收发消息的过程。")]),t._v(" "),_("p",[t._v("一个完整的TCP连接，他有一个标准就是说：通讯的双方，都能确认双方是能够正常收发的！"),_("strong",[t._v("（注意，收和发）")])]),t._v(" "),_("p",[t._v("C客户端→S服务器")]),t._v(" "),_("p",[t._v("S收到后，可以确认：")]),t._v(" "),_("p",[t._v("S就知道")]),t._v(" "),_("ul",[_("li",[t._v("[x] C能正常发（确认）")]),t._v(" "),_("li",[t._v("[ ] C能正常收")]),t._v(" "),_("li",[t._v("[ ] S能正常发")]),t._v(" "),_("li",[t._v("[x] S能正常收（确认）")])]),t._v(" "),_("p",[t._v("C客户端←S服务器")]),t._v(" "),_("p",[t._v("S就知道")]),t._v(" "),_("ul",[_("li",[t._v("[x] C能正常发（确认）")]),t._v(" "),_("li",[t._v("[x] C能正常收（确认）")]),t._v(" "),_("li",[t._v("[x] S能正常发（确认）")]),t._v(" "),_("li",[t._v("[x] S能正常收（确认）")])]),t._v(" "),_("p",[t._v("C客户端→S服务器")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("[x] C能正常发")])]),t._v(" "),_("li",[_("p",[t._v("[x] C能正常收（确定）")])]),t._v(" "),_("li",[_("p",[t._v("[x] S能正常发（确定）")])]),t._v(" "),_("li",[_("p",[t._v("[x] S能正常收")])]),t._v(" "),_("li",[_("p",[_("font",{staticStyle:{background:"yellow"}},[t._v("简介说法：三次握手目的是保证双方都有发送和接收的能力。")])],1)])]),t._v(" "),_("h4",{attrs:{id:"为什么断开的时候需要四次挥手"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#为什么断开的时候需要四次挥手"}},[t._v("#")]),t._v(" 为什么断开的时候需要四次挥手？")]),t._v(" "),_("p",[_("a",{attrs:{href:"https://baijiahao.baidu.com/s?id=1654225744653405133&wfr=spider&for=pc",target:"_blank",rel:"noopener noreferrer"}},[t._v("链接"),_("OutboundLink")],1)]),t._v(" "),_("ul",[_("li",[_("p",[t._v("牛客：因为tcp是"),_("strong",[t._v("全双工模式")]),t._v("，接收到FIN时意味将没有数据再发来，但是还是可以继续发送数据，所以断开连接时必须是四次握手")])]),t._v(" "),_("li",[_("p",[t._v("百度：\nhttps://baike.baidu.com/item/tcp%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B/7922126?fr=aladdin")])]),t._v(" "),_("li",[_("p",[t._v("讲得很好：\n这是因为服务端的LISTEN状态下的SOCKET当收到SYN报文的建连请求后，它"),_("strong",[t._v("可以把ACK和SYN（ACK起应答作用，而SYN起同步作用）放在一个报文里来发送")]),t._v("。")])]),t._v(" "),_("li",[_("p",[t._v("但关闭连接时，当收到对方的FIN报文通知时，它仅仅表示对方没有数据发送给你了；但"),_("strong",[t._v("未必你所有的数据都全部发送给对方了")]),t._v("，所以你可以"),_("strong",[t._v("未必会马上会关闭SOCKET")]),t._v(",也即你可能还需要发送一些数据给对方之后，再发送FIN报文给对方来表示你同意可以关闭连接了，"),_("strong",[t._v("所以它这里的ACK报文和FIN报文多数情况下都是分开发送的")])])])]),t._v(" "),_("h2",{attrs:{id:"tcp协议真的有所谓的-粘包问题-吗"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#tcp协议真的有所谓的-粘包问题-吗"}},[t._v("#")]),t._v(" TCP协议真的有所谓的“粘包问题”吗？")]),t._v(" "),_("p",[t._v("《Linux多线程服务器编程》的说明")]),t._v(" "),_("p",[t._v("《"),_("a",{attrs:{href:"https://book.douban.com/subject/1828749/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Effective TCP/IP Programming"),_("OutboundLink")],1),t._v("》这本书属于专家经验总结类，初看时觉得收获很大，工作一段时间再看也能有新的发现。\n比如第6条“TCP是一个字节流协议”，看过这一条就不会去研究所谓的“TCP粘包问题”。")]),t._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"http://www.52im.net/thread-2608-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考文章"),_("OutboundLink")],1)])])])}),[],!1,null,null,null);_.default=a.exports}}]);