(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{456:function(s,a,t){"use strict";t.r(a);var n=t(14),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"gnu的awk的使用【以行为处理单位】"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#gnu的awk的使用【以行为处理单位】"}},[s._v("#")]),s._v(" GNU的awk的使用【以行为处理单位】")]),s._v(" "),a("h2",{attrs:{id:"目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[s._v("#")]),s._v(" 目录")]),s._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#目录"}},[s._v("目录")])]),a("li",[a("a",{attrs:{href:"#sed和awk对比"}},[s._v("sed和awk对比")])]),a("li",[a("a",{attrs:{href:"#学习的架构-5大部分"}},[s._v("学习的架构-5大部分")])]),a("li",[a("a",{attrs:{href:"#参考资料"}},[s._v("参考资料")])])])]),a("p"),s._v(" "),a("p",[s._v("[toc]")]),s._v(" "),a("h2",{attrs:{id:"sed和awk对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sed和awk对比"}},[s._v("#")]),s._v(" sed和awk对比")]),s._v(" "),a("p",[s._v("awk是Linux下面的一个命令行工具，相比于sed，awk不仅可以以行为单位进行处理文件，还能以列为单位处理文件；")]),s._v(" "),a("p",[s._v("同时，它还是一种编程语言，用来在Linux/Unix下对文本和数据进行处理，数据既可以来自标准输入，也可以来自一个或者多个文件。")]),s._v(" "),a("p",[s._v("处理文件的方式：awk处理文本和数据的方式和sed相似，都是逐行扫描文件，从第一行到最后一行，")]),s._v(" "),a("h2",{attrs:{id:"学习的架构-5大部分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习的架构-5大部分"}},[s._v("#")]),s._v(" 学习的架构-5大部分")]),s._v(" "),a("ul",[a("li",[s._v("格式")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 格式")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-F 域分隔符号"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 动作 文件名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("总结：动作都是用"),a("code",[s._v("{ }")]),s._v("包裹的，最最外边还是"),a("code",[s._v("' '")]),s._v("包裹")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $2 \"--\" $3}'")]),s._v(" auto-push-to-github.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("变量")])]),s._v(" "),a("p",[s._v("变量"),a("code",[s._v("NF")]),s._v("表示当前行有多少个字段（"),a("strong",[s._v("从1开始数")]),s._v("）")]),s._v(" "),a("p",[s._v("变量"),a("code",[s._v("NR")]),s._v("表示当前处理的是第几行（"),a("strong",[s._v("从1开始数")]),s._v("）")]),s._v(" "),a("p",[s._v("总结：比较的时候，直接用变量，输出的时候要加上"),a("code",[s._v("$")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NR>1 {print $2 \"--\" $3}'")]),s._v(" auto-push-to-github.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("函数")])]),s._v(" "),a("p",[a("code",[s._v("awk")]),s._v("还提供了一些内置函数，方便对原始数据的处理。")]),s._v(" "),a("ul",[a("li",[s._v("条件，比如比较/正则表达式")])]),s._v(" "),a("p",[a("code",[s._v("awk")]),s._v("允许指定输出条件，只输出符合条件的行。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'条件 动作'")]),s._v(" 文件名\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 正则表达式只输出包含usr的行。只输出包含usr的行。")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-F")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("':'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/usr/ {print $1}'")]),s._v(" demo.txt\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出奇数行")]),s._v("\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-F")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("':'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'NR % 2 == 1 {print $1}'")]),s._v(" demo.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("ul",[a("li",[s._v("if语句")])]),s._v(" "),a("p",[a("code",[s._v("awk")]),s._v("提供了"),a("code",[s._v("if")]),s._v("结构，用于编写复杂的条件。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-F")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("':'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{if ($1 > \"m\") print $1}'")]),s._v(" demo.txt\n\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-F")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("':'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{if ($1 > "m") print $1; else print "---"}\'')]),s._v(" demo.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[s._v("#")]),s._v(" 参考资料")]),s._v(" "),a("ul",[a("li",[s._v("awk 入门教程， "),a("a",{attrs:{href:"https://www.ruanyifeng.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("阮一峰"),a("OutboundLink")],1),s._v("：https://www.ruanyifeng.com/blog/2018/11/awk.html")])])])}),[],!1,null,null,null);a.default=e.exports}}]);