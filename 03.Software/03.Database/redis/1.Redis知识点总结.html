<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redis知识点总结 | whoway</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/images/photo.jpg">
    <link rel="manifest" href="/images/photo.jpg">
    <link rel="apple-touch-icon" href="/images/photo.jpg">
    <meta name="description" content="Personal Blog Website">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="/assets/js/app.981f84cc.js" as="script"><link rel="preload" href="/assets/js/2.443c6f9e.js" as="script"><link rel="preload" href="/assets/js/136.411f6ec4.js" as="script"><link rel="prefetch" href="/assets/js/10.1723471b.js"><link rel="prefetch" href="/assets/js/100.28c010d1.js"><link rel="prefetch" href="/assets/js/101.2b888550.js"><link rel="prefetch" href="/assets/js/102.6f91be34.js"><link rel="prefetch" href="/assets/js/103.a6c9ed33.js"><link rel="prefetch" href="/assets/js/104.f19243ed.js"><link rel="prefetch" href="/assets/js/105.455b428f.js"><link rel="prefetch" href="/assets/js/106.09803d81.js"><link rel="prefetch" href="/assets/js/107.1a37f342.js"><link rel="prefetch" href="/assets/js/108.072d8ab7.js"><link rel="prefetch" href="/assets/js/109.b0251aca.js"><link rel="prefetch" href="/assets/js/11.14509f36.js"><link rel="prefetch" href="/assets/js/110.cdcbb084.js"><link rel="prefetch" href="/assets/js/111.4553c942.js"><link rel="prefetch" href="/assets/js/112.ae8fcd44.js"><link rel="prefetch" href="/assets/js/113.d77c1b88.js"><link rel="prefetch" href="/assets/js/114.0b797826.js"><link rel="prefetch" href="/assets/js/115.f4cadd96.js"><link rel="prefetch" href="/assets/js/116.6fa9f3e1.js"><link rel="prefetch" href="/assets/js/117.fd2ef1dd.js"><link rel="prefetch" href="/assets/js/118.476c831c.js"><link rel="prefetch" href="/assets/js/119.0adb5c05.js"><link rel="prefetch" href="/assets/js/12.6ee2ddb7.js"><link rel="prefetch" href="/assets/js/120.e50df7e6.js"><link rel="prefetch" href="/assets/js/121.dca75fa5.js"><link rel="prefetch" href="/assets/js/122.f20ee8b7.js"><link rel="prefetch" href="/assets/js/123.818c281d.js"><link rel="prefetch" href="/assets/js/124.55e1d2dc.js"><link rel="prefetch" href="/assets/js/125.aa9bfd3a.js"><link rel="prefetch" href="/assets/js/126.3e160d89.js"><link rel="prefetch" href="/assets/js/127.c2092900.js"><link rel="prefetch" href="/assets/js/128.b4e7e919.js"><link rel="prefetch" href="/assets/js/129.1ab7bec1.js"><link rel="prefetch" href="/assets/js/13.6e8f5381.js"><link rel="prefetch" href="/assets/js/130.f4850228.js"><link rel="prefetch" href="/assets/js/131.73691481.js"><link rel="prefetch" href="/assets/js/132.e4691aed.js"><link rel="prefetch" href="/assets/js/133.2475bc77.js"><link rel="prefetch" href="/assets/js/134.996cf8f9.js"><link rel="prefetch" href="/assets/js/135.e41ca25b.js"><link rel="prefetch" href="/assets/js/137.5571e06a.js"><link rel="prefetch" href="/assets/js/138.fdef0291.js"><link rel="prefetch" href="/assets/js/139.fb7fc0de.js"><link rel="prefetch" href="/assets/js/14.0361e83f.js"><link rel="prefetch" href="/assets/js/140.1568787f.js"><link rel="prefetch" href="/assets/js/141.9dd98ffb.js"><link rel="prefetch" href="/assets/js/142.04e00469.js"><link rel="prefetch" href="/assets/js/143.63881619.js"><link rel="prefetch" href="/assets/js/144.9beb4f94.js"><link rel="prefetch" href="/assets/js/145.30579447.js"><link rel="prefetch" href="/assets/js/146.0c17e0c2.js"><link rel="prefetch" href="/assets/js/147.ebee6f87.js"><link rel="prefetch" href="/assets/js/148.2fbd4ea6.js"><link rel="prefetch" href="/assets/js/149.bc4eabc3.js"><link rel="prefetch" href="/assets/js/15.7990c480.js"><link rel="prefetch" href="/assets/js/150.b2bc436f.js"><link rel="prefetch" href="/assets/js/151.fe8d73cc.js"><link rel="prefetch" href="/assets/js/152.d2549f64.js"><link rel="prefetch" href="/assets/js/153.17863859.js"><link rel="prefetch" href="/assets/js/154.153a78f3.js"><link rel="prefetch" href="/assets/js/155.6260dffc.js"><link rel="prefetch" href="/assets/js/156.78821ae8.js"><link rel="prefetch" href="/assets/js/157.e657366e.js"><link rel="prefetch" href="/assets/js/158.0c2f8ae1.js"><link rel="prefetch" href="/assets/js/159.af1a5852.js"><link rel="prefetch" href="/assets/js/16.9b0ac9cf.js"><link rel="prefetch" href="/assets/js/160.ac2a2dc4.js"><link rel="prefetch" href="/assets/js/161.6aaaab33.js"><link rel="prefetch" href="/assets/js/162.d4a6b211.js"><link rel="prefetch" href="/assets/js/163.ac38ab13.js"><link rel="prefetch" href="/assets/js/164.10ddde39.js"><link rel="prefetch" href="/assets/js/165.2a925c57.js"><link rel="prefetch" href="/assets/js/166.635cfe6e.js"><link rel="prefetch" href="/assets/js/167.bf216ac9.js"><link rel="prefetch" href="/assets/js/168.9e37c0bf.js"><link rel="prefetch" href="/assets/js/169.ab12d291.js"><link rel="prefetch" href="/assets/js/17.6c788e13.js"><link rel="prefetch" href="/assets/js/170.7e8958f4.js"><link rel="prefetch" href="/assets/js/171.2a9eb4d8.js"><link rel="prefetch" href="/assets/js/172.2d8ebe13.js"><link rel="prefetch" href="/assets/js/173.f29de08c.js"><link rel="prefetch" href="/assets/js/174.9bdf9fe1.js"><link rel="prefetch" href="/assets/js/175.4cc0f45b.js"><link rel="prefetch" href="/assets/js/176.e7810e6b.js"><link rel="prefetch" href="/assets/js/177.2a266fca.js"><link rel="prefetch" href="/assets/js/178.121a26b4.js"><link rel="prefetch" href="/assets/js/179.85bf9134.js"><link rel="prefetch" href="/assets/js/18.873a8359.js"><link rel="prefetch" href="/assets/js/180.5f6956f6.js"><link rel="prefetch" href="/assets/js/181.cc182a00.js"><link rel="prefetch" href="/assets/js/182.25417ef7.js"><link rel="prefetch" href="/assets/js/183.7c5af505.js"><link rel="prefetch" href="/assets/js/184.32e39077.js"><link rel="prefetch" href="/assets/js/185.caada951.js"><link rel="prefetch" href="/assets/js/186.e9b8ee83.js"><link rel="prefetch" href="/assets/js/187.40c708bd.js"><link rel="prefetch" href="/assets/js/188.38bdefea.js"><link rel="prefetch" href="/assets/js/189.ed2f40f5.js"><link rel="prefetch" href="/assets/js/19.7d43bed9.js"><link rel="prefetch" href="/assets/js/190.89a51cd0.js"><link rel="prefetch" href="/assets/js/191.3589af3f.js"><link rel="prefetch" href="/assets/js/192.4b02f8b5.js"><link rel="prefetch" href="/assets/js/193.cf8d91ba.js"><link rel="prefetch" href="/assets/js/194.be0d151d.js"><link rel="prefetch" href="/assets/js/195.6356fa33.js"><link rel="prefetch" href="/assets/js/196.3529e663.js"><link rel="prefetch" href="/assets/js/197.f08c1211.js"><link rel="prefetch" href="/assets/js/198.8a6cad25.js"><link rel="prefetch" href="/assets/js/199.a44a3d0e.js"><link rel="prefetch" href="/assets/js/20.23943046.js"><link rel="prefetch" href="/assets/js/200.e74674d7.js"><link rel="prefetch" href="/assets/js/201.903a918e.js"><link rel="prefetch" href="/assets/js/202.a4323ce3.js"><link rel="prefetch" href="/assets/js/203.70d404e1.js"><link rel="prefetch" href="/assets/js/204.3bf9ebcd.js"><link rel="prefetch" href="/assets/js/205.d5955591.js"><link rel="prefetch" href="/assets/js/206.9dcb8d77.js"><link rel="prefetch" href="/assets/js/207.79a891ac.js"><link rel="prefetch" href="/assets/js/208.66f993b4.js"><link rel="prefetch" href="/assets/js/209.b582ca97.js"><link rel="prefetch" href="/assets/js/21.edd943cc.js"><link rel="prefetch" href="/assets/js/210.427d8db7.js"><link rel="prefetch" href="/assets/js/211.4c465e56.js"><link rel="prefetch" href="/assets/js/212.e0e828ec.js"><link rel="prefetch" href="/assets/js/213.d4221ac8.js"><link rel="prefetch" href="/assets/js/214.aab2d448.js"><link rel="prefetch" href="/assets/js/215.c86ff7b8.js"><link rel="prefetch" href="/assets/js/216.08fc3e34.js"><link rel="prefetch" href="/assets/js/217.d7cb733e.js"><link rel="prefetch" href="/assets/js/218.deefe682.js"><link rel="prefetch" href="/assets/js/219.fc170487.js"><link rel="prefetch" href="/assets/js/22.1101d3a0.js"><link rel="prefetch" href="/assets/js/220.dae8546a.js"><link rel="prefetch" href="/assets/js/221.e46e1e01.js"><link rel="prefetch" href="/assets/js/222.08a643e5.js"><link rel="prefetch" href="/assets/js/223.c5514540.js"><link rel="prefetch" href="/assets/js/224.ecab4c39.js"><link rel="prefetch" href="/assets/js/225.fabdb999.js"><link rel="prefetch" href="/assets/js/226.577384dc.js"><link rel="prefetch" href="/assets/js/227.df449b6e.js"><link rel="prefetch" href="/assets/js/228.0bc4d32a.js"><link rel="prefetch" href="/assets/js/229.027b0c2d.js"><link rel="prefetch" href="/assets/js/23.b7bb58cb.js"><link rel="prefetch" href="/assets/js/230.06b11367.js"><link rel="prefetch" href="/assets/js/231.237c05c7.js"><link rel="prefetch" href="/assets/js/232.c2928049.js"><link rel="prefetch" href="/assets/js/24.c73970bd.js"><link rel="prefetch" href="/assets/js/25.6c1f3e52.js"><link rel="prefetch" href="/assets/js/26.12c1d791.js"><link rel="prefetch" href="/assets/js/27.e32aad29.js"><link rel="prefetch" href="/assets/js/28.2e15dac9.js"><link rel="prefetch" href="/assets/js/29.9f14ff8d.js"><link rel="prefetch" href="/assets/js/3.04997b3a.js"><link rel="prefetch" href="/assets/js/30.fef8d741.js"><link rel="prefetch" href="/assets/js/31.c861762c.js"><link rel="prefetch" href="/assets/js/32.2bdd0898.js"><link rel="prefetch" href="/assets/js/33.92037cd2.js"><link rel="prefetch" href="/assets/js/34.2b9377f8.js"><link rel="prefetch" href="/assets/js/35.e6469324.js"><link rel="prefetch" href="/assets/js/36.20267bfe.js"><link rel="prefetch" href="/assets/js/37.738ddf6b.js"><link rel="prefetch" href="/assets/js/38.6e536ad3.js"><link rel="prefetch" href="/assets/js/39.356955ac.js"><link rel="prefetch" href="/assets/js/4.fcb9184d.js"><link rel="prefetch" href="/assets/js/40.b210e6fc.js"><link rel="prefetch" href="/assets/js/41.dc08fc34.js"><link rel="prefetch" href="/assets/js/42.71d97baf.js"><link rel="prefetch" href="/assets/js/43.25c6b21a.js"><link rel="prefetch" href="/assets/js/44.18c4ae8f.js"><link rel="prefetch" href="/assets/js/45.4c20a706.js"><link rel="prefetch" href="/assets/js/46.28a5de67.js"><link rel="prefetch" href="/assets/js/47.fe6ca44a.js"><link rel="prefetch" href="/assets/js/48.ee360b71.js"><link rel="prefetch" href="/assets/js/49.1187f6a5.js"><link rel="prefetch" href="/assets/js/5.fd7bf5b2.js"><link rel="prefetch" href="/assets/js/50.d7a544eb.js"><link rel="prefetch" href="/assets/js/51.8673b661.js"><link rel="prefetch" href="/assets/js/52.79609f7d.js"><link rel="prefetch" href="/assets/js/53.b16a359f.js"><link rel="prefetch" href="/assets/js/54.aa840cf0.js"><link rel="prefetch" href="/assets/js/55.114bb898.js"><link rel="prefetch" href="/assets/js/56.3035e2dc.js"><link rel="prefetch" href="/assets/js/57.7545af97.js"><link rel="prefetch" href="/assets/js/58.b62eaa3c.js"><link rel="prefetch" href="/assets/js/59.fad76245.js"><link rel="prefetch" href="/assets/js/6.a31d63d5.js"><link rel="prefetch" href="/assets/js/60.9f03cc4e.js"><link rel="prefetch" href="/assets/js/61.6f59d3b5.js"><link rel="prefetch" href="/assets/js/62.4eeb0d34.js"><link rel="prefetch" href="/assets/js/63.9e03974e.js"><link rel="prefetch" href="/assets/js/64.a3a6ff0f.js"><link rel="prefetch" href="/assets/js/65.1f360481.js"><link rel="prefetch" href="/assets/js/66.9e9794a2.js"><link rel="prefetch" href="/assets/js/67.7780a4ee.js"><link rel="prefetch" href="/assets/js/68.42f06cfd.js"><link rel="prefetch" href="/assets/js/69.9afcda02.js"><link rel="prefetch" href="/assets/js/7.5722c9b9.js"><link rel="prefetch" href="/assets/js/70.daccee5e.js"><link rel="prefetch" href="/assets/js/71.80778e1e.js"><link rel="prefetch" href="/assets/js/72.0e749b99.js"><link rel="prefetch" href="/assets/js/73.a61fe5e6.js"><link rel="prefetch" href="/assets/js/74.1a461b9f.js"><link rel="prefetch" href="/assets/js/75.653c05c1.js"><link rel="prefetch" href="/assets/js/76.5d40d7c8.js"><link rel="prefetch" href="/assets/js/77.fec2d6f7.js"><link rel="prefetch" href="/assets/js/78.95be4d3c.js"><link rel="prefetch" href="/assets/js/79.7a710bcd.js"><link rel="prefetch" href="/assets/js/8.e7435e47.js"><link rel="prefetch" href="/assets/js/80.72943077.js"><link rel="prefetch" href="/assets/js/81.7532ff07.js"><link rel="prefetch" href="/assets/js/82.9dae66a9.js"><link rel="prefetch" href="/assets/js/83.25af26c3.js"><link rel="prefetch" href="/assets/js/84.068766ab.js"><link rel="prefetch" href="/assets/js/85.e4339a2e.js"><link rel="prefetch" href="/assets/js/86.90c71f4d.js"><link rel="prefetch" href="/assets/js/87.b8db974e.js"><link rel="prefetch" href="/assets/js/88.0d7f2285.js"><link rel="prefetch" href="/assets/js/89.8d8334a9.js"><link rel="prefetch" href="/assets/js/9.af54c745.js"><link rel="prefetch" href="/assets/js/90.2adbd0ab.js"><link rel="prefetch" href="/assets/js/91.80a886b3.js"><link rel="prefetch" href="/assets/js/92.9626d0d9.js"><link rel="prefetch" href="/assets/js/93.d49d5126.js"><link rel="prefetch" href="/assets/js/94.031dd2b6.js"><link rel="prefetch" href="/assets/js/95.352f45c0.js"><link rel="prefetch" href="/assets/js/96.38028921.js"><link rel="prefetch" href="/assets/js/97.993deb55.js"><link rel="prefetch" href="/assets/js/98.ea068239.js"><link rel="prefetch" href="/assets/js/99.bdfb560a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">whoway</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎓Coding" class="dropdown-title"><span class="title">🎓Coding</span> <span class="arrow down"></span></button> <button type="button" aria-label="🎓Coding" class="mobile-dropdown-title"><span class="title">🎓Coding</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/00.Coding/TheBeautyOfProgramming/" class="nav-link">
  🔖编程之美题解
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/CodeWarehouse/" class="nav-link">
  🔖代码意识流
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/" class="nav-link">
  🔖面试题题解
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀语言" class="dropdown-title"><span class="title">🚀语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="🚀语言" class="mobile-dropdown-title"><span class="title">🚀语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/01.Language/Overview/" class="nav-link">
  🔖概述
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/C/" class="nav-link">
  ⭐️C
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Cpp/" class="nav-link">
  🚀C++
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Java/" class="nav-link">
  ☕️Java
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Python/" class="nav-link">
  🧩Python3
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Fortran/" class="nav-link">
  🎲Fortran
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/JavaScript/" class="nav-link">
  🎨JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/02.Hardware/" class="nav-link">
  ✔️硬件基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⭐️软件基础" class="dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="⭐️软件基础" class="mobile-dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/03.Software/01.DataStructureAndAlgorithm/" class="nav-link">
  🐾数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/02.server/" class="nav-link">
  🎨server
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/03.Database/" class="nav-link router-link-active">
  🔖数据库
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/04.SE/" class="nav-link">
  ✅软件工程
</a></li></ul></div></div><div class="nav-item"><a href="/04.PerformanceOpt/" class="nav-link">
  🔥性能调优
</a></div><div class="nav-item"><a href="/05.Engineer/" class="nav-link">
  🔖学术/工程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⚙️工具" class="dropdown-title"><span class="title">⚙️工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="⚙️工具" class="mobile-dropdown-title"><span class="title">⚙️工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/06.Tools/01.employment/" class="nav-link">
  🔖求职
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/02.efficiency/" class="nav-link">
  🚀效能
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/03.windows/" class="nav-link">
  ⚙️Windows
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/04.design/" class="nav-link">
  🧩设计
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/whoway" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎓Coding" class="dropdown-title"><span class="title">🎓Coding</span> <span class="arrow down"></span></button> <button type="button" aria-label="🎓Coding" class="mobile-dropdown-title"><span class="title">🎓Coding</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/00.Coding/TheBeautyOfProgramming/" class="nav-link">
  🔖编程之美题解
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/CodeWarehouse/" class="nav-link">
  🔖代码意识流
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/" class="nav-link">
  🔖面试题题解
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀语言" class="dropdown-title"><span class="title">🚀语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="🚀语言" class="mobile-dropdown-title"><span class="title">🚀语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/01.Language/Overview/" class="nav-link">
  🔖概述
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/C/" class="nav-link">
  ⭐️C
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Cpp/" class="nav-link">
  🚀C++
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Java/" class="nav-link">
  ☕️Java
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Python/" class="nav-link">
  🧩Python3
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Fortran/" class="nav-link">
  🎲Fortran
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/JavaScript/" class="nav-link">
  🎨JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/02.Hardware/" class="nav-link">
  ✔️硬件基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⭐️软件基础" class="dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="⭐️软件基础" class="mobile-dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/03.Software/01.DataStructureAndAlgorithm/" class="nav-link">
  🐾数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/02.server/" class="nav-link">
  🎨server
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/03.Database/" class="nav-link router-link-active">
  🔖数据库
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/04.SE/" class="nav-link">
  ✅软件工程
</a></li></ul></div></div><div class="nav-item"><a href="/04.PerformanceOpt/" class="nav-link">
  🔥性能调优
</a></div><div class="nav-item"><a href="/05.Engineer/" class="nav-link">
  🔖学术/工程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⚙️工具" class="dropdown-title"><span class="title">⚙️工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="⚙️工具" class="mobile-dropdown-title"><span class="title">⚙️工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/06.Tools/01.employment/" class="nav-link">
  🔖求职
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/02.efficiency/" class="nav-link">
  🚀效能
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/03.windows/" class="nav-link">
  ⚙️Windows
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/04.design/" class="nav-link">
  🧩设计
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/whoway" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Redis知识点总结</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#目录" class="sidebar-link">目录</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#面试题" class="sidebar-link">面试题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#redis有哪些对象-请问redis的数据类型有哪些-底层怎么实现" class="sidebar-link">redis有哪些对象？请问Redis的数据类型有哪些，底层怎么实现?</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#什么是缓存雪崩、缓存击穿、缓存穿透" class="sidebar-link">什么是缓存雪崩、缓存击穿、缓存穿透？</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#_1-请你回答一下2种nosql的区别mongodb和redis" class="sidebar-link">1.请你回答一下2种NoSQL的区别mongodb和redis</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#_2-请你来说一下redis和memcached的区别" class="sidebar-link">2.请你来说一下Redis和memcached的区别？</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#_5-2-请你来说一说redis的定时机制怎么实现的" class="sidebar-link">5.2.请你来说一说Redis的定时机制怎么实现的</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#_5-3-请你来说一说redis是单线程的-但是为什么这么高效呢" class="sidebar-link">5.3.请你来说一说Redis是单线程的，但是为什么这么高效呢?</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#_5-4-请自己设计一下如何采用单线程的方式处理高并发" class="sidebar-link">5.4.请自己设计一下如何采用单线程的方式处理高并发</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#_5-6-请问redis的rehash怎么做的-为什么要渐进rehash-渐进rehash又是怎么实现的" class="sidebar-link">5.6.请问Redis的rehash怎么做的，为什么要渐进rehash，渐进rehash又是怎么实现的?</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#请问redis怎么实现的定期删除功能" class="sidebar-link">请问Redis怎么实现的定期删除功能</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#_5-9-请你说一说redis对应的命令和数据类型" class="sidebar-link">5.9.请你说一说Redis对应的命令和数据类型.</a></li></ul></li><li><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#redis分布式锁" class="sidebar-link">redis分布式锁</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#怎么保证redis和数据库一致性" class="sidebar-link">怎么保证redis和数据库一致性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#_1-旁路缓存" class="sidebar-link">1.旁路缓存</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#_2-缓存" class="sidebar-link">2.缓存</a></li></ul></li><li><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#聊聊redis的数据热点问题" class="sidebar-link">聊聊Redis的数据热点问题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#redis热点如何避免" class="sidebar-link">Redis热点如何避免？</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#你项目里用到了redis-说下你怎么用redis的-redis还有哪些具体应用场景" class="sidebar-link">你项目里用到了redis，说下你怎么用redis的，redis还有哪些具体应用场景</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#redis的持久化有哪些方式" class="sidebar-link">redis的持久化有哪些方式</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#aof和rdb分别有什么优势和缺点-实际应用场景怎么选择" class="sidebar-link">aof和rdb分别有什么优势和缺点，实际应用场景怎么选择</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#redis是单线程-为什么性能还这么好-说具体一点" class="sidebar-link">redis是单线程，为什么性能还这么好，说具体一点</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#说一下redis实现的session分布式登录-能不能从源码角度说一下" class="sidebar-link">说一下redis实现的session分布式登录，能不能从源码角度说一下</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#redis实现分布式锁-存在什么问题-怎么解决" class="sidebar-link">redis实现分布式锁，存在什么问题，怎么解决</a></li></ul></li><li><a href="/03.Software/03.Database/redis/1.Redis%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93.html#参考资料" class="sidebar-link">参考资料</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="redis知识点总结"><a href="#redis知识点总结" class="header-anchor">#</a> Redis知识点总结</h1> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&lt;</span>font <span class="token assign-left variable">style</span><span class="token operator">=</span><span class="token string">&quot;background:yellow&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>font <span class="token assign-left variable">style</span><span class="token operator">=</span><span class="token string">&quot;background: MediumSpringGreen&quot;</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="目录"><a href="#目录" class="header-anchor">#</a> 目录</h2> <p></p><div class="table-of-contents"><ul><li><a href="#目录">目录</a></li><li><a href="#面试题">面试题</a><ul><li><a href="#redis有哪些对象-请问redis的数据类型有哪些-底层怎么实现">redis有哪些对象？请问Redis的数据类型有哪些，底层怎么实现?</a></li><li><a href="#什么是缓存雪崩、缓存击穿、缓存穿透">什么是缓存雪崩、缓存击穿、缓存穿透？</a></li><li><a href="#_1-请你回答一下2种nosql的区别mongodb和redis">1.请你回答一下2种NoSQL的区别mongodb和redis</a></li><li><a href="#_2-请你来说一下redis和memcached的区别">2.请你来说一下Redis和memcached的区别？</a></li><li><a href="#_5-2-请你来说一说redis的定时机制怎么实现的">5.2.请你来说一说Redis的定时机制怎么实现的</a></li><li><a href="#_5-3-请你来说一说redis是单线程的-但是为什么这么高效呢">5.3.请你来说一说Redis是单线程的，但是为什么这么高效呢?</a></li><li><a href="#_5-4-请自己设计一下如何采用单线程的方式处理高并发">5.4.请自己设计一下如何采用单线程的方式处理高并发</a></li><li><a href="#_5-6-请问redis的rehash怎么做的-为什么要渐进rehash-渐进rehash又是怎么实现的">5.6.请问Redis的rehash怎么做的，为什么要渐进rehash，渐进rehash又是怎么实现的?</a></li><li><a href="#请问redis怎么实现的定期删除功能">请问Redis怎么实现的定期删除功能</a></li><li><a href="#_5-9-请你说一说redis对应的命令和数据类型">5.9.请你说一说Redis对应的命令和数据类型.</a></li></ul></li><li><a href="#redis分布式锁">redis分布式锁</a></li><li><a href="#怎么保证redis和数据库一致性">怎么保证redis和数据库一致性</a><ul><li><a href="#_1-旁路缓存">1.旁路缓存</a></li><li><a href="#_2-缓存">2.缓存</a></li></ul></li><li><a href="#聊聊redis的数据热点问题">聊聊Redis的数据热点问题</a></li><li><a href="#redis热点如何避免">Redis热点如何避免？</a><ul><li><a href="#你项目里用到了redis-说下你怎么用redis的-redis还有哪些具体应用场景">你项目里用到了redis，说下你怎么用redis的，redis还有哪些具体应用场景</a></li><li><a href="#redis的持久化有哪些方式">redis的持久化有哪些方式</a></li><li><a href="#aof和rdb分别有什么优势和缺点-实际应用场景怎么选择">aof和rdb分别有什么优势和缺点，实际应用场景怎么选择</a></li><li><a href="#redis是单线程-为什么性能还这么好-说具体一点">redis是单线程，为什么性能还这么好，说具体一点</a></li><li><a href="#说一下redis实现的session分布式登录-能不能从源码角度说一下">说一下redis实现的session分布式登录，能不能从源码角度说一下</a></li><li><a href="#redis实现分布式锁-存在什么问题-怎么解决">redis实现分布式锁，存在什么问题，怎么解决</a></li></ul></li><li><a href="#参考资料">参考资料</a></li></ul></div><p></p> <p>[TOC]</p> <p>常见NoSQL的安装踩坑记录，《Redis设计与实现》笔记</p> <ul><li>Redis：<strong>RE</strong>mote <strong>D</strong>Ictionary <strong>S</strong>erver（远程字典服务器）</li></ul> <h2 id="面试题"><a href="#面试题" class="header-anchor">#</a> 面试题</h2> <h3 id="redis有哪些对象-请问redis的数据类型有哪些-底层怎么实现"><a href="#redis有哪些对象-请问redis的数据类型有哪些-底层怎么实现" class="header-anchor">#</a> redis有哪些对象？请问Redis的数据类型有哪些，底层怎么实现?</h3> <ul><li>1）字符串（string）：整数值、embstr编码的简单动态字符串、简单动态字符串（SDS)</li> <li>2）列表（list）：压缩列表、双端链表</li> <li>3）哈希（hash）：压缩列表、字典</li> <li>4）集合（set）：整数集合、字典</li> <li>5）有序集合（zset）：压缩列表、跳跃表和字典</li></ul> <h3 id="什么是缓存雪崩、缓存击穿、缓存穿透"><a href="#什么是缓存雪崩、缓存击穿、缓存穿透" class="header-anchor">#</a> 什么是缓存雪崩、缓存击穿、缓存穿透？</h3> <p>Redis作为目前使用最广泛的缓存，相信大家都不陌生。</p> <p>但是使用缓存并没有这么简单，还要考虑缓存雪崩，缓存击穿，缓存穿透的问题</p> <h4 id="缓存雪崩-cache-avalanche-「多个key访问-大规模失效」"><a href="#缓存雪崩-cache-avalanche-「多个key访问-大规模失效」" class="header-anchor">#</a> 缓存雪崩（cache avalanche）「多个key访问+大规模失效」</h4> <ul><li>表示大量缓存都失效了，像雪崩一样。</li></ul> <p>​	当<strong>某一个时刻出现大规模的缓存失效</strong>的情况，那么就会导致<strong>大量的请求直接打在数据库上面</strong>，导致数据库压力巨大，如果在高并发的情况下，可能瞬间就会导致数据库宕机。</p> <p>​	这时候如果<strong>运维</strong>马上又重启数据库，<strong>马上又会有新的流量把数据库打死</strong>。这就是缓存雪崩。</p> <p>​	造成缓存雪崩的关键在于在<strong>同一时间大规模的key失效</strong>。为什么会出现这个问题呢，有几种可能，</p> <p>​	第一种可能是Redis宕机，第二种可能是采用了相同的过期时间。搞清楚原因之后，那么有什么解决方案呢？</p> <h4 id="缓存击穿-hotspot-invalid-「某1个key被同事大量访问-失效」"><a href="#缓存击穿-hotspot-invalid-「某1个key被同事大量访问-失效」" class="header-anchor">#</a> 缓存击穿？（hotspot invalid）「某1个key被同事大量访问+失效」</h4> <ul><li><p>==hotspot invalid明明翻译过来是热点失效==，硬是凑一组翻译成缓冲击穿..</p></li> <li><p>表示缓存数据失效了。和cache penetration（缓存穿透）的区别是缓存的key还是存在的，只是这个key的数据失效了</p></li></ul> <p>​	其实跟缓存雪崩有点类似，缓存雪崩是大规模的key失效，而缓存击穿是<strong>一个热点的Key</strong>，<strong>有大并发集中对其进行访问，突然间这个Key失效了，导致大并发全部打在数据库上</strong>，导致数据库压力剧增。这种现象就叫做缓存击穿。</p> <h4 id="缓存穿透-cache-penetration-表示程序要访问的缓存key不在缓存key的-取值范围-里。"><a href="#缓存穿透-cache-penetration-表示程序要访问的缓存key不在缓存key的-取值范围-里。" class="header-anchor">#</a> 缓存穿透？(cache penetration)表示程序要访问的缓存key不在缓存key的==取值范围==里。</h4> <p>​	我们使用Redis大部分情况都是通过Key查询对应的值，假如<strong>发送的请求传进来的key是不存在Redis中的</strong>，那么就查不到缓存，查不到缓存就会去数据库查询。假如有大量这样的请求，这些请求像“穿透”了缓存一样直接打在数据库上，这种现象就叫做缓存穿透。</p> <p>​	==关键在于在Redis查不到key值，这和缓存击穿有根本的区别==，区别在于<strong>缓存穿透的情况是传进来的key在Redis中是不存在的</strong>。假如有黑客传进大量的不存在的key，那么大量的请求打在数据库上是很致命的问题，所以在日常开发中要对参数做好校验，一些非法的参数，不可能存在的key就直接返回错误提示，要对调用方保持这种“不信任”的心态。</p> <p><strong>解决方案：</strong></p> <p>1、<strong>把无效的Key存进Redis中</strong>。如果Redis查不到数据，数据库也查不到，我们把这个Key值保存进Redis，设置value=&quot;null&quot;，当下次再通过这个Key查询时就不需要再查询数据库。这种处理方式肯定是有问题的，假如传进来的这个不存在的Key值每次都是随机的，那存进Redis也没有意义。</p> <p>2、<strong>使用==布隆过滤器==</strong>。布隆过滤器的作用是某个 key 不存在，那么就一定不存在，它说某个 key 存在，那么很大可能是存在(存在一定的误判率)。于是我们可以在缓存之前再加一层布隆过滤器，在查询的时候先去布隆过滤器查询 key 是否存在，如果不存在就直接返回。</p> <p>​	这三个问题==在使用Redis的时候是肯定会遇到的，而且是非常致命性的问题==，所以在日常开发中一定要注意，每次使用Redis时，都要对其保持严谨的态度。还有一个需要注意的是要做好<strong>熔断</strong>，一旦出现缓存雪崩，击穿，穿透这种情况，至少还有熔断机制保护数据库不会被打死。</p> <h4 id="记忆技巧"><a href="#记忆技巧" class="header-anchor">#</a> 记忆技巧：</h4> <p>缓存雪崩很形象了，就是<strong>大量key没了</strong>，请求像雪崩一样打到数据库；</p> <p>缓存击穿也挺形象，就是<strong>单个key没了，但是它是热点</strong>，redis这个盾没防住，大量针对一个key的请求像剑一样刺向数据库；</p> <p>缓存穿透就很好理解了， 穿透了嘛，<strong>数据库里也没这个数据，连数据库也一起透心凉心飞扬</strong>!</p> <ul><li>参考<a href="https://zhuanlan.zhihu.com/p/346651831" target="_blank" rel="noopener noreferrer">资料<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="_1-请你回答一下2种nosql的区别mongodb和redis"><a href="#_1-请你回答一下2种nosql的区别mongodb和redis" class="header-anchor">#</a> 1.请你回答一下2种NoSQL的区别mongodb和redis</h3> <ul><li><strong>内存管理</strong>机制上：</li></ul> <p><code>Redis 数据</code><strong>全部存在内存</strong>，<strong>定期写入磁盘</strong>，当内存不够时，可以选择指定的 LRU 算法<strong>删除</strong>数据。</p> <p>MongoDB 数据存在内存，由 linux系统 mmap 实现，当内存不够时，只将<strong>热点数据放入内存</strong>，<strong>其他数据存在磁盘。</strong></p> <ul><li><strong>支持的数据结构</strong>上：</li></ul> <p>Redis 支持的数据结构丰富，包括hash、set、list等。</p> <p>MongoDB 数据结构比较单一，但是支持丰富的<code>数据表达</code>，索引，最类似关系型数据库，支持的查询语言非常丰富</p> <h3 id="_2-请你来说一下redis和memcached的区别"><a href="#_2-请你来说一下redis和memcached的区别" class="header-anchor">#</a> 2.请你来说一下Redis和memcached的区别？</h3> <p>Memcached是一个自由开源的，高性能，分布式内存对象缓存系统。</p> <ul><li><p>Memcached的<a href="https://www.runoob.com/memcached/memcached-tutorial.html" target="_blank" rel="noopener noreferrer">菜鸟教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>1）数据类型 ：</p> <ul><li>redis数据类型丰富，支持set liset等类型；</li> <li>memcache支持简单数据类型，需要客户端自己处理复杂对象</li></ul></li> <li><p>2）持久性：</p> <ul><li>redis支持数据落地持久化存储；</li> <li>memcache不支持数据持久存储。</li></ul></li> <li><p>3）分布式存储：</p> <ul><li>redis支持master-slave复制模式；</li> <li>memcache可以使用一致性hash做分布式。</li></ul></li> <li><p>4）value大小不同：</p> <ul><li>memcache是一个内存缓存，key的长度小于250字符，单个item存储要小于1M，不适合虚拟机使用</li></ul></li> <li><p>5）数据一致性不同：</p> <ul><li>redis使用的是单线程模型，保证了数据按顺序提交；</li> <li>memcache需要使用cas保证数据一致性。CAS（Check and Set）是一个确保并发一致性的机制，属于“乐观锁”范畴；原理很简单：拿版本号，操作，对比版本号，如果一致就操作，不一致就放弃任何操作</li></ul></li> <li><p>6）cpu利用：</p> <ul><li>redis单线程模型只能使用一个cpu，可以开启多个redis进程</li></ul></li></ul> <h3 id="_5-2-请你来说一说redis的定时机制怎么实现的"><a href="#_5-2-请你来说一说redis的定时机制怎么实现的" class="header-anchor">#</a> 5.2.请你来说一说Redis的定时机制怎么实现的</h3> <ul><li><p>Redis服务器是一个事件驱动程序，服务器需要处理以下两类事件：</p> <ul><li><strong>文件</strong>事件（服务器对套接字操作的抽象）</li> <li>时间事件（服务器对定时操作的抽象）。Redis的定时机制就是借助时间事件实现的。</li></ul></li> <li><p>一个时间事件主要由以下三个属性组成：</p> <ul><li>id：时间事件标识号；</li> <li>when：记录时间事件的到达时间；</li> <li>timeProc：时间事件处理器，当时间事件到达时，服务器就会调用相应的处理器来处理时间。一个时间事件根据时间事件处理器的返回值来判断是定时事件还是周期性事件</li></ul></li></ul> <h3 id="_5-3-请你来说一说redis是单线程的-但是为什么这么高效呢"><a href="#_5-3-请你来说一说redis是单线程的-但是为什么这么高效呢" class="header-anchor">#</a> 5.3.请你来说一说Redis是单线程的，但是为什么这么高效呢?</h3> <p>​	虽然Redis文件事件处理器以单线程方式运行，但是通过使用<strong>I/O多路复用</strong>程序来监听多个套接字，文件事件处理器既实现了高性能的网络通信模型，又可以很好地与Redis服务器中其他同样以单线程运行的模块进行对接，这保持了Redis内部单线程设计的简单性。</p> <p><font style="background:yellow;">单个reactor？</font></p> <h3 id="_5-4-请自己设计一下如何采用单线程的方式处理高并发"><a href="#_5-4-请自己设计一下如何采用单线程的方式处理高并发" class="header-anchor">#</a> 5.4.请自己设计一下如何采用单线程的方式处理高并发</h3> <p>在单线程模型中，可以采用I/O复用来提高单线程处理多个请求的能力，然后再采用<strong>事件驱动模型</strong>，基于异步回调来处理事件来</p> <h3 id="_5-6-请问redis的rehash怎么做的-为什么要渐进rehash-渐进rehash又是怎么实现的"><a href="#_5-6-请问redis的rehash怎么做的-为什么要渐进rehash-渐进rehash又是怎么实现的" class="header-anchor">#</a> 5.6.请问Redis的rehash怎么做的，为什么要渐进rehash，渐进rehash又是怎么实现的?</h3> <p>因为redis是单线程，当K很多时，如果一次性将键值对全部rehash，<strong>庞大的计算量会影响服务器性能</strong>，甚至可能会导致服务器在一段时间内停止服务。不可能一步完成整个rehash操作，所以redis是<strong>分多次</strong>、<strong>渐进式</strong>的rehash。<strong>渐进性哈希</strong>分为两种：</p> <ul><li>1）操作redis时，额外做一步rehash</li></ul> <p>对redis做读取、插入、删除等操作时，会把位于table[dict-&gt;rehashidx]位置的链表移动到新的dictht中，然后把rehashidx做加一操作，移动到后面一个槽位。</p> <ul><li>2）后台定时任务调用rehash</li></ul> <p>后台定时任务rehash调用链，同时可以通过server.hz控制rehash调用频率</p> <h3 id="请问redis怎么实现的定期删除功能"><a href="#请问redis怎么实现的定期删除功能" class="header-anchor">#</a> 请问Redis怎么实现的定期删除功能</h3> <h3 id="_5-9-请你说一说redis对应的命令和数据类型"><a href="#_5-9-请你说一说redis对应的命令和数据类型" class="header-anchor">#</a> 5.9.请你说一说Redis对应的命令和数据类型.</h3> <p>key操作常用命令:del,exists,expire,rename</p> <p>string 操作常用命令:set get incr decr del apend</p> <p>hash 操作常用命令:hset hget hdel</p> <p>list 操作常用命令:lpush rpush lpop rpop lset lindex</p> <p>set 操作常用命令:sadd srem sunion sdiff sinter</p> <p>zset 操作常用命令:zadd zrem</p> <blockquote><p>参考：牛客网</p></blockquote> <h2 id="redis分布式锁"><a href="#redis分布式锁" class="header-anchor">#</a> redis分布式锁</h2> <h2 id="怎么保证redis和数据库一致性"><a href="#怎么保证redis和数据库一致性" class="header-anchor">#</a> 怎么保证redis和数据库一致性</h2> <h3 id="_1-旁路缓存"><a href="#_1-旁路缓存" class="header-anchor">#</a> 1.旁路缓存</h3> <h3 id="_2-缓存"><a href="#_2-缓存" class="header-anchor">#</a> 2.缓存</h3> <h2 id="聊聊redis的数据热点问题"><a href="#聊聊redis的数据热点问题" class="header-anchor">#</a> 聊聊Redis的数据热点问题</h2> <p>什么是Redis热点？</p> <p>数据热点就是数据访问局部性的体现，具体表现就是Redis中某个Key的访问频次远大于其他剩余的Key，我们也有一句俗语来形容这种现象<strong>旱的旱死，涝的涝死</strong></p> <p>我们来举个简单的例子，相信大家都在微博上吃过瓜，当有大瓜出现时，微博上会迅速涌入一批用户检索相关信息，疯狂访问同一份微博（数据），这种情况下这份数据就是热点数据，如果数据太“热”最终会导致微博挂掉，实际上微博挂掉的情况已经出现很多次了，不是因为微博技术不行，而是因为热点问题太可怕。</p> <p>作者：xindoo
链接：https://juejin.cn/post/7142136519774437390</p> <h2 id="redis热点如何避免"><a href="#redis热点如何避免" class="header-anchor">#</a> Redis热点如何避免？</h2> <p>​	上文也说到，热点问题其实是局部性问题，而局部性问题的避免其实非常难，<strong>任何分布式系统几乎都会受局部性的影响</strong>。面对这种问题，说实话没<strong>有绝对可以避免的方式</strong>，<strong>只能提前通过分析数据的特性</strong>，做好相应的措施。<strong>说白了就是靠经验</strong>，不知道大家有啥其他好的思路，可以在评论区探讨下。</p> <h3 id="你项目里用到了redis-说下你怎么用redis的-redis还有哪些具体应用场景"><a href="#你项目里用到了redis-说下你怎么用redis的-redis还有哪些具体应用场景" class="header-anchor">#</a> 你项目里用到了redis，说下你怎么用redis的，redis还有哪些具体应用场景</h3> <h3 id="redis的持久化有哪些方式"><a href="#redis的持久化有哪些方式" class="header-anchor">#</a> redis的持久化有哪些方式</h3> <h3 id="aof和rdb分别有什么优势和缺点-实际应用场景怎么选择"><a href="#aof和rdb分别有什么优势和缺点-实际应用场景怎么选择" class="header-anchor">#</a> aof和rdb分别有什么优势和缺点，实际应用场景怎么选择</h3> <h3 id="redis是单线程-为什么性能还这么好-说具体一点"><a href="#redis是单线程-为什么性能还这么好-说具体一点" class="header-anchor">#</a> redis是单线程，为什么性能还这么好，说具体一点</h3> <h3 id="说一下redis实现的session分布式登录-能不能从源码角度说一下"><a href="#说一下redis实现的session分布式登录-能不能从源码角度说一下" class="header-anchor">#</a> 说一下redis实现的session分布式登录，能不能从源码角度说一下</h3> <h3 id="redis实现分布式锁-存在什么问题-怎么解决"><a href="#redis实现分布式锁-存在什么问题-怎么解决" class="header-anchor">#</a> redis实现分布式锁，存在什么问题，怎么解决</h3> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li>Redis<a href="http://www.redis.cn/" target="_blank" rel="noopener noreferrer">中文网站<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Redis<a href="https://redis.io/" target="_blank" rel="noopener noreferrer">英文官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>《Redis设计与实现》</li> <li>Redis精讲，狂神说</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.981f84cc.js" defer></script><script src="/assets/js/2.443c6f9e.js" defer></script><script src="/assets/js/136.411f6ec4.js" defer></script>
  </body>
</html>
