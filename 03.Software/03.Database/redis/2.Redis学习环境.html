<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redis学习笔记 | whoway</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/images/photo.jpg">
    <link rel="manifest" href="/images/photo.jpg">
    <link rel="apple-touch-icon" href="/images/photo.jpg">
    <meta name="description" content="Personal Blog Website">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="/assets/js/app.06955493.js" as="script"><link rel="preload" href="/assets/js/2.443c6f9e.js" as="script"><link rel="preload" href="/assets/js/137.27880470.js" as="script"><link rel="prefetch" href="/assets/js/10.1723471b.js"><link rel="prefetch" href="/assets/js/100.59f255e3.js"><link rel="prefetch" href="/assets/js/101.e4ab9e90.js"><link rel="prefetch" href="/assets/js/102.697dbadc.js"><link rel="prefetch" href="/assets/js/103.1eff47af.js"><link rel="prefetch" href="/assets/js/104.a904c47d.js"><link rel="prefetch" href="/assets/js/105.095f1add.js"><link rel="prefetch" href="/assets/js/106.670da4fd.js"><link rel="prefetch" href="/assets/js/107.a8fdcb0b.js"><link rel="prefetch" href="/assets/js/108.90975e63.js"><link rel="prefetch" href="/assets/js/109.23efcbfe.js"><link rel="prefetch" href="/assets/js/11.7ede0041.js"><link rel="prefetch" href="/assets/js/110.78eae47a.js"><link rel="prefetch" href="/assets/js/111.c2748127.js"><link rel="prefetch" href="/assets/js/112.2707c5b9.js"><link rel="prefetch" href="/assets/js/113.ec9ca416.js"><link rel="prefetch" href="/assets/js/114.567a5fcf.js"><link rel="prefetch" href="/assets/js/115.5c847b56.js"><link rel="prefetch" href="/assets/js/116.ae7352ca.js"><link rel="prefetch" href="/assets/js/117.f71cbc82.js"><link rel="prefetch" href="/assets/js/118.ca27470c.js"><link rel="prefetch" href="/assets/js/119.0adb5c05.js"><link rel="prefetch" href="/assets/js/12.d1d774cd.js"><link rel="prefetch" href="/assets/js/120.a735a6f0.js"><link rel="prefetch" href="/assets/js/121.2ee771d0.js"><link rel="prefetch" href="/assets/js/122.3a0a525a.js"><link rel="prefetch" href="/assets/js/123.59b1ddfd.js"><link rel="prefetch" href="/assets/js/124.de755586.js"><link rel="prefetch" href="/assets/js/125.36e139b4.js"><link rel="prefetch" href="/assets/js/126.19702b75.js"><link rel="prefetch" href="/assets/js/127.46549990.js"><link rel="prefetch" href="/assets/js/128.6995d944.js"><link rel="prefetch" href="/assets/js/129.2d9b7924.js"><link rel="prefetch" href="/assets/js/13.85fbca07.js"><link rel="prefetch" href="/assets/js/130.7359854d.js"><link rel="prefetch" href="/assets/js/131.b9db7995.js"><link rel="prefetch" href="/assets/js/132.6b17c554.js"><link rel="prefetch" href="/assets/js/133.dac0a2d6.js"><link rel="prefetch" href="/assets/js/134.e0af491a.js"><link rel="prefetch" href="/assets/js/135.f02d0e65.js"><link rel="prefetch" href="/assets/js/136.b573efef.js"><link rel="prefetch" href="/assets/js/138.14c942cc.js"><link rel="prefetch" href="/assets/js/139.98191911.js"><link rel="prefetch" href="/assets/js/14.622c3b5a.js"><link rel="prefetch" href="/assets/js/140.a0733cf2.js"><link rel="prefetch" href="/assets/js/141.7aaf6717.js"><link rel="prefetch" href="/assets/js/142.adf1d6fd.js"><link rel="prefetch" href="/assets/js/143.988b070d.js"><link rel="prefetch" href="/assets/js/144.70849515.js"><link rel="prefetch" href="/assets/js/145.ce3959df.js"><link rel="prefetch" href="/assets/js/146.91403724.js"><link rel="prefetch" href="/assets/js/147.c3e77a2f.js"><link rel="prefetch" href="/assets/js/148.2e847bab.js"><link rel="prefetch" href="/assets/js/149.7e96fc39.js"><link rel="prefetch" href="/assets/js/15.07f05ee4.js"><link rel="prefetch" href="/assets/js/150.8bc2f9c7.js"><link rel="prefetch" href="/assets/js/151.27652ad6.js"><link rel="prefetch" href="/assets/js/152.8f89c661.js"><link rel="prefetch" href="/assets/js/153.41d654be.js"><link rel="prefetch" href="/assets/js/154.254a4ac4.js"><link rel="prefetch" href="/assets/js/155.1b0927e6.js"><link rel="prefetch" href="/assets/js/156.16837b02.js"><link rel="prefetch" href="/assets/js/157.48ee5e89.js"><link rel="prefetch" href="/assets/js/158.2aa40dbd.js"><link rel="prefetch" href="/assets/js/159.86fd4a98.js"><link rel="prefetch" href="/assets/js/16.53faa30a.js"><link rel="prefetch" href="/assets/js/160.6641a2be.js"><link rel="prefetch" href="/assets/js/161.bdd6fbff.js"><link rel="prefetch" href="/assets/js/162.bbe59b65.js"><link rel="prefetch" href="/assets/js/163.3e7eb251.js"><link rel="prefetch" href="/assets/js/164.9e8fbe95.js"><link rel="prefetch" href="/assets/js/165.b603cd8d.js"><link rel="prefetch" href="/assets/js/166.f66a2701.js"><link rel="prefetch" href="/assets/js/167.fcc8c1de.js"><link rel="prefetch" href="/assets/js/168.b9f6fa11.js"><link rel="prefetch" href="/assets/js/169.5aba6b47.js"><link rel="prefetch" href="/assets/js/17.6c788e13.js"><link rel="prefetch" href="/assets/js/170.4a7b2a8c.js"><link rel="prefetch" href="/assets/js/171.e2459532.js"><link rel="prefetch" href="/assets/js/172.81083cd1.js"><link rel="prefetch" href="/assets/js/173.f1ca0d1f.js"><link rel="prefetch" href="/assets/js/174.b41ffe81.js"><link rel="prefetch" href="/assets/js/175.1232b80e.js"><link rel="prefetch" href="/assets/js/176.dd343d53.js"><link rel="prefetch" href="/assets/js/177.b29175eb.js"><link rel="prefetch" href="/assets/js/178.cd742b18.js"><link rel="prefetch" href="/assets/js/179.2caa8403.js"><link rel="prefetch" href="/assets/js/18.873a8359.js"><link rel="prefetch" href="/assets/js/180.d353b12b.js"><link rel="prefetch" href="/assets/js/181.2bb6738b.js"><link rel="prefetch" href="/assets/js/182.a779185c.js"><link rel="prefetch" href="/assets/js/183.3a63d740.js"><link rel="prefetch" href="/assets/js/184.3ffd4e44.js"><link rel="prefetch" href="/assets/js/185.6d61cfb1.js"><link rel="prefetch" href="/assets/js/186.660baf15.js"><link rel="prefetch" href="/assets/js/187.91ebe7d6.js"><link rel="prefetch" href="/assets/js/188.38bdefea.js"><link rel="prefetch" href="/assets/js/189.8090add5.js"><link rel="prefetch" href="/assets/js/19.ee2c88d0.js"><link rel="prefetch" href="/assets/js/190.09de195a.js"><link rel="prefetch" href="/assets/js/191.ebb8ca15.js"><link rel="prefetch" href="/assets/js/192.a90e434d.js"><link rel="prefetch" href="/assets/js/193.25769d3b.js"><link rel="prefetch" href="/assets/js/194.81f448cc.js"><link rel="prefetch" href="/assets/js/195.1628cc5a.js"><link rel="prefetch" href="/assets/js/196.f6368776.js"><link rel="prefetch" href="/assets/js/197.deb79ae2.js"><link rel="prefetch" href="/assets/js/198.843d5641.js"><link rel="prefetch" href="/assets/js/199.f7196f83.js"><link rel="prefetch" href="/assets/js/20.39da0aac.js"><link rel="prefetch" href="/assets/js/200.58efec58.js"><link rel="prefetch" href="/assets/js/201.fa7d9b43.js"><link rel="prefetch" href="/assets/js/202.b94e58be.js"><link rel="prefetch" href="/assets/js/203.39846081.js"><link rel="prefetch" href="/assets/js/204.c88ae6f4.js"><link rel="prefetch" href="/assets/js/205.4e2af2fe.js"><link rel="prefetch" href="/assets/js/206.9c7e72bc.js"><link rel="prefetch" href="/assets/js/207.83e92a4a.js"><link rel="prefetch" href="/assets/js/208.da5026a6.js"><link rel="prefetch" href="/assets/js/209.101dd079.js"><link rel="prefetch" href="/assets/js/21.edd943cc.js"><link rel="prefetch" href="/assets/js/210.1bb0180d.js"><link rel="prefetch" href="/assets/js/211.57f53838.js"><link rel="prefetch" href="/assets/js/212.367bd113.js"><link rel="prefetch" href="/assets/js/213.276ea561.js"><link rel="prefetch" href="/assets/js/214.657d11a6.js"><link rel="prefetch" href="/assets/js/215.1c9bebdd.js"><link rel="prefetch" href="/assets/js/216.65e1d462.js"><link rel="prefetch" href="/assets/js/217.038e3ec7.js"><link rel="prefetch" href="/assets/js/218.da4054a5.js"><link rel="prefetch" href="/assets/js/219.81a8c5b5.js"><link rel="prefetch" href="/assets/js/22.1101d3a0.js"><link rel="prefetch" href="/assets/js/220.3e5851c6.js"><link rel="prefetch" href="/assets/js/221.e46e1e01.js"><link rel="prefetch" href="/assets/js/222.6d8d0535.js"><link rel="prefetch" href="/assets/js/223.c5514540.js"><link rel="prefetch" href="/assets/js/224.c5855112.js"><link rel="prefetch" href="/assets/js/225.722a4ebf.js"><link rel="prefetch" href="/assets/js/226.e5d6424e.js"><link rel="prefetch" href="/assets/js/227.e35d35a8.js"><link rel="prefetch" href="/assets/js/228.f176723d.js"><link rel="prefetch" href="/assets/js/229.894d7b34.js"><link rel="prefetch" href="/assets/js/23.1c64ff44.js"><link rel="prefetch" href="/assets/js/230.ad81a04e.js"><link rel="prefetch" href="/assets/js/231.f408e391.js"><link rel="prefetch" href="/assets/js/232.0f48e563.js"><link rel="prefetch" href="/assets/js/24.f57a24cc.js"><link rel="prefetch" href="/assets/js/25.6c1f3e52.js"><link rel="prefetch" href="/assets/js/26.fff5042b.js"><link rel="prefetch" href="/assets/js/27.fb2ac419.js"><link rel="prefetch" href="/assets/js/28.ed31c988.js"><link rel="prefetch" href="/assets/js/29.9f14ff8d.js"><link rel="prefetch" href="/assets/js/3.04997b3a.js"><link rel="prefetch" href="/assets/js/30.2ff65a58.js"><link rel="prefetch" href="/assets/js/31.388bee23.js"><link rel="prefetch" href="/assets/js/32.2bdd0898.js"><link rel="prefetch" href="/assets/js/33.92037cd2.js"><link rel="prefetch" href="/assets/js/34.2b9377f8.js"><link rel="prefetch" href="/assets/js/35.e6469324.js"><link rel="prefetch" href="/assets/js/36.20267bfe.js"><link rel="prefetch" href="/assets/js/37.738ddf6b.js"><link rel="prefetch" href="/assets/js/38.6e536ad3.js"><link rel="prefetch" href="/assets/js/39.356955ac.js"><link rel="prefetch" href="/assets/js/4.1344c7bc.js"><link rel="prefetch" href="/assets/js/40.b210e6fc.js"><link rel="prefetch" href="/assets/js/41.dc08fc34.js"><link rel="prefetch" href="/assets/js/42.71d97baf.js"><link rel="prefetch" href="/assets/js/43.25c6b21a.js"><link rel="prefetch" href="/assets/js/44.18c4ae8f.js"><link rel="prefetch" href="/assets/js/45.4c20a706.js"><link rel="prefetch" href="/assets/js/46.28a5de67.js"><link rel="prefetch" href="/assets/js/47.fe6ca44a.js"><link rel="prefetch" href="/assets/js/48.ee360b71.js"><link rel="prefetch" href="/assets/js/49.1187f6a5.js"><link rel="prefetch" href="/assets/js/5.fd7bf5b2.js"><link rel="prefetch" href="/assets/js/50.d7a544eb.js"><link rel="prefetch" href="/assets/js/51.8673b661.js"><link rel="prefetch" href="/assets/js/52.79609f7d.js"><link rel="prefetch" href="/assets/js/53.b16a359f.js"><link rel="prefetch" href="/assets/js/54.aa840cf0.js"><link rel="prefetch" href="/assets/js/55.114bb898.js"><link rel="prefetch" href="/assets/js/56.3035e2dc.js"><link rel="prefetch" href="/assets/js/57.7545af97.js"><link rel="prefetch" href="/assets/js/58.b62eaa3c.js"><link rel="prefetch" href="/assets/js/59.fad76245.js"><link rel="prefetch" href="/assets/js/6.a31d63d5.js"><link rel="prefetch" href="/assets/js/60.9f03cc4e.js"><link rel="prefetch" href="/assets/js/61.6f59d3b5.js"><link rel="prefetch" href="/assets/js/62.4eeb0d34.js"><link rel="prefetch" href="/assets/js/63.9e03974e.js"><link rel="prefetch" href="/assets/js/64.a3a6ff0f.js"><link rel="prefetch" href="/assets/js/65.1f360481.js"><link rel="prefetch" href="/assets/js/66.9e9794a2.js"><link rel="prefetch" href="/assets/js/67.7780a4ee.js"><link rel="prefetch" href="/assets/js/68.42f06cfd.js"><link rel="prefetch" href="/assets/js/69.9afcda02.js"><link rel="prefetch" href="/assets/js/7.5722c9b9.js"><link rel="prefetch" href="/assets/js/70.daccee5e.js"><link rel="prefetch" href="/assets/js/71.80778e1e.js"><link rel="prefetch" href="/assets/js/72.0e749b99.js"><link rel="prefetch" href="/assets/js/73.a61fe5e6.js"><link rel="prefetch" href="/assets/js/74.1a461b9f.js"><link rel="prefetch" href="/assets/js/75.322ee06b.js"><link rel="prefetch" href="/assets/js/76.37cc3428.js"><link rel="prefetch" href="/assets/js/77.1dc37573.js"><link rel="prefetch" href="/assets/js/78.5c1310f7.js"><link rel="prefetch" href="/assets/js/79.b9aec0b5.js"><link rel="prefetch" href="/assets/js/8.d86051cb.js"><link rel="prefetch" href="/assets/js/80.c5168dff.js"><link rel="prefetch" href="/assets/js/81.3d16e7e4.js"><link rel="prefetch" href="/assets/js/82.b04195a7.js"><link rel="prefetch" href="/assets/js/83.e5052de4.js"><link rel="prefetch" href="/assets/js/84.da287a51.js"><link rel="prefetch" href="/assets/js/85.9c5a2cd9.js"><link rel="prefetch" href="/assets/js/86.b36c5034.js"><link rel="prefetch" href="/assets/js/87.121f36b1.js"><link rel="prefetch" href="/assets/js/88.1b481503.js"><link rel="prefetch" href="/assets/js/89.9ed49240.js"><link rel="prefetch" href="/assets/js/9.af54c745.js"><link rel="prefetch" href="/assets/js/90.88569b62.js"><link rel="prefetch" href="/assets/js/91.23b68bc6.js"><link rel="prefetch" href="/assets/js/92.9e2f0065.js"><link rel="prefetch" href="/assets/js/93.abbab344.js"><link rel="prefetch" href="/assets/js/94.8a8660f6.js"><link rel="prefetch" href="/assets/js/95.6eef34b1.js"><link rel="prefetch" href="/assets/js/96.73fd50ae.js"><link rel="prefetch" href="/assets/js/97.ac1b0562.js"><link rel="prefetch" href="/assets/js/98.a3796a21.js"><link rel="prefetch" href="/assets/js/99.e4bb8859.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">whoway</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎓Coding" class="dropdown-title"><span class="title">🎓Coding</span> <span class="arrow down"></span></button> <button type="button" aria-label="🎓Coding" class="mobile-dropdown-title"><span class="title">🎓Coding</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/00.Coding/TheBeautyOfProgramming/" class="nav-link">
  🔖编程之美题解
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/CodeWarehouse/" class="nav-link">
  🔖代码意识流
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/" class="nav-link">
  🔖面试题题解
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀语言" class="dropdown-title"><span class="title">🚀语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="🚀语言" class="mobile-dropdown-title"><span class="title">🚀语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/01.Language/Overview/" class="nav-link">
  🔖概述
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/C/" class="nav-link">
  ⭐️C
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Cpp/" class="nav-link">
  🚀C++
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Java/" class="nav-link">
  ☕️Java
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Python/" class="nav-link">
  🧩Python3
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Fortran/" class="nav-link">
  🎲Fortran
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/JavaScript/" class="nav-link">
  🎨JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/02.Hardware/" class="nav-link">
  ✔️硬件基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⭐️软件基础" class="dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="⭐️软件基础" class="mobile-dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/03.Software/01.DataStructureAndAlgorithm/" class="nav-link">
  🐾数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/02.server/" class="nav-link">
  🎨server
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/03.Database/" class="nav-link router-link-active">
  🔖数据库
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/04.SE/" class="nav-link">
  ✅软件工程
</a></li></ul></div></div><div class="nav-item"><a href="/04.PerformanceOpt/" class="nav-link">
  🔥性能调优
</a></div><div class="nav-item"><a href="/05.Engineer/" class="nav-link">
  🔖学术/工程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⚙️工具" class="dropdown-title"><span class="title">⚙️工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="⚙️工具" class="mobile-dropdown-title"><span class="title">⚙️工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/06.Tools/01.employment/" class="nav-link">
  🔖求职
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/02.efficiency/" class="nav-link">
  🚀效能
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/03.windows/" class="nav-link">
  ⚙️Windows
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/04.design/" class="nav-link">
  🧩设计
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/whoway" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎓Coding" class="dropdown-title"><span class="title">🎓Coding</span> <span class="arrow down"></span></button> <button type="button" aria-label="🎓Coding" class="mobile-dropdown-title"><span class="title">🎓Coding</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/00.Coding/TheBeautyOfProgramming/" class="nav-link">
  🔖编程之美题解
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/CodeWarehouse/" class="nav-link">
  🔖代码意识流
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/" class="nav-link">
  🔖面试题题解
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀语言" class="dropdown-title"><span class="title">🚀语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="🚀语言" class="mobile-dropdown-title"><span class="title">🚀语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/01.Language/Overview/" class="nav-link">
  🔖概述
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/C/" class="nav-link">
  ⭐️C
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Cpp/" class="nav-link">
  🚀C++
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Java/" class="nav-link">
  ☕️Java
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Python/" class="nav-link">
  🧩Python3
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Fortran/" class="nav-link">
  🎲Fortran
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/JavaScript/" class="nav-link">
  🎨JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/02.Hardware/" class="nav-link">
  ✔️硬件基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⭐️软件基础" class="dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="⭐️软件基础" class="mobile-dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/03.Software/01.DataStructureAndAlgorithm/" class="nav-link">
  🐾数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/02.server/" class="nav-link">
  🎨server
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/03.Database/" class="nav-link router-link-active">
  🔖数据库
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/04.SE/" class="nav-link">
  ✅软件工程
</a></li></ul></div></div><div class="nav-item"><a href="/04.PerformanceOpt/" class="nav-link">
  🔥性能调优
</a></div><div class="nav-item"><a href="/05.Engineer/" class="nav-link">
  🔖学术/工程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⚙️工具" class="dropdown-title"><span class="title">⚙️工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="⚙️工具" class="mobile-dropdown-title"><span class="title">⚙️工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/06.Tools/01.employment/" class="nav-link">
  🔖求职
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/02.efficiency/" class="nav-link">
  🚀效能
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/03.windows/" class="nav-link">
  ⚙️Windows
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/04.design/" class="nav-link">
  🧩设计
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/whoway" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Redis学习笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#目录" class="sidebar-link">目录</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_1-搭建redis学习环境-环境配置⭐️" class="sidebar-link">1.搭建Redis学习环境-环境配置⭐️</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_1-1-安装路径" class="sidebar-link">1.1.安装路径</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_1-2-配置" class="sidebar-link">1.2.配置</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_1-3-查看redis的进程是否开始" class="sidebar-link">1.3.查看redis的进程是否开始</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_1-4-配置文件redis-conf" class="sidebar-link">1.4.配置文件redis.conf</a></li></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_2-性能测试-redis-benchmark" class="sidebar-link">2.性能测试-redis-benchmark</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_2-1-redis-benchmark怎么带密码。" class="sidebar-link">2.1.redis-benchmark怎么带密码。</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_2-2-如何查看benchmark这些分析呢" class="sidebar-link">2.2.如何查看benchmark这些分析呢？</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_2-3-注意-进行完redis-benchmark后-我们发现数据库里面被加入了一些key和value" class="sidebar-link">2.3.注意-进行完redis-benchmark后，我们发现数据库里面被加入了一些key和value</a></li></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_3-another-redis-desktop-manager" class="sidebar-link">3.Another Redis Desktop Manager</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_3-1-远程使用-another连接服务器的redis" class="sidebar-link">3.1.远程使用-another连接服务器的redis</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_3-2-介绍软件" class="sidebar-link">3.2.介绍软件</a></li></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_4-redis基础知识-命令行⭐️" class="sidebar-link">4.redis基础知识+命令行⭐️</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_4-1-常用命令" class="sidebar-link">4.1.常用命令</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_4-2-面试-为什么redis是单线程" class="sidebar-link">4.2.面试-为什么redis是单线程？</a></li></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_5-redis的5大基本-数据类型⭐️" class="sidebar-link">5.redis的5大基本-数据类型⭐️</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#redis-key的介绍redis键-key" class="sidebar-link">Redis-Key的介绍Redis键（key）</a></li></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_6-redis的4种特殊数据类型⭐️" class="sidebar-link">6.redis的4种特殊数据类型⭐️</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_6-1geo地理位置geospatial" class="sidebar-link">6.1GEO地理位置geospatial</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_6-2-hyperloglog-超日志" class="sidebar-link">6.2.HyperLogLog-超日志</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_6-3-bitmap" class="sidebar-link">6.3.BitMap</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_6-4-stream" class="sidebar-link">6.4.stream</a></li></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#持久化" class="sidebar-link">持久化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_1-rdb-redis-database-redis默认开启" class="sidebar-link">1.RDB（redis DataBase）redis默认开启</a></li><li class="sidebar-sub-header"><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_2-aof-append-only-file-默认是不开启的" class="sidebar-link">2.AOF（Append only File）默认是不开启的</a></li></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_7-redis鸡肋的功能" class="sidebar-link">7.Redis鸡肋的功能</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#_9-使用java的jredis" class="sidebar-link">9.使用Java的Jredis</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#redis除了缓存外的用途" class="sidebar-link">Redis除了缓存外的用途</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#redis的monitor和发布订阅的区别" class="sidebar-link">redis的monitor和发布订阅的区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/03.Software/03.Database/redis/2.Redis%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83.html#参考资料" class="sidebar-link">参考资料</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="redis学习笔记"><a href="#redis学习笔记" class="header-anchor">#</a> Redis学习笔记</h1> <h2 id="目录"><a href="#目录" class="header-anchor">#</a> 目录</h2> <p>[TOC]</p> <p></p><div class="table-of-contents"><ul><li><a href="#目录">目录</a></li><li><a href="#_1-搭建redis学习环境-环境配置⭐️">1.搭建Redis学习环境-环境配置⭐️</a><ul><li><a href="#_1-1-安装路径">1.1.安装路径</a></li><li><a href="#_1-2-配置">1.2.配置</a></li><li><a href="#_1-3-查看redis的进程是否开始">1.3.查看redis的进程是否开始</a></li><li><a href="#_1-4-配置文件redis-conf">1.4.配置文件redis.conf</a></li></ul></li><li><a href="#_2-性能测试-redis-benchmark">2.性能测试-redis-benchmark</a><ul><li><a href="#_2-1-redis-benchmark怎么带密码。">2.1.redis-benchmark怎么带密码。</a></li><li><a href="#_2-2-如何查看benchmark这些分析呢">2.2.如何查看benchmark这些分析呢？</a></li><li><a href="#_2-3-注意-进行完redis-benchmark后-我们发现数据库里面被加入了一些key和value">2.3.注意-进行完redis-benchmark后，我们发现数据库里面被加入了一些key和value</a></li></ul></li><li><a href="#_3-another-redis-desktop-manager">3.Another Redis Desktop Manager</a><ul><li><a href="#_3-1-远程使用-another连接服务器的redis">3.1.远程使用-another连接服务器的redis</a></li><li><a href="#_3-2-介绍软件">3.2.介绍软件</a></li></ul></li><li><a href="#_4-redis基础知识-命令行⭐️">4.redis基础知识+命令行⭐️</a><ul><li><a href="#_4-1-常用命令">4.1.常用命令</a></li><li><a href="#_4-2-面试-为什么redis是单线程">4.2.面试-为什么redis是单线程？</a></li></ul></li><li><a href="#_5-redis的5大基本-数据类型⭐️">5.redis的5大基本-数据类型⭐️</a><ul><li><a href="#redis-key的介绍redis键-key">Redis-Key的介绍Redis键（key）</a></li></ul></li><li><a href="#_6-redis的4种特殊数据类型⭐️">6.redis的4种特殊数据类型⭐️</a><ul><li><a href="#_6-1geo地理位置geospatial">6.1GEO地理位置geospatial</a></li><li><a href="#_6-2-hyperloglog-超日志">6.2.HyperLogLog-超日志</a></li><li><a href="#_6-3-bitmap">6.3.BitMap</a></li><li><a href="#_6-4-stream">6.4.stream</a></li></ul></li><li><a href="#持久化">持久化</a><ul><li><a href="#_1-rdb-redis-database-redis默认开启">1.RDB（redis DataBase）redis默认开启</a></li><li><a href="#_2-aof-append-only-file-默认是不开启的">2.AOF（Append only File）默认是不开启的</a></li></ul></li><li><a href="#_7-redis鸡肋的功能">7.Redis鸡肋的功能</a></li><li><a href="#_9-使用java的jredis">9.使用Java的Jredis</a></li><li><a href="#redis除了缓存外的用途">Redis除了缓存外的用途</a></li><li><a href="#redis的monitor和发布订阅的区别">redis的monitor和发布订阅的区别</a></li><li><a href="#参考资料">参考资料</a></li></ul></div><p></p> <h2 id="_1-搭建redis学习环境-环境配置⭐️"><a href="#_1-搭建redis学习环境-环境配置⭐️" class="header-anchor">#</a> 1.搭建Redis学习环境-环境配置⭐️</h2> <h3 id="_1-1-安装路径"><a href="#_1-1-安装路径" class="header-anchor">#</a> 1.1.安装路径</h3> <ul><li>记得联网！</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gcc g++
<span class="token function">apt-get</span> <span class="token function">install</span> pkg-config

<span class="token function">nohup</span> <span class="token function">make</span> <span class="token operator">&gt;</span> whoway.sh <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span>
<span class="token function">make</span> <span class="token function">install</span>

<span class="token comment">#root</span>
<span class="token builtin class-name">cd</span> /usr/local/bin/

<span class="token comment">#others 默认安装路径</span>
<span class="token builtin class-name">cd</span> /usr/bin/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>root@hecs-358761:/usr/local/bin<span class="token comment"># ll</span>
total <span class="token number">23532</span>
drwxr-xr-x  <span class="token number">2</span> root root     <span class="token number">4096</span> Apr  <span class="token number">6</span> <span class="token number">12</span>:02 ./
drwxr-xr-x <span class="token number">11</span> root root     <span class="token number">4096</span> Feb <span class="token number">24</span>  <span class="token number">2022</span> <span class="token punctuation">..</span>/
-rwxr-xr-x  <span class="token number">1</span> root root      <span class="token number">966</span> Feb <span class="token number">24</span>  <span class="token number">2022</span> cloud-id*
-rwxr-xr-x  <span class="token number">1</span> root root      <span class="token number">970</span> Feb <span class="token number">24</span>  <span class="token number">2022</span> cloud-init*
-rwxr-xr-x  <span class="token number">1</span> root root     <span class="token number">2108</span> Feb <span class="token number">24</span>  <span class="token number">2022</span> cloud-init-per*
-rwxr-xr-x  <span class="token number">1</span> root root     <span class="token number">1003</span> Feb <span class="token number">24</span>  <span class="token number">2022</span> jsondiff*
-rwxr-xr-x  <span class="token number">1</span> root root     <span class="token number">3858</span> Feb <span class="token number">24</span>  <span class="token number">2022</span> jsonpatch*
-rwxr-xr-x  <span class="token number">1</span> root root     <span class="token number">1837</span> Feb <span class="token number">24</span>  <span class="token number">2022</span> jsonpointer*
-rwxr-xr-x  <span class="token number">1</span> root root      <span class="token number">973</span> Feb <span class="token number">24</span>  <span class="token number">2022</span> jsonschema*
-rwxr-xr-x  <span class="token number">1</span> root root  <span class="token number">5886560</span> Apr  <span class="token number">6</span> <span class="token number">12</span>:02 redis-benchmark*
lrwxrwxrwx  <span class="token number">1</span> root root       <span class="token number">12</span> Apr  <span class="token number">6</span> <span class="token number">12</span>:02 redis-check-aof -<span class="token operator">&gt;</span> redis-server*
lrwxrwxrwx  <span class="token number">1</span> root root       <span class="token number">12</span> Apr  <span class="token number">6</span> <span class="token number">12</span>:02 redis-check-rdb -<span class="token operator">&gt;</span> redis-server*
-rwxr-xr-x  <span class="token number">1</span> root root  <span class="token number">5789224</span> Apr  <span class="token number">6</span> <span class="token number">12</span>:02 redis-cli*
lrwxrwxrwx  <span class="token number">1</span> root root       <span class="token number">12</span> Apr  <span class="token number">6</span> <span class="token number">12</span>:02 redis-sentinel -<span class="token operator">&gt;</span> redis-server*
-rwxr-xr-x  <span class="token number">1</span> root root <span class="token number">12375472</span> Apr  <span class="token number">6</span> <span class="token number">12</span>:02 redis-server*
root@hecs-358761:/usr/local/bin<span class="token comment">#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_1-2-配置"><a href="#_1-2-配置" class="header-anchor">#</a> 1.2.配置</h3> <p>redis默认不是后台启动的，，需要修改配置文件</p> <p>默认是在本机运行，需要修改ip</p> <p>默认端口是6379</p> <p>通过指定的配置文件启动</p> <ul><li>启动服务的时候，可以通过指定的配置文件</li> <li>我们未来要启动集群的话，我们就要启动好多个这样的服务
<ul><li>比如redis-conf1 redis-conf2</li></ul></li> <li>我们也可以单机，多redis</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>root@hecs-358761:/usr/local/bin<span class="token comment"># redis-server whoway-config/redis.conf</span>


<span class="token comment">#使用redis客户端进行连接</span>
root@hecs-358761:/usr/local/bin<span class="token comment"># redis-cli -p 6379</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">ping</span>
PONG
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> name whoway
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get name
<span class="token string">&quot;whoway&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get nme
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_1-3-查看redis的进程是否开始"><a href="#_1-3-查看redis的进程是否开始" class="header-anchor">#</a> 1.3.查看redis的进程是否开始</h3> <p>查看redis的进程是否开启</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> redis

root@hecs-358761:~<span class="token comment"># ps -ef | grep redis</span>
root      <span class="token number">8991</span>     <span class="token number">1</span>  <span class="token number">0</span> <span class="token number">12</span>:16 ?        00:00:00 redis-server <span class="token number">127.0</span>.0.1:6379
root      <span class="token number">8996</span>  <span class="token number">2665</span>  <span class="token number">0</span> <span class="token number">12</span>:16 pts/0    00:00:00 redis-cli <span class="token parameter variable">-p</span> <span class="token number">6379</span>
root      <span class="token number">9088</span>  <span class="token number">9071</span>  <span class="token number">0</span> <span class="token number">12</span>:19 pts/1    00:00:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto redis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>如何关闭redis服务呢？</p> <p>回顾，linux关机命令shutdown</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">shutdown</span>  <span class="token comment">#关闭redis的server</span>
not connected<span class="token operator">&gt;</span> <span class="token builtin class-name">exit</span>  <span class="token comment">#所以才not connect， exit是退出redis-cli</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_1-4-配置文件redis-conf"><a href="#_1-4-配置文件redis-conf" class="header-anchor">#</a> 1.4.配置文件redis.conf</h3> <h2 id="_2-性能测试-redis-benchmark"><a href="#_2-性能测试-redis-benchmark" class="header-anchor">#</a> 2.性能测试-redis-benchmark</h2> <ul><li>这个benchmark的参考选项：<a href="https://www.runoob.com/redis/redis-benchmarks.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/redis/redis-benchmarks.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>redis-benchmark是一个压力测试工具</p> <p>官方自带的性能测试工具</p> <p>指定测试机器，指定并发数目（默认是50），指定请求数（默认是1W）</p> <p>我们来简单测试一下</p> <h3 id="_2-1-redis-benchmark怎么带密码。"><a href="#_2-1-redis-benchmark怎么带密码。" class="header-anchor">#</a> 2.1.redis-benchmark怎么带密码。</h3> <p>加上下面的选项</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token parameter variable">-a</span> 密码
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_2-2-如何查看benchmark这些分析呢"><a href="#_2-2-如何查看benchmark这些分析呢" class="header-anchor">#</a> 2.2.如何查看benchmark这些分析呢？</h3> <p><img src="https://cdn.jsdelivr.net/gh/HACV/picture/img/202304061743139.png" alt="image-20230406174335701"></p> <p>第1ms的时候，处理了29%的请求，第3ms的时候</p> <p>最后总结，每秒处理了59XXX次请求！</p> <h3 id="_2-3-注意-进行完redis-benchmark后-我们发现数据库里面被加入了一些key和value"><a href="#_2-3-注意-进行完redis-benchmark后-我们发现数据库里面被加入了一些key和value" class="header-anchor">#</a> 2.3.注意-进行完redis-benchmark后，我们发现数据库里面被加入了一些key和value</h3> <h2 id="_3-another-redis-desktop-manager"><a href="#_3-another-redis-desktop-manager" class="header-anchor">#</a> 3.<code>Another Redis Desktop Manager</code></h2> <h3 id="_3-1-远程使用-another连接服务器的redis"><a href="#_3-1-远程使用-another连接服务器的redis" class="header-anchor">#</a> 3.1.远程使用-another连接服务器的redis</h3> <ul><li><p>将 bind 127.0.0.1 # 注释掉</p></li> <li><p>将protected-mode yes 改成 protected-mode no</p></li> <li><p>将# requirepass foobared 去掉注释 改成 requirepass 密码</p></li></ul> <p>然后使用ssl和上面的密码或者readonly和密码都可以连接</p> <p>并且这2种连接，都是可以使用get name这样的redis命令的</p> <p>也能</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>auth 你的密码
<span class="token function">shutdown</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>在本地进行关闭</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">shutdown</span>
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> NOAUTH Authentication required怎么办

这个错误表明Redis需要进行身份验证，但是你尝试执行的操作没有通过身份验证，因此无法执行。要解决这个问题，你需要在执行 <span class="token function">shutdown</span> 命令之前进行身份验证。

如果你在启动Redis时设置了密码，可以使用以下命令进行身份验证：

AUTH password
其中，password 是你在启动Redis时设置的密码。

如果你没有设置密码，则可以在Redis配置文件中开启身份验证。编辑Redis配置文件（一般位于 /etc/redis/redis.conf 或者 /usr/local/etc/redis.conf），找到以下行：

<span class="token comment"># requirepass foobared</span>
将注释符号 <span class="token comment"># 删除，并将 foobared 替换为你想要的密码。保存并关闭文件后，重启Redis服务即可生效。现在你可以使用上述命令进行身份验证。</span>

来源链接：<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>root@hecs-358761:/usr/local/bin/whoway-config<span class="token comment"># git diff</span>
<span class="token function">diff</span> <span class="token parameter variable">--git</span> a/redis.conf b/redis.conf


--- a/redis.conf
+++ b/redis.conf
@@ -84,7 +84,7 @@
 <span class="token comment"># You will also need to set a password unless you explicitly disable protected</span>
 <span class="token comment"># mode.</span>
 <span class="token comment"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="token parameter variable">-bind</span> <span class="token number">127.0</span>.0.1 -::1
+<span class="token comment">#bind 127.0.0.1 -::1</span>

 <span class="token comment"># By default, outgoing connections (from replica to master, from Sentinel to</span>
 <span class="token comment"># instances, cluster bus, etc.) are not bound to a specific local address. In</span>
@@ -108,7 +108,7 @@ <span class="token builtin class-name">bind</span> <span class="token number">127.0</span>.0.1 -::1
 <span class="token comment"># By default protected mode is enabled. You should disable it only if</span>
 <span class="token comment"># you are sure you want clients from other hosts to connect to Redis</span>
 <span class="token comment"># even if no authentication is configured.</span>
-protected-mode <span class="token function">yes</span>
+protected-mode no

 <span class="token comment"># Redis uses default hardened security configuration directives to reduce the</span>
 <span class="token comment"># attack surface on innocent users. Therefore, several sensitive configuration</span>
@@ -306,7 +306,7 @@ tcp-keepalive <span class="token number">300</span>
 <span class="token comment"># By default Redis does not run as a daemon. Use 'yes' if you need it.</span>
 <span class="token comment"># Note that Redis will write a pid file in /var/run/redis.pid when daemonized.</span>
 <span class="token comment"># When Redis is supervised by upstart or systemd, this parameter has no impact.</span>
<span class="token parameter variable">-daemonize</span> no
+daemonize <span class="token function">yes</span>

 <span class="token comment"># If you run Redis from upstart or systemd, Redis can interact with your</span>
 <span class="token comment"># supervision tree. Options:</span>
@@ -1033,7 +1033,7 @@ acllog-max-len <span class="token number">128</span>
 <span class="token comment"># The requirepass is not compatible with aclfile option and the ACL LOAD</span>
 <span class="token comment"># command, these will cause requirepass to be ignored.</span>
 <span class="token comment">#</span>
-<span class="token comment"># requirepass foobared</span>
+ requirepass XXXX【打码】

 <span class="token comment"># New users are initialized with restrictive permissions by default, via the</span>
 <span class="token comment"># equivalent of this ACL rule 'off resetkeys -@all'. Starting with Redis 6.2, it</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h3 id="_3-2-介绍软件"><a href="#_3-2-介绍软件" class="header-anchor">#</a> 3.2.介绍软件</h3> <p>是一款开源的跨平台 Redis 可视化管理工具，支持 SSH 和 SSL 等协议，也支持只读模式</p> <ul><li><code>SSH</code>：通过 SSH 协议连接 Redis 服务器，可以加密通信以提高安全性。如果你的 Redis 服务器启用了 SSH，则可以使用 SSH 选项来连接 Redis。</li> <li><code>SSL</code>：通过 SSL 加密协议连接 Redis 服务器，可以将数据在客户端和服务器之间进行加密传输，以提高安全性。如果你的 Redis 服务器启用了 SSL，则可以使用 SSL 选项来连接 Redis。</li> <li><code>readonly</code>：只读模式是指连接 Redis 服务器时，只能执行查询操作，不能进行修改或删除操作。只读模式可以增加 Redis 服务器的安全性，避免数据意外被修改或删除。在 Another Redis Desktop Manager 中，只需要在连接设置中选择“只读模式”，即可连接到 Redis 服务器的只读实例。</li></ul> <p>总的来说，SSH 和 SSL 都提供了一定程度的安全性保障，只读模式则可以进一步增强 Redis 服务器的安全性。在连接 Redis 服务器时，根据实际需要选择合适的选项即可。</p> <h2 id="_4-redis基础知识-命令行⭐️"><a href="#_4-redis基础知识-命令行⭐️" class="header-anchor">#</a> 4.redis基础知识+命令行⭐️</h2> <p>​	redis默认16个数据库，类似数组下标从0开始，初始默认使用0号库</p> <p>​	查看 <code>redis.conf</code> ，里面有默认的配置</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>databases <span class="token number">16</span>
<span class="token comment"># Set the number of databases. The default database is DB 0, you can select</span>
<span class="token comment"># a different one on a per-connection basis using SELECT &lt;dbid&gt; where</span>
<span class="token comment"># dbid is a number between 0 and 'databases'-1</span>
databases <span class="token number">16</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_4-1-常用命令"><a href="#_4-1-常用命令" class="header-anchor">#</a> 4.1.常用命令</h3> <p>select命令切换数据库</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token keyword">select</span> <span class="token number">0</span> <span class="token comment">#切换到标号为0的数据库</span>

<span class="token keyword">select</span> <span class="token number">1</span> <span class="token comment">#切换到标号为1的数据库</span>

dbsize <span class="token comment">#Dbsize查看「当前」数据库的key的数量</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>flushdb  <span class="token comment">#清空当前标号的数据库「比如当前标号为1的数据库」</span>
flushall <span class="token comment">#清空全部的库「比如16个」</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>keys *  <span class="token comment">#查看，当前标号的数据库里面有多少key，帮我列出来！</span>

<span class="token builtin class-name">set</span> mykey myvalue  <span class="token comment">#插入key value对</span>
get mykey <span class="token comment">#通过key查询我的value</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_4-2-面试-为什么redis是单线程"><a href="#_4-2-面试-为什么redis是单线程" class="header-anchor">#</a> 4.2.面试-为什么redis是单线程？</h3> <p>​	Redis很快！官方表示，因为Redis是<strong>基于内存的操作</strong>，<strong>CPU不是Redis的瓶颈</strong>，Redis 的瓶颈最有可能是机器<strong>内存的大小</strong>或者网络带宽。<strong>既然单线程容易实现</strong>，而且CPU不会成为瓶颈，那就 顺理成章地采用单线程的方案了！</p> <p><strong>Redis为什么单线程还这么快？</strong></p> <p>redis 核心就是 如果我的数据全都在内存里，我单线程的去操作 就是效率最高的</p> <p>为什么呢，因为 多线程的本质就是 CPU 模拟出来多个线程的情况，这种<strong>模拟</strong>出来的情况就有一个代价，就是<strong>上下文的切 换</strong>，对于一个内存的系统来说，它<strong>没有上下文的切换就是效率最高的</strong>。</p> <p>redis 用 单个CPU 绑定一块内存 的数据，然后针对这块内存的数据进行多次读写的时候，都是在一个CPU上完成的，所以它是单线程处 理这个事。在内存的情况下，这个方案就是最佳方案。</p> <p>因为一次CPU上下文的切换大概在 1500ns 左右。</p> <p>从<strong>内存中读取 1MB</strong> 的连续数据，耗时大约为 <strong>250us</strong>， 假设1MB的数据由多个线程读取了1000次，那么就有1000次时间上下文的切换，那么就有1500ns * 1000 = 1500us ，我单线程的读完1MB数据才250us</p> <p>,你光时间<strong>上下文的切换就用了1500us了</strong>，我还不算你每次读一点数据 的时间。</p> <h2 id="_5-redis的5大基本-数据类型⭐️"><a href="#_5-redis的5大基本-数据类型⭐️" class="header-anchor">#</a> 5.redis的5大基本-数据类型⭐️</h2> <p>​	Redis 是一个开源（BSD许可）的，内存中的数据结构存储系统，它可以用作<strong>数据库</strong>、<strong>缓存</strong>和<strong>消息中间件</strong>。 它支持多种类型的数据结构，如 字符串（strings）， 散列（hashes）， 列表（lists）， 集合（sets）， 有序集合（sorted sets） 与范围查询， <strong>bitmaps</strong>， <strong>hyperloglogs</strong> 和 <strong>地理空间（geospatial）</strong> 索引半径查询。</p> <p>​	Redis 内置了 复制（replication），LUA脚本（Lua scripting）， LRU驱动事件（LRU eviction），事务（transactions） 和不同级别的 磁盘持久化（persistence）， 并通过 Redis哨兵（Sentinel）和自动 分区（Cluster）提供高可用性（high availability）。</p> <h3 id="redis-key的介绍redis键-key"><a href="#redis-key的介绍redis键-key" class="header-anchor">#</a> Redis-Key的介绍Redis键（key）</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> age <span class="token number">1</span>
OK
<span class="token operator">&gt;</span> exists name
<span class="token number">0</span>
<span class="token operator">&gt;</span> exists age
<span class="token number">1</span>
<span class="token operator">&gt;</span> move age <span class="token number">3</span>  <span class="token comment"># move key db ---&gt; 当前库就没有了，被移除了</span>
<span class="token number">1</span>
<span class="token operator">&gt;</span> exists age
<span class="token number">0</span>

<span class="token comment"># expire key 秒钟：为给定 key 设置生存时间，当 key 过期时(生存时间为 0 )，它会被自动删除。</span>
<span class="token comment"># ttl key 查看还有多少秒过期，-1 表示永不过期，-2 表示已过期</span>
<span class="token comment"># type key 查看你的key是什么类型</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_6-redis的4种特殊数据类型⭐️"><a href="#_6-redis的4种特殊数据类型⭐️" class="header-anchor">#</a> 6.redis的4种特殊数据类型⭐️</h2> <h3 id="_6-1geo地理位置geospatial"><a href="#_6-1geo地理位置geospatial" class="header-anchor">#</a> 6.1GEO地理位置geospatial</h3> <p>将指定的地理空间位置（纬度、经度、名称）添加到指定的<code>key</code>中。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>GEO 的数据结构总共有六个常用命令：
geoadd
geopos
geodist
georadius
georadiusbymember
gethash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><a href="https://www.redis.net.cn/order/3685.html" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="_6-2-hyperloglog-超日志"><a href="#_6-2-hyperloglog-超日志" class="header-anchor">#</a> 6.2.HyperLogLog-超日志</h3> <h3 id="_6-3-bitmap"><a href="#_6-3-bitmap" class="header-anchor">#</a> 6.3.BitMap</h3> <p>BitMap 就是通过一个 bit 位来表示某个元素对应的值或者状态, 其中的 key 就是对应元素本身，实际上 底层也是通过对字符串的操作来实现。Redis 从 2.2 版本之后新增了setbit, getbit, bitcount 等几个 bitmap 相关命令。</p> <h3 id="_6-4-stream"><a href="#_6-4-stream" class="header-anchor">#</a> 6.4.stream</h3> <p>如何看待Redis5.0的<a href="https://www.zhihu.com/question/279540635" target="_blank" rel="noopener noreferrer">新特性stream？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>已经在用kafka的自然也是没必要迁移为redis stream，但是某些场景下你已经在用redis了，又需要使用消息对列，直接使用redis stream能满足的话又何苦再搭个kafka呢</p> <ul><li><p>参考自知乎</p></li> <li><p><a href="https://juejin.cn/s/redis%20streams%20vs%20kafka%20stream" target="_blank" rel="noopener noreferrer">redis streams vs kafka stream<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h2 id="持久化"><a href="#持久化" class="header-anchor">#</a> 持久化</h2> <p>这两种技术都会用各用一个日志文件来记录信息，但是记录的内容是不同的</p> <ul><li>RDB 文件的内容是二进制数据。</li> <li>AOF 文件的内容是操作命令</li></ul> <p>所以，RDB 快照就是记录某一个瞬间的内存数据，记录的是实际数据，而 AOF 文件记录的是命令操作的日志，而不是实际的数据。</p> <p>因此在 Redis 恢复数据时， RDB 恢复数据的效率会比 AOF 高些，因为直接将 RDB 文件读入内存就可以，不需要像 AOF 那样还需要额外执行操作命令的步骤才能恢复数据。</p> <h3 id="_1-rdb-redis-database-redis默认开启"><a href="#_1-rdb-redis-database-redis默认开启" class="header-anchor">#</a> 1.RDB（redis DataBase）redis默认开启</h3> <p>RDB 快照</p> <h3 id="_2-aof-append-only-file-默认是不开启的"><a href="#_2-aof-append-only-file-默认是不开启的" class="header-anchor">#</a> 2.AOF（Append only File）默认是不开启的</h3> <p>AOF 日志</p> <h2 id="_7-redis鸡肋的功能"><a href="#_7-redis鸡肋的功能" class="header-anchor">#</a> 7.Redis鸡肋的功能</h2> <h4 id="订阅和发布"><a href="#订阅和发布" class="header-anchor">#</a> 订阅和发布</h4> <ul><li>有专门的消息队列
<ul><li>rabbitMQ</li> <li>kafka</li> <li>rocketMQ</li></ul></li></ul> <h4 id="_7-2-事务"><a href="#_7-2-事务" class="header-anchor">#</a> 7.2.事务</h4> <p>实现得不好</p> <h2 id="_9-使用java的jredis"><a href="#_9-使用java的jredis" class="header-anchor">#</a> 9.使用Java的Jredis</h2> <p>jredis是redis官网，推荐的java连接开发工具，</p> <p>使用java操作redis中间件，如果你要使用java操作redis，那么一定要对Jredis十分的熟悉。。。但是显然spring boot，redistemplate集成了很多</p> <h2 id="redis除了缓存外的用途"><a href="#redis除了缓存外的用途" class="header-anchor">#</a> Redis除了缓存外的用途</h2> <ul><li>参考<a href="https://www.modb.pro/db/212196" target="_blank" rel="noopener noreferrer">资料<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="redis的monitor和发布订阅的区别"><a href="#redis的monitor和发布订阅的区别" class="header-anchor">#</a> redis的monitor和发布订阅的区别</h2> <p><code>MONITOR</code> 和 <code>发布订阅（PUB/SUB）</code> 是 Redis 中两个不同的概念，具有<strong>不同的特点和用途</strong>：</p> <ul><li><code>MONITOR</code>：是一种用于监视 Redis 客户端执行的命令的工具。当你执行 <code>MONITOR</code> 命令后，Redis 服务器会将所有收到的命令都输出到控制台或日志文件中，可以用于<strong>排查问题</strong>或调试应用程序。</li> <li><code>发布订阅（PUB/SUB）</code>：是 Redis 提供的一种消息推送机制，可以实现多个客户端之间的消息通信。客户端可以通过 <code>SUBSCRIBE</code> 命令订阅一个或多个频道，当有其他客户端向这些频道发布消息时，订阅者会收到相应的消息。<code>PUB/SUB</code> 机制可以用于构建实时消息系统、广播系统等场景。</li></ul> <p>总的来说，<code>MONITOR</code> 主要用于监视 Redis 客户端执行的命令，而 <code>PUB/SUB</code> 则主要用于实现消息发布和订阅。虽然它们都可以用于监视 Redis 的运行状态，但是它们的应用场景和目的是不同的。</p> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li>https://www.bilibili.com/video/BV1S54y1R7SB?p=9&amp;vd_source=ea20f1fccee6fd3f1af7d59cd3ae7575</li> <li>【狂神说Java】<a href="https://www.bilibili.com/video/BV1S54y1R7SB/?p=1&amp;vd_source=ea20f1fccee6fd3f1af7d59cd3ae7575" target="_blank" rel="noopener noreferrer">Redis最新超详细版教程通俗易懂<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>https://redis.io/</li> <li>http://www.redis.cn/</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.06955493.js" defer></script><script src="/assets/js/2.443c6f9e.js" defer></script><script src="/assets/js/137.27880470.js" defer></script>
  </body>
</html>
