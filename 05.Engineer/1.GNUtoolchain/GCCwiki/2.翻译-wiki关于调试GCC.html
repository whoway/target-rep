<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>调试GCC | whoway</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/images/photo.jpg">
    <link rel="manifest" href="/images/photo.jpg">
    <link rel="apple-touch-icon" href="/images/photo.jpg">
    <meta name="description" content="Personal Blog Website">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.d6ad21ed.css" as="style"><link rel="preload" href="/assets/js/app.a011459a.js" as="script"><link rel="preload" href="/assets/js/2.5ad7620d.js" as="script"><link rel="preload" href="/assets/js/133.1506e511.js" as="script"><link rel="prefetch" href="/assets/js/10.239e40bf.js"><link rel="prefetch" href="/assets/js/100.5e1c16e9.js"><link rel="prefetch" href="/assets/js/101.9334b3ef.js"><link rel="prefetch" href="/assets/js/102.5b7c2a8d.js"><link rel="prefetch" href="/assets/js/103.b756016c.js"><link rel="prefetch" href="/assets/js/104.7ecad0f5.js"><link rel="prefetch" href="/assets/js/105.0429efb1.js"><link rel="prefetch" href="/assets/js/106.d930b8e7.js"><link rel="prefetch" href="/assets/js/107.d0112438.js"><link rel="prefetch" href="/assets/js/108.21911afb.js"><link rel="prefetch" href="/assets/js/109.1254f1a5.js"><link rel="prefetch" href="/assets/js/11.e298a6d3.js"><link rel="prefetch" href="/assets/js/110.7538b4d5.js"><link rel="prefetch" href="/assets/js/111.ba7b4e9f.js"><link rel="prefetch" href="/assets/js/112.35c950b7.js"><link rel="prefetch" href="/assets/js/113.38182060.js"><link rel="prefetch" href="/assets/js/114.b7b9b61e.js"><link rel="prefetch" href="/assets/js/115.dd087991.js"><link rel="prefetch" href="/assets/js/116.534f58f7.js"><link rel="prefetch" href="/assets/js/117.b3fb45cd.js"><link rel="prefetch" href="/assets/js/118.4936b3bf.js"><link rel="prefetch" href="/assets/js/119.bdea1e64.js"><link rel="prefetch" href="/assets/js/12.5d8962c1.js"><link rel="prefetch" href="/assets/js/120.f82b86c2.js"><link rel="prefetch" href="/assets/js/121.9776dbf4.js"><link rel="prefetch" href="/assets/js/122.9c1b0cd2.js"><link rel="prefetch" href="/assets/js/123.5eb4c903.js"><link rel="prefetch" href="/assets/js/124.a4223fe5.js"><link rel="prefetch" href="/assets/js/125.9274e1a1.js"><link rel="prefetch" href="/assets/js/126.0a6beaee.js"><link rel="prefetch" href="/assets/js/127.1a315c26.js"><link rel="prefetch" href="/assets/js/128.a8b042dc.js"><link rel="prefetch" href="/assets/js/129.3762f355.js"><link rel="prefetch" href="/assets/js/13.23ca29ec.js"><link rel="prefetch" href="/assets/js/130.3abf59d3.js"><link rel="prefetch" href="/assets/js/131.1fbd66e8.js"><link rel="prefetch" href="/assets/js/132.6a69c7cd.js"><link rel="prefetch" href="/assets/js/134.8e0288ca.js"><link rel="prefetch" href="/assets/js/135.773798d5.js"><link rel="prefetch" href="/assets/js/136.1fc2f0bf.js"><link rel="prefetch" href="/assets/js/137.7dc5b3cd.js"><link rel="prefetch" href="/assets/js/138.1fe1b77b.js"><link rel="prefetch" href="/assets/js/139.cd268958.js"><link rel="prefetch" href="/assets/js/14.9a7cd452.js"><link rel="prefetch" href="/assets/js/140.ee369cf5.js"><link rel="prefetch" href="/assets/js/141.10a5a310.js"><link rel="prefetch" href="/assets/js/142.3fb77381.js"><link rel="prefetch" href="/assets/js/143.e71c6aff.js"><link rel="prefetch" href="/assets/js/144.c52c1c2e.js"><link rel="prefetch" href="/assets/js/145.ba27794d.js"><link rel="prefetch" href="/assets/js/146.d61cbced.js"><link rel="prefetch" href="/assets/js/147.5ac62aa4.js"><link rel="prefetch" href="/assets/js/148.373dd4e4.js"><link rel="prefetch" href="/assets/js/149.54432a15.js"><link rel="prefetch" href="/assets/js/15.6b3d3da1.js"><link rel="prefetch" href="/assets/js/150.e044824a.js"><link rel="prefetch" href="/assets/js/151.4a123bae.js"><link rel="prefetch" href="/assets/js/152.248bfd8e.js"><link rel="prefetch" href="/assets/js/153.a0bf4870.js"><link rel="prefetch" href="/assets/js/154.8e277fe7.js"><link rel="prefetch" href="/assets/js/155.bd0f22ca.js"><link rel="prefetch" href="/assets/js/156.19aee395.js"><link rel="prefetch" href="/assets/js/157.e11b9fbf.js"><link rel="prefetch" href="/assets/js/158.4f14dba9.js"><link rel="prefetch" href="/assets/js/159.f829af63.js"><link rel="prefetch" href="/assets/js/16.b0a981b0.js"><link rel="prefetch" href="/assets/js/160.4e3ccca8.js"><link rel="prefetch" href="/assets/js/161.3f60961e.js"><link rel="prefetch" href="/assets/js/162.6f33137a.js"><link rel="prefetch" href="/assets/js/163.37d740eb.js"><link rel="prefetch" href="/assets/js/164.0110042d.js"><link rel="prefetch" href="/assets/js/165.b0c4bfc5.js"><link rel="prefetch" href="/assets/js/166.07f03db4.js"><link rel="prefetch" href="/assets/js/167.45e625e6.js"><link rel="prefetch" href="/assets/js/168.01667776.js"><link rel="prefetch" href="/assets/js/169.e10437c8.js"><link rel="prefetch" href="/assets/js/17.7c2e0f08.js"><link rel="prefetch" href="/assets/js/170.809f8694.js"><link rel="prefetch" href="/assets/js/171.f6cb6669.js"><link rel="prefetch" href="/assets/js/172.0d5528d7.js"><link rel="prefetch" href="/assets/js/173.e1223891.js"><link rel="prefetch" href="/assets/js/174.627d886b.js"><link rel="prefetch" href="/assets/js/175.457300d8.js"><link rel="prefetch" href="/assets/js/176.6e304e35.js"><link rel="prefetch" href="/assets/js/177.f02629cd.js"><link rel="prefetch" href="/assets/js/178.50e4c463.js"><link rel="prefetch" href="/assets/js/179.b9c0606b.js"><link rel="prefetch" href="/assets/js/18.3c13845c.js"><link rel="prefetch" href="/assets/js/180.9217f1cf.js"><link rel="prefetch" href="/assets/js/181.9a9cffaa.js"><link rel="prefetch" href="/assets/js/182.082c3025.js"><link rel="prefetch" href="/assets/js/183.23098115.js"><link rel="prefetch" href="/assets/js/184.4ff48d20.js"><link rel="prefetch" href="/assets/js/185.ba8f037d.js"><link rel="prefetch" href="/assets/js/186.ebdda5fe.js"><link rel="prefetch" href="/assets/js/187.de77d6dd.js"><link rel="prefetch" href="/assets/js/188.2ecc9dc3.js"><link rel="prefetch" href="/assets/js/189.039eba2c.js"><link rel="prefetch" href="/assets/js/19.73f328e4.js"><link rel="prefetch" href="/assets/js/190.3d2d5c97.js"><link rel="prefetch" href="/assets/js/191.0a35ada0.js"><link rel="prefetch" href="/assets/js/192.0649e5fa.js"><link rel="prefetch" href="/assets/js/193.9f7dd60d.js"><link rel="prefetch" href="/assets/js/194.f116cd1c.js"><link rel="prefetch" href="/assets/js/195.70da4353.js"><link rel="prefetch" href="/assets/js/196.830be03d.js"><link rel="prefetch" href="/assets/js/197.06a99a11.js"><link rel="prefetch" href="/assets/js/198.9053d761.js"><link rel="prefetch" href="/assets/js/199.880046a8.js"><link rel="prefetch" href="/assets/js/20.592ca66d.js"><link rel="prefetch" href="/assets/js/200.a0cbc975.js"><link rel="prefetch" href="/assets/js/201.614202bc.js"><link rel="prefetch" href="/assets/js/202.5e3e809e.js"><link rel="prefetch" href="/assets/js/203.b3d7ae96.js"><link rel="prefetch" href="/assets/js/204.4f80c23a.js"><link rel="prefetch" href="/assets/js/205.2ff9fb12.js"><link rel="prefetch" href="/assets/js/206.d024a797.js"><link rel="prefetch" href="/assets/js/207.09ccf015.js"><link rel="prefetch" href="/assets/js/21.5766fde7.js"><link rel="prefetch" href="/assets/js/22.eb80981c.js"><link rel="prefetch" href="/assets/js/23.98ec6f03.js"><link rel="prefetch" href="/assets/js/24.b45a16b4.js"><link rel="prefetch" href="/assets/js/25.6c4539e7.js"><link rel="prefetch" href="/assets/js/26.a5260c99.js"><link rel="prefetch" href="/assets/js/27.ff362ad5.js"><link rel="prefetch" href="/assets/js/28.909fc6bc.js"><link rel="prefetch" href="/assets/js/29.e28949e2.js"><link rel="prefetch" href="/assets/js/3.40f43a0e.js"><link rel="prefetch" href="/assets/js/30.b272860a.js"><link rel="prefetch" href="/assets/js/31.4fe50db5.js"><link rel="prefetch" href="/assets/js/32.d6d7f2b0.js"><link rel="prefetch" href="/assets/js/33.7b7c9fa9.js"><link rel="prefetch" href="/assets/js/34.b2673d22.js"><link rel="prefetch" href="/assets/js/35.b542785a.js"><link rel="prefetch" href="/assets/js/36.3470ed7b.js"><link rel="prefetch" href="/assets/js/37.5d9735a8.js"><link rel="prefetch" href="/assets/js/38.36af579c.js"><link rel="prefetch" href="/assets/js/39.d7d91cd4.js"><link rel="prefetch" href="/assets/js/4.4eb224d2.js"><link rel="prefetch" href="/assets/js/40.5c34f488.js"><link rel="prefetch" href="/assets/js/41.cf12e03b.js"><link rel="prefetch" href="/assets/js/42.089dc828.js"><link rel="prefetch" href="/assets/js/43.61c551db.js"><link rel="prefetch" href="/assets/js/44.dcbcd095.js"><link rel="prefetch" href="/assets/js/45.4e020a1f.js"><link rel="prefetch" href="/assets/js/46.2b94f921.js"><link rel="prefetch" href="/assets/js/47.05a88c9f.js"><link rel="prefetch" href="/assets/js/48.59cc6f32.js"><link rel="prefetch" href="/assets/js/49.2d096088.js"><link rel="prefetch" href="/assets/js/5.89f38884.js"><link rel="prefetch" href="/assets/js/50.a3d83b1e.js"><link rel="prefetch" href="/assets/js/51.46edb831.js"><link rel="prefetch" href="/assets/js/52.6d1e15a9.js"><link rel="prefetch" href="/assets/js/53.6102e9a8.js"><link rel="prefetch" href="/assets/js/54.d15a440b.js"><link rel="prefetch" href="/assets/js/55.945ac3ed.js"><link rel="prefetch" href="/assets/js/56.cb2dda88.js"><link rel="prefetch" href="/assets/js/57.0d548402.js"><link rel="prefetch" href="/assets/js/58.eafae80e.js"><link rel="prefetch" href="/assets/js/59.da92e392.js"><link rel="prefetch" href="/assets/js/6.556ca4b1.js"><link rel="prefetch" href="/assets/js/60.04dc7a63.js"><link rel="prefetch" href="/assets/js/61.721fcf0c.js"><link rel="prefetch" href="/assets/js/62.c9bd7b61.js"><link rel="prefetch" href="/assets/js/63.1ffe1584.js"><link rel="prefetch" href="/assets/js/64.f263a77f.js"><link rel="prefetch" href="/assets/js/65.83c36a2a.js"><link rel="prefetch" href="/assets/js/66.528d1512.js"><link rel="prefetch" href="/assets/js/67.6f82d8b5.js"><link rel="prefetch" href="/assets/js/68.bacd8722.js"><link rel="prefetch" href="/assets/js/69.911548ac.js"><link rel="prefetch" href="/assets/js/7.8b41355d.js"><link rel="prefetch" href="/assets/js/70.3a429772.js"><link rel="prefetch" href="/assets/js/71.e4554dc6.js"><link rel="prefetch" href="/assets/js/72.214adbe7.js"><link rel="prefetch" href="/assets/js/73.3f8056af.js"><link rel="prefetch" href="/assets/js/74.76890b0d.js"><link rel="prefetch" href="/assets/js/75.8af39a02.js"><link rel="prefetch" href="/assets/js/76.156a7561.js"><link rel="prefetch" href="/assets/js/77.359f0a41.js"><link rel="prefetch" href="/assets/js/78.d890872e.js"><link rel="prefetch" href="/assets/js/79.e7496c22.js"><link rel="prefetch" href="/assets/js/8.87e943be.js"><link rel="prefetch" href="/assets/js/80.86dcd177.js"><link rel="prefetch" href="/assets/js/81.1bdc3060.js"><link rel="prefetch" href="/assets/js/82.0c2b329d.js"><link rel="prefetch" href="/assets/js/83.b33b4815.js"><link rel="prefetch" href="/assets/js/84.bc7e22e6.js"><link rel="prefetch" href="/assets/js/85.82aeb653.js"><link rel="prefetch" href="/assets/js/86.b2d34cde.js"><link rel="prefetch" href="/assets/js/87.491c160e.js"><link rel="prefetch" href="/assets/js/88.f61c1354.js"><link rel="prefetch" href="/assets/js/89.398f1f38.js"><link rel="prefetch" href="/assets/js/9.35b8536e.js"><link rel="prefetch" href="/assets/js/90.06df0a1e.js"><link rel="prefetch" href="/assets/js/91.7d7bc5bc.js"><link rel="prefetch" href="/assets/js/92.c6bbf647.js"><link rel="prefetch" href="/assets/js/93.db29cbe5.js"><link rel="prefetch" href="/assets/js/94.14c74134.js"><link rel="prefetch" href="/assets/js/95.d5cf63f4.js"><link rel="prefetch" href="/assets/js/96.8afccf09.js"><link rel="prefetch" href="/assets/js/97.3fc872af.js"><link rel="prefetch" href="/assets/js/98.37695507.js"><link rel="prefetch" href="/assets/js/99.b72a0294.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d6ad21ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">whoway</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎓Coding" class="dropdown-title"><span class="title">🎓Coding</span> <span class="arrow down"></span></button> <button type="button" aria-label="🎓Coding" class="mobile-dropdown-title"><span class="title">🎓Coding</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/00.Coding/TheBeautyOfProgramming/" class="nav-link">
  🔖编程之美题解
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/CodeWarehouse/" class="nav-link">
  🔖代码意识流
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/" class="nav-link">
  🔖面试题题解
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀语言" class="dropdown-title"><span class="title">🚀语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="🚀语言" class="mobile-dropdown-title"><span class="title">🚀语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/01.Language/Overview/" class="nav-link">
  🔖概述
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/C/" class="nav-link">
  ⭐️C
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Cpp/" class="nav-link">
  🚀C++
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Java/" class="nav-link">
  ☕️Java
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Python/" class="nav-link">
  🧩Python3
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Fortran/" class="nav-link">
  🎲Fortran
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/JavaScript/" class="nav-link">
  🎨JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/02.Hardware/" class="nav-link">
  ✔️硬件基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⭐️软件基础" class="dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="⭐️软件基础" class="mobile-dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/03.Software/01.DataStructureAndAlgorithm/" class="nav-link">
  🐾数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/02.OS/" class="nav-link">
  💻操作系统
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/03.Net/" class="nav-link">
  ☁️计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/04.SE/" class="nav-link">
  ✅软件工程
</a></li></ul></div></div><div class="nav-item"><a href="/04.Database/" class="nav-link">
  🎨数据库
</a></div><div class="nav-item"><a href="/05.Engineer/" class="nav-link router-link-active">
  🔖学术/工程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⚙️工具" class="dropdown-title"><span class="title">⚙️工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="⚙️工具" class="mobile-dropdown-title"><span class="title">⚙️工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/06.Tools/01.employment/" class="nav-link">
  🔖求职
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/02.efficiency/" class="nav-link">
  🚀效能
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/03.windows/" class="nav-link">
  ⚙️Windows
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/04.design/" class="nav-link">
  🧩设计
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/whoway" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🎓Coding" class="dropdown-title"><span class="title">🎓Coding</span> <span class="arrow down"></span></button> <button type="button" aria-label="🎓Coding" class="mobile-dropdown-title"><span class="title">🎓Coding</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/00.Coding/TheBeautyOfProgramming/" class="nav-link">
  🔖编程之美题解
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/CodeWarehouse/" class="nav-link">
  🔖代码意识流
</a></li><li class="dropdown-item"><!----> <a href="/00.Coding/" class="nav-link">
  🔖面试题题解
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🚀语言" class="dropdown-title"><span class="title">🚀语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="🚀语言" class="mobile-dropdown-title"><span class="title">🚀语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/01.Language/Overview/" class="nav-link">
  🔖概述
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/C/" class="nav-link">
  ⭐️C
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Cpp/" class="nav-link">
  🚀C++
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Java/" class="nav-link">
  ☕️Java
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Python/" class="nav-link">
  🧩Python3
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/Fortran/" class="nav-link">
  🎲Fortran
</a></li><li class="dropdown-item"><!----> <a href="/01.Language/JavaScript/" class="nav-link">
  🎨JavaScript
</a></li></ul></div></div><div class="nav-item"><a href="/02.Hardware/" class="nav-link">
  ✔️硬件基础
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⭐️软件基础" class="dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="⭐️软件基础" class="mobile-dropdown-title"><span class="title">⭐️软件基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/03.Software/01.DataStructureAndAlgorithm/" class="nav-link">
  🐾数据结构和算法
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/02.OS/" class="nav-link">
  💻操作系统
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/03.Net/" class="nav-link">
  ☁️计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/03.Software/04.SE/" class="nav-link">
  ✅软件工程
</a></li></ul></div></div><div class="nav-item"><a href="/04.Database/" class="nav-link">
  🎨数据库
</a></div><div class="nav-item"><a href="/05.Engineer/" class="nav-link router-link-active">
  🔖学术/工程
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="⚙️工具" class="dropdown-title"><span class="title">⚙️工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="⚙️工具" class="mobile-dropdown-title"><span class="title">⚙️工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/06.Tools/01.employment/" class="nav-link">
  🔖求职
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/02.efficiency/" class="nav-link">
  🚀效能
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/03.windows/" class="nav-link">
  ⚙️Windows
</a></li><li class="dropdown-item"><!----> <a href="/06.Tools/04.design/" class="nav-link">
  🧩设计
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/whoway" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>调试GCC</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#目录" class="sidebar-link">目录</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_1-debugging-gcc" class="sidebar-link">1.Debugging GCC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_1-1-valgrind" class="sidebar-link">1.1.Valgrind</a></li><li class="sidebar-sub-header"><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_1-2-gdb" class="sidebar-link">1.2.GDB</a></li></ul></li><li><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_2-构建一个可调试的编译器" class="sidebar-link">2.构建一个可调试的编译器</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_3-技巧和窍门" class="sidebar-link">3.技巧和窍门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_3-1-randomization-随机化" class="sidebar-link">3.1.Randomization（随机化）</a></li><li class="sidebar-sub-header"><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_3-2-debugging-within-x-emacs" class="sidebar-link">3.2.Debugging within (x)emacs</a></li><li class="sidebar-sub-header"><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_3-3-additional-tips-on-linux" class="sidebar-link">3.3.Additional tips on Linux</a></li><li class="sidebar-sub-header"><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_3-4-dumping-the-intermediate-representation" class="sidebar-link">3.4.Dumping the Intermediate Representation</a></li></ul></li><li><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_4-debugging-the-ada-compiler" class="sidebar-link">4.Debugging the Ada Compiler</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_5-debugging-lto" class="sidebar-link">5.Debugging LTO</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_6-reproducing-testsuite-failures" class="sidebar-link">6.Reproducing testsuite failures</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/05.Engineer/1.GNUtoolchain/GCCwiki/2.%E7%BF%BB%E8%AF%91-wiki%E5%85%B3%E4%BA%8E%E8%B0%83%E8%AF%95GCC.html#_7-重新运行failed的测试样例" class="sidebar-link">7.重新运行Failed的测试样例</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="调试gcc"><a href="#调试gcc" class="header-anchor">#</a> 调试GCC</h1> <ul><li>翻译链接：DebuggingGCC—<a href="https://gcc.gnu.org/wiki/DebuggingGCC" target="_blank" rel="noopener noreferrer">https://gcc.gnu.org/wiki/DebuggingGCC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&lt;</span>font <span class="token assign-left variable">style</span><span class="token operator">=</span><span class="token string">&quot;background:yellow&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>font <span class="token assign-left variable">style</span><span class="token operator">=</span><span class="token string">&quot;background:pink&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>font <span class="token assign-left variable">style</span><span class="token operator">=</span><span class="token string">&quot;background: MediumSpringGreen&quot;</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="目录"><a href="#目录" class="header-anchor">#</a> 目录</h2> <p>[TOC]</p> <h2 id="_1-debugging-gcc"><a href="#_1-debugging-gcc" class="header-anchor">#</a> 1.Debugging GCC</h2> <p>GCC 由调用<strong>编译器本身</strong>（cc1、cc1plus、f951 等）、汇编器（as）和链接器（ld 或 collect2）的<strong>驱动程序</strong>（gcc、g++、gfortran 等）组成。 每种语言都有一个编译器。 <font style="background:MediumSpringGreen;">大多数情况下</font>，想要调试编译器本身而<strong>不是</strong>驱动程序。</p> <ul><li>First, generate <a href="https://gcc.gnu.org/bugs/#detailed" target="_blank" rel="noopener noreferrer">preprocessed source<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Second, build <a href="https://gcc.gnu.org/wiki/DebuggingGCC#gccbuilddebug" target="_blank" rel="noopener noreferrer">a debuggable compiler<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Now you can simply do</li></ul> <p>首先，生成预处理源。</p> <p>其次，构建一个可调试的编译器。 现在你可以简单地做</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ gcc <span class="token operator">&lt;</span>parameters<span class="token operator">&gt;</span> <span class="token parameter variable">-wrapper</span> gdb,--args
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这将调用 gdb --args 下的 gcc 的所有子程序，因此 cc1 的调用将是 <code>gdb --args cc1 &lt;...&gt;</code>。 -wrapper 的参数是应在其控制下执行 cc1 的二进制文件的名称。 其他流行的例子是 valgrind、strace 等。</p> <h3 id="_1-1-valgrind"><a href="#_1-1-valgrind" class="header-anchor">#</a> 1.1.Valgrind</h3> <p>例如，要检查内存泄漏和其他与内存相关的问题，您将执行以下命令。 请注意，为了抑制良性 Valgrind 错误，GCC 需要在安装了 &lt;valgrind.h&gt; 头文件的系统上配置 --enable-valgrind-annotations 选项（在常见的 Linux 发行版上，这可以通过安装 valgrind-devel 包来完成 ）。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ gcc <span class="token operator">&lt;</span>parameters<span class="token operator">&gt;</span> <span class="token parameter variable">-wrapper</span> valgrind
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>...或直接调用 <code>valgrind --leak-check=full [...]/lto1 [...]</code> 等。</p> <p>请注意，有一些内存泄漏还没有人费心去堵上。</p> <p>另请注意，即使使用 <code>--enable-valgrind-annotations</code>，Valgrind 也不明白在程序结束时，未收集的 GC 分配的内存实际上并没有泄漏（它根本没有被收集）。 这意味着 <code>Valgrind --show-leak-kinds=all</code> 非常嘈杂。 这可以通过以下方式缓解（<code>log</code>是 Valgrind 日志文件）：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ <span class="token operator">&lt;</span> log <span class="token function">sed</span> <span class="token parameter variable">-e</span> <span class="token string">'s%^==[0-9]\+== %%'</span> <span class="token operator">|</span> <span class="token function">csplit</span> <span class="token parameter variable">-n4</span> - <span class="token string">'/^$/'</span> <span class="token string">'{*}'</span>
$ <span class="token function">grep</span> <span class="token parameter variable">-L</span> <span class="token string">'by 0x[0-9A-F]\+: ggc_internal_alloc'</span> xx* <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token function">cat</span> <span class="token operator">|</span> <span class="token function">less</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>另见 <a href="http://mid.mail-archive.com/87im0ihdge.fsf@euler.schwinge.homeip.net" target="_blank" rel="noopener noreferrer">http://mid.mail-archive.com/87im0ihdge.fsf@euler.schwinge.homeip.net<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_1-2-gdb"><a href="#_1-2-gdb" class="header-anchor">#</a> 1.2.GDB</h3> <p>如果您调用了 cc1、cc1plus 等编译器，您也可以直接调用 gdb：⭐️⭐️⭐️</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gdb <span class="token parameter variable">--args</span> <span class="token operator">&lt;</span>location of cc1, cc1plus, or whatever compiler
   <span class="token keyword">for</span> the language the preprocessed <span class="token builtin class-name">source</span> <span class="token function">file</span> is in<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>flags passed to compiler<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>cc1、cc1plus 或预处理源文件所在语言的任何编译器的位置</li> <li>&lt;传递给编译器的标志&gt;</li></ul> <p>这将使您能够调试编译器本身，而不是驱动程序。</p> <p>您还可以使用驱动程序的 <code>-###</code> 选项来编写驱动程序将执行的命令。 例如，</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gdb <span class="token parameter variable">--args</span> <span class="token variable"><span class="token variable">$(</span>./xgcc -<span class="token comment">### &lt;parameters to the driver&gt; 2&gt;&amp;1 | fgrep cc1</span><span class="token variable">)</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="http://gcc.gnu.org/ml/gcc/2004-03/msg01195.html" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>有一些脚本可以为您自动执行所有这些操作，从而使调试前端变得更加简单。</p> <h2 id="_2-构建一个可调试的编译器"><a href="#_2-构建一个可调试的编译器" class="header-anchor">#</a> 2.构建一个可调试的编译器</h2> <ul><li>Building a Debuggable Compiler</li></ul> <p>GCC <font style="background:MediumSpringGreen;">本身通常在 <code>-O2</code> 编译，这使得单步执行代码有点困难</font>。 您应该使用 GDB 6.3（或更新版本），它可以与更新的 GCC 生成的位置列表一起正常工作，这有助于在这种情况下进行调试。 要构建可调试的编译器，请正常配置编译器，然后</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">make</span> <span class="token assign-left variable">STAGE1_CXXFLAGS</span><span class="token operator">=</span><span class="token string">&quot;-g -O0&quot;</span> all-stage1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><font style="background:MediumSpringGreen;">有些人喜欢使用<code>-g3</code>，它使宏可调试，而不是<code>-g</code>。</font></p> <p>默认情况下 stage1 仅包含 C++ 编译器。 如果您需要在不同的前端工作，您可以配置 <code>--enable-stage1-languages=LANGUAGES</code> 以构建其他语言作为 stage1 的一部分。</p> <p>如果您有一个完全引导的构建并且您只想重新编译一些文件，您可以执行以下操作：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> $ <span class="token function">touch</span> <span class="token variable">$GCC_SRC_DIR</span>/gcc/c-family/c-common.c
 $ <span class="token builtin class-name">cd</span> gcc/ <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token assign-left variable">CXXFLAGS</span><span class="token operator">=</span><span class="token string">&quot;-g3 -O0&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果您有发布源并且想要启用内部检查，请使用 <code>--enable-checking</code> 配置编译器（如果您从 SVN 下载源，则此选项已启用）。 有关可用检查类型的描述，请参阅安装 GCC：配置。</p> <h2 id="_3-技巧和窍门"><a href="#_3-技巧和窍门" class="header-anchor">#</a> 3.技巧和窍门</h2> <ul><li><p>Tips and tricks（技巧和窍门）</p></li> <li><p>在调试器中单步执行前端（front-end）时，您可以使用 <code>debug_tree()</code> 和 <code>debug_rtx()</code> 函数分别打印出树节点的结构或 RTL 表达式。</p></li> <li><p>如果您使用 GDB 调试 GCC 并从 <code>$GCC_BUILD_DIR/gcc</code> 文件夹中运行调试器，您将自动使用由构建过程创建的 <code>.gdbinit</code> 文件。 它定义了一些方便的宏来帮助调试 GCC。 有关详细信息，请参阅文件 <code>$GCC_SRC_DIR/gcc/gdbinit.in</code>。</p></li></ul> <h3 id="_3-1-randomization-随机化"><a href="#_3-1-randomization-随机化" class="header-anchor">#</a> 3.1.Randomization（随机化）</h3> <p>如果您想要可重复的结果，您可能需要阅读<a href="https://gcc.gnu.org/wiki/Randomization" target="_blank" rel="noopener noreferrer">随机化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>并禁用它。</p> <h3 id="_3-2-debugging-within-x-emacs"><a href="#_3-2-debugging-within-x-emacs" class="header-anchor">#</a> 3.2.Debugging within (x)emacs</h3> <p>基本上你正在编辑编译器的一个文件，比如 tree-foo.c，突然你想调试它的代码。 以下命令应该正确：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>C-x <span class="token number">2</span>
M-x gdb
<span class="token punctuation">..</span>/<span class="token punctuation">..</span>/objdir/gcc/cc1
C-x o
C-x <span class="token operator">&lt;</span>space<span class="token operator">&gt;</span>
C-x o
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> run <span class="token parameter variable">-O2</span> -ftree-foo ~~/foo.i
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>首先，拆分窗口，然后在编译器 cc1 上运行调试器。 <code>C-x &lt;space&gt;</code> 在光标处设置断点。 最后，您使用预处理文件 <code>foo.i</code> 上的常用选项运行编译器。</p> <h3 id="_3-3-additional-tips-on-linux"><a href="#_3-3-additional-tips-on-linux" class="header-anchor">#</a> 3.3.Additional tips on Linux</h3> <p>Linux 上的其他提示</p> <p>大多数 linux 系统（带有 2.6 内核）都有地址空间随机化，您最好禁用它以获得更多可重现的运行（即从一次运行到下一次运行获得相同的指针地址）。 要全局禁用它，请执行</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token number">0</span> <span class="token operator">&gt;</span> /proc/sys/kernel/randomize_va_space
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>作为root。 更好的是，在你的 shell 中禁用它</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>setarch <span class="token parameter variable">-R</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>不要忘记禁用地址空间随机化可能会引发一些安全问题。</p> <h3 id="_3-4-dumping-the-intermediate-representation"><a href="#_3-4-dumping-the-intermediate-representation" class="header-anchor">#</a> 3.4.Dumping the Intermediate Representation</h3> <p>阅读 https://gcc.gnu.org/onlinedocs/gcc/Developer-Options.html 以了解从 -d* 到 -fdump-tree-* 的所有调试选项</p> <p>通过编写汇编器列表文件来查看汇编器由 GCC 的输出构成的内容通常很有用。 例如，这对于调试错误计算的 insn 长度很有用。 使用带有选项“-dAp -Wa,-a”的 gcc 会产生如下输出：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">..</span>.
 <span class="token number">267</span>                    @ BLOCK <span class="token number">22</span> seq:20
 <span class="token number">268</span>                    @ PRED: <span class="token number">27</span>
 <span class="token number">269</span>                    .L19:
 <span class="token number">270</span> 0298 18101BE5              ldr     r1, <span class="token punctuation">[</span>fp, <span class="token comment">#-24]  @ 204   *arm_movsi_insn/5       [length = 4]</span>
 <span class="token number">271</span> 029c 14201BE5              ldr     r2, <span class="token punctuation">[</span>fp, <span class="token comment">#-20]  @ 205   *arm_movsi_insn/5       [length = 4]</span>
 <span class="token number">272</span> 02a0 0430A0E3              mov     r3, <span class="token comment">#4  @ 206   *arm_movsi_insn/2       [length = 4]</span>
 <span class="token number">273</span> 02a4 0221A0E1              mov     r2, r2, asl <span class="token comment">#2  @ 207   *arm_shiftsi3   [length = 4]</span>
 <span class="token number">274</span> 02a8 022081E0              <span class="token function">add</span>     r2, r1, r2      @ <span class="token number">208</span>   *arm_addsi3/1   <span class="token punctuation">[</span>length <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">]</span>
 <span class="token number">275</span> 02ac 033082E0              <span class="token function">add</span>     r3, r2, r3      @ <span class="token number">209</span>   *arm_addsi3/1   <span class="token punctuation">[</span>length <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">]</span>
 <span class="token number">276</span> 02b0 003093E5              ldr     r3, <span class="token punctuation">[</span>r3, <span class="token comment">#0]    @ 210   *arm_movsi_insn/5       [length = 4]</span>
 <span class="token number">277</span> 02b4 38300BE5              str     r3, <span class="token punctuation">[</span>fp, <span class="token comment">#-56]  @ 211   *arm_movsi_insn/6       [length = 4]</span>
 <span class="token number">278</span> 02b8 38301BE5              ldr     r3, <span class="token punctuation">[</span>fp, <span class="token comment">#-56]  @ 212   *arm_movsi_insn/5       [length = 4]</span>
 <span class="token number">279</span> 02bc 000053E3              <span class="token function">cmp</span>     r3, <span class="token comment">#0  @ 213   *arm_cmpsi_insn/3       [length = 4]</span>
 <span class="token number">280</span>                    @ SUCC: <span class="token number">23</span> <span class="token punctuation">(</span>fallthru<span class="token punctuation">)</span> <span class="token number">26</span>
 <span class="token number">281</span> 02c0 1500000A              beq     .L17    @ <span class="token number">214</span>   *arm_cond_branch        <span class="token punctuation">[</span>length <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">]</span>
 <span class="token punctuation">..</span>.

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="_4-debugging-the-ada-compiler"><a href="#_4-debugging-the-ada-compiler" class="header-anchor">#</a> 4.Debugging the Ada Compiler</h2> <ul><li>(调试 Ada 编译器)</li></ul> <h2 id="_5-debugging-lto"><a href="#_5-debugging-lto" class="header-anchor">#</a> 5.Debugging LTO</h2> <ul><li><p>调试链接时优化（Link Time Optimization）</p></li> <li><p>参考资料：CSDN的<a href="https://blog.csdn.net/Rong_Toa/article/details/123448873" target="_blank" rel="noopener noreferrer">LTO 链接时优化<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h2 id="_6-reproducing-testsuite-failures"><a href="#_6-reproducing-testsuite-failures" class="header-anchor">#</a> 6.Reproducing testsuite failures</h2> <ul><li>（重现测试套件失败）</li></ul> <p>当您遇到测试套件失败时，您可以使用 contrib 目录中的 <a href="http://gcc.gnu.org/viewcvs/trunk/contrib/repro_fail?view=markup" target="_blank" rel="noopener noreferrer">repro_fail<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 脚本重现它。</p> <p>此脚本将搜索以 'spawn' 开头的行，其中包含您要查找的模式（通常是源文件名）。</p> <p>一旦找到该模式，它就会重新执行 spawn 行中的整个命令。 如果模式匹配多个 spawn 命令，它会询问您想要哪一个。</p> <p>例如，假设我们发现了这个失败：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>FAIL: gcc.dg/tree-ssa/vrp47.c scan-tree-dump-times dom1 <span class="token string">&quot;x[^ ]* &amp; y&quot;</span> <span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们想在这个编译中调用 gdb，这样我们就可以调试正在发生的事情：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ~/gcc/contrib/repro_fail vrp47.c gcc.log <span class="token parameter variable">-wrapper</span> gdb,--args
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span>bld<span class="token operator">&gt;</span>/gcc/xgcc -B<span class="token operator">&lt;</span>bld<span class="token operator">&gt;</span>/gcc/ ~/gcc/gcc/testsuite/gcc.dg/tree-ssa/vrp47.c <span class="token parameter variable">-O2</span> -fdump-tree-vrp -fdump-tree-dom <span class="token parameter variable">-S</span> <span class="token parameter variable">-o</span> vrp47.s <span class="token parameter variable">-wrapper</span> gdb,--args
+ <span class="token operator">&lt;</span>bld<span class="token operator">&gt;</span>/gcc/xgcc -B<span class="token operator">&lt;</span>bld<span class="token operator">&gt;</span>/gcc/ ~/gcc/gcc/testsuite/gcc.dg/tree-ssa/vrp47.c <span class="token parameter variable">-O2</span> -fdump-tree-vrp -fdump-tree-dom <span class="token parameter variable">-S</span> <span class="token parameter variable">-o</span> vrp47.s <span class="token parameter variable">-wrapper</span> gdb,--args
GNU gdb <span class="token punctuation">(</span>GDB<span class="token punctuation">)</span>
<span class="token punctuation">[</span> <span class="token punctuation">..</span>. <span class="token punctuation">]</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_7-重新运行failed的测试样例"><a href="#_7-重新运行failed的测试样例" class="header-anchor">#</a> 7.重新运行Failed的测试样例</h2> <ul><li>Rerunning Failed Tests</li></ul> <p>假设您已经进行了回归运行（regression run）并且一些测试失败了。 然后，您已经解决了您认为是原因的问题，并且您最初只是想确认那些失败的测试现在通过了。</p> <p>有没有一种快速简便的方法来运行这些测试，而不必获取它们的所有名称并在 RUNTESTFLAGS 参数中手动调用它们？</p> <p>答案是肯定的，它以 <code>contrib</code> 目录中的 <a href="http://gcc.gnu.org/viewcvs/trunk/contrib/test_recheck?view=markup" target="_blank" rel="noopener noreferrer">test_recheck<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 脚本的形式出现。</p> <p>该脚本是自记录的，但这里有一个示例，说明我在整夜运行并重建修改后的编译器后如何使用它。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ ~ gcc/contrib/test_recheck /work/src/build/obj/gcc2/gcc/testsuite
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显然，在您认为您的工作是无回归的之前，您仍然需要进行完整的回归运行（您的“修复”可能已经破坏了其他东西！），但这是确定损坏的测试现在是否有效的便捷方法。</p> <p>此脚本的另一个有价值的用途是当您偶尔由于测试机器上的高负载而导致测试超时。 在这种情况下，您可能希望在运行结束时使用 test_recheck 来减少与前一组结果比较时的噪音。</p> <p>警告：运行此脚本将清除完整运行的日志（.sum 和 .log 文件），因此您可能希望在调用它之前备份它们。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a011459a.js" defer></script><script src="/assets/js/2.5ad7620d.js" defer></script><script src="/assets/js/133.1506e511.js" defer></script>
  </body>
</html>
