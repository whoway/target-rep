<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>gdb选项命令 | whoway</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/images/photo.jpg">
    <link rel="manifest" href="/images/photo.jpg">
    <link rel="apple-touch-icon" href="/images/photo.jpg">
    <meta name="description" content="Personal Blog Website">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.a88dafb3.css" as="style"><link rel="preload" href="/assets/js/app.2e5696d8.js" as="script"><link rel="preload" href="/assets/js/2.cdbbc3f7.js" as="script"><link rel="preload" href="/assets/js/1.7582fb06.js" as="script"><link rel="preload" href="/assets/js/137.442e14c3.js" as="script"><link rel="prefetch" href="/assets/js/10.d43991e9.js"><link rel="prefetch" href="/assets/js/100.4bc583b7.js"><link rel="prefetch" href="/assets/js/101.93947308.js"><link rel="prefetch" href="/assets/js/102.345fed92.js"><link rel="prefetch" href="/assets/js/103.cd997ac6.js"><link rel="prefetch" href="/assets/js/104.10d75cc9.js"><link rel="prefetch" href="/assets/js/105.dc83c107.js"><link rel="prefetch" href="/assets/js/106.927ffb47.js"><link rel="prefetch" href="/assets/js/107.8412d01e.js"><link rel="prefetch" href="/assets/js/108.e844ad00.js"><link rel="prefetch" href="/assets/js/109.d6b5cfd7.js"><link rel="prefetch" href="/assets/js/11.0fd86637.js"><link rel="prefetch" href="/assets/js/110.2bf0e720.js"><link rel="prefetch" href="/assets/js/111.4c0615d6.js"><link rel="prefetch" href="/assets/js/112.bfe0f324.js"><link rel="prefetch" href="/assets/js/113.7f0a5ac6.js"><link rel="prefetch" href="/assets/js/114.634bb227.js"><link rel="prefetch" href="/assets/js/115.e6355c2c.js"><link rel="prefetch" href="/assets/js/116.5dbf734f.js"><link rel="prefetch" href="/assets/js/117.fece16aa.js"><link rel="prefetch" href="/assets/js/118.86bafc83.js"><link rel="prefetch" href="/assets/js/119.ccd0f67c.js"><link rel="prefetch" href="/assets/js/12.c5476202.js"><link rel="prefetch" href="/assets/js/120.f764c133.js"><link rel="prefetch" href="/assets/js/121.0c9ef803.js"><link rel="prefetch" href="/assets/js/122.32d83487.js"><link rel="prefetch" href="/assets/js/123.e3b2504d.js"><link rel="prefetch" href="/assets/js/124.4c7895de.js"><link rel="prefetch" href="/assets/js/125.9526e9b7.js"><link rel="prefetch" href="/assets/js/126.aa949b75.js"><link rel="prefetch" href="/assets/js/127.b4276180.js"><link rel="prefetch" href="/assets/js/128.143dd43f.js"><link rel="prefetch" href="/assets/js/129.70bec234.js"><link rel="prefetch" href="/assets/js/13.7b6aa68d.js"><link rel="prefetch" href="/assets/js/130.c9eea27b.js"><link rel="prefetch" href="/assets/js/131.d4b0cc13.js"><link rel="prefetch" href="/assets/js/132.9334b0b0.js"><link rel="prefetch" href="/assets/js/133.016f0390.js"><link rel="prefetch" href="/assets/js/134.1826bb9f.js"><link rel="prefetch" href="/assets/js/135.a85524d5.js"><link rel="prefetch" href="/assets/js/136.41ce9dd3.js"><link rel="prefetch" href="/assets/js/138.20362866.js"><link rel="prefetch" href="/assets/js/139.3da3838e.js"><link rel="prefetch" href="/assets/js/14.2d377bb1.js"><link rel="prefetch" href="/assets/js/140.07b3bd91.js"><link rel="prefetch" href="/assets/js/141.81f8a4b8.js"><link rel="prefetch" href="/assets/js/142.c0e69aca.js"><link rel="prefetch" href="/assets/js/143.6399d371.js"><link rel="prefetch" href="/assets/js/144.071681d9.js"><link rel="prefetch" href="/assets/js/145.207ef8b1.js"><link rel="prefetch" href="/assets/js/146.6274835e.js"><link rel="prefetch" href="/assets/js/147.13320ecc.js"><link rel="prefetch" href="/assets/js/148.1488db1e.js"><link rel="prefetch" href="/assets/js/149.1a9fc809.js"><link rel="prefetch" href="/assets/js/15.466803aa.js"><link rel="prefetch" href="/assets/js/150.394a325b.js"><link rel="prefetch" href="/assets/js/151.f6d93a8a.js"><link rel="prefetch" href="/assets/js/152.26d29506.js"><link rel="prefetch" href="/assets/js/153.0956574f.js"><link rel="prefetch" href="/assets/js/154.09a29720.js"><link rel="prefetch" href="/assets/js/155.e666e0b0.js"><link rel="prefetch" href="/assets/js/156.f93cc485.js"><link rel="prefetch" href="/assets/js/157.c1f2caf5.js"><link rel="prefetch" href="/assets/js/158.263f254b.js"><link rel="prefetch" href="/assets/js/159.3b2e13f4.js"><link rel="prefetch" href="/assets/js/16.05df67bc.js"><link rel="prefetch" href="/assets/js/160.7bf16413.js"><link rel="prefetch" href="/assets/js/161.f5bed3c6.js"><link rel="prefetch" href="/assets/js/162.a187851a.js"><link rel="prefetch" href="/assets/js/17.5ffce978.js"><link rel="prefetch" href="/assets/js/18.c606cd68.js"><link rel="prefetch" href="/assets/js/19.67e71589.js"><link rel="prefetch" href="/assets/js/20.682d95aa.js"><link rel="prefetch" href="/assets/js/21.6a37c996.js"><link rel="prefetch" href="/assets/js/22.8c2d9642.js"><link rel="prefetch" href="/assets/js/23.fbc6759d.js"><link rel="prefetch" href="/assets/js/24.80ba9e35.js"><link rel="prefetch" href="/assets/js/25.3bf149af.js"><link rel="prefetch" href="/assets/js/26.81487521.js"><link rel="prefetch" href="/assets/js/27.9f8297f7.js"><link rel="prefetch" href="/assets/js/28.2e533619.js"><link rel="prefetch" href="/assets/js/29.c91b4cdb.js"><link rel="prefetch" href="/assets/js/3.fc60f2a6.js"><link rel="prefetch" href="/assets/js/30.3ec36748.js"><link rel="prefetch" href="/assets/js/31.25adbba9.js"><link rel="prefetch" href="/assets/js/32.8b679348.js"><link rel="prefetch" href="/assets/js/33.0a7463a0.js"><link rel="prefetch" href="/assets/js/34.e9666a27.js"><link rel="prefetch" href="/assets/js/35.f825a13e.js"><link rel="prefetch" href="/assets/js/36.a2d67244.js"><link rel="prefetch" href="/assets/js/37.77472f85.js"><link rel="prefetch" href="/assets/js/38.084571f2.js"><link rel="prefetch" href="/assets/js/39.a5a7b429.js"><link rel="prefetch" href="/assets/js/4.f2f3c1b5.js"><link rel="prefetch" href="/assets/js/40.3947475d.js"><link rel="prefetch" href="/assets/js/41.7ccf6c81.js"><link rel="prefetch" href="/assets/js/42.aa3f7fc9.js"><link rel="prefetch" href="/assets/js/43.e4699345.js"><link rel="prefetch" href="/assets/js/44.0cbfe0b9.js"><link rel="prefetch" href="/assets/js/45.3ce4558f.js"><link rel="prefetch" href="/assets/js/46.1dc1fa88.js"><link rel="prefetch" href="/assets/js/47.d4c86d42.js"><link rel="prefetch" href="/assets/js/48.481d14ee.js"><link rel="prefetch" href="/assets/js/49.3711ffcb.js"><link rel="prefetch" href="/assets/js/5.0b6e4a3c.js"><link rel="prefetch" href="/assets/js/50.ce84ac39.js"><link rel="prefetch" href="/assets/js/51.a46d2cf7.js"><link rel="prefetch" href="/assets/js/52.7c4f5669.js"><link rel="prefetch" href="/assets/js/53.cf332fcf.js"><link rel="prefetch" href="/assets/js/54.d8efd716.js"><link rel="prefetch" href="/assets/js/55.25ea8a00.js"><link rel="prefetch" href="/assets/js/56.373cc522.js"><link rel="prefetch" href="/assets/js/57.99ed0004.js"><link rel="prefetch" href="/assets/js/58.76297bc9.js"><link rel="prefetch" href="/assets/js/59.3c95e98a.js"><link rel="prefetch" href="/assets/js/6.69967ea6.js"><link rel="prefetch" href="/assets/js/60.8be7983a.js"><link rel="prefetch" href="/assets/js/61.73157eea.js"><link rel="prefetch" href="/assets/js/62.e8314ed6.js"><link rel="prefetch" href="/assets/js/63.114cad76.js"><link rel="prefetch" href="/assets/js/64.8aeb44ed.js"><link rel="prefetch" href="/assets/js/65.9c05a187.js"><link rel="prefetch" href="/assets/js/66.9c45403e.js"><link rel="prefetch" href="/assets/js/67.312fc0d1.js"><link rel="prefetch" href="/assets/js/68.3d7f595f.js"><link rel="prefetch" href="/assets/js/69.96e3de5d.js"><link rel="prefetch" href="/assets/js/7.b51e7de9.js"><link rel="prefetch" href="/assets/js/70.df1b780d.js"><link rel="prefetch" href="/assets/js/71.9f255de6.js"><link rel="prefetch" href="/assets/js/72.f736da54.js"><link rel="prefetch" href="/assets/js/73.c9f23ccf.js"><link rel="prefetch" href="/assets/js/74.d0f6fa9c.js"><link rel="prefetch" href="/assets/js/75.2810a238.js"><link rel="prefetch" href="/assets/js/76.58be3c95.js"><link rel="prefetch" href="/assets/js/77.1924da08.js"><link rel="prefetch" href="/assets/js/78.24f1feb6.js"><link rel="prefetch" href="/assets/js/79.7d4871b2.js"><link rel="prefetch" href="/assets/js/80.4b5b8b47.js"><link rel="prefetch" href="/assets/js/81.a65d20c3.js"><link rel="prefetch" href="/assets/js/82.9d281b81.js"><link rel="prefetch" href="/assets/js/83.8051ec8b.js"><link rel="prefetch" href="/assets/js/84.54b2c4da.js"><link rel="prefetch" href="/assets/js/85.28fe8cbc.js"><link rel="prefetch" href="/assets/js/86.c8f88126.js"><link rel="prefetch" href="/assets/js/87.03a811f6.js"><link rel="prefetch" href="/assets/js/88.4cf4a2be.js"><link rel="prefetch" href="/assets/js/89.15ab4d06.js"><link rel="prefetch" href="/assets/js/90.dc7de277.js"><link rel="prefetch" href="/assets/js/91.9b182bb4.js"><link rel="prefetch" href="/assets/js/92.32860fec.js"><link rel="prefetch" href="/assets/js/93.49eb05e0.js"><link rel="prefetch" href="/assets/js/94.d07af083.js"><link rel="prefetch" href="/assets/js/95.27fb8850.js"><link rel="prefetch" href="/assets/js/96.c3e3870d.js"><link rel="prefetch" href="/assets/js/97.0059c40d.js"><link rel="prefetch" href="/assets/js/98.7107777a.js"><link rel="prefetch" href="/assets/js/99.ca3222b5.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.7026204d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a88dafb3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">whoway</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/1存储/" class="nav-link">
  存储
</a></div><div class="nav-item"><a href="/2网络/" class="nav-link">
  网络
</a></div><div class="nav-item"><a href="/3语言/" class="nav-link">
  语言
</a></div><div class="nav-item"><a href="/4GNU-Linux/" class="nav-link">
  GNU-OS
</a></div><div class="nav-item"><a href="/5Coding/" class="nav-link">
  编码
</a></div><div class="nav-item"><a href="/6MacOS/" class="nav-link">
  MacOS
</a></div><div class="nav-item"><a href="/7Windows/" class="nav-link">
  Windows
</a></div><div class="nav-item"><a href="/8工具/" class="nav-link">
  软件工具
</a></div><div class="nav-item"><a href="/9状态/" class="nav-link">
  网站动态
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/1存储/" class="nav-link">
  存储
</a></div><div class="nav-item"><a href="/2网络/" class="nav-link">
  网络
</a></div><div class="nav-item"><a href="/3语言/" class="nav-link">
  语言
</a></div><div class="nav-item"><a href="/4GNU-Linux/" class="nav-link">
  GNU-OS
</a></div><div class="nav-item"><a href="/5Coding/" class="nav-link">
  编码
</a></div><div class="nav-item"><a href="/6MacOS/" class="nav-link">
  MacOS
</a></div><div class="nav-item"><a href="/7Windows/" class="nav-link">
  Windows
</a></div><div class="nav-item"><a href="/8工具/" class="nav-link">
  软件工具
</a></div><div class="nav-item"><a href="/9状态/" class="nav-link">
  网站动态
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>gdb选项命令</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#目录" class="sidebar-link">目录</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_1-gdb历史发展" class="sidebar-link">1.gdb历史发展</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_2-基础命令" class="sidebar-link">2.基础命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_2-1-开启tui模式的gdb" class="sidebar-link">2.1.开启的GDB</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_2-2-设置参考-查看具体代码" class="sidebar-link">2.2.设置参考-查看具体代码</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_2-3-断点操作-增-删-改-查看" class="sidebar-link">2.3.断点操作（增+删+改+查看）</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_2-4-调试命令" class="sidebar-link">2.4.调试命令</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_2-6-窗口看汇编-layout模式使用" class="sidebar-link">2.6.窗口看汇编—layout模式使用</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_2-6-gdb调试汇编指令⭐️" class="sidebar-link">2.6.gdb调试汇编指令⭐️</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_2-7-gdb内执行shell指令" class="sidebar-link">2.7.gdb内执行shell指令</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_2-8-函数调用栈" class="sidebar-link">2.8.函数调用栈</a></li></ul></li><li><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_3-调试多进程or多线程⭐️" class="sidebar-link">3.调试多进程or多线程⭐️</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_3-1-调试-多进程" class="sidebar-link">3.1.调试-多进程</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_3-2-调试-多线程thread" class="sidebar-link">3.2.调试-多线程thread</a></li></ul></li><li><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_4-场景1-编译器开发⭐️" class="sidebar-link">4.场景1-编译器开发⭐️</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_4-1-gdb调试gcc的坑⭐️" class="sidebar-link">4.1.gdb调试gcc的坑⭐️</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_4-2-最新组会调试hcc-2022-5-7⭐️" class="sidebar-link">4.2.最新组会调试hcc-2022.5.7⭐️</a></li></ul></li><li><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_5-场景2-调试openmp" class="sidebar-link">5.场景2-调试openmp</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_6-其他细节" class="sidebar-link">6.其他细节</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_6-1-导入符号表file✔️" class="sidebar-link">6.1.导入符号表file✔️</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_6-2-load✔️" class="sidebar-link">6.2.load✔️</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_6-3-常见问题" class="sidebar-link">6.3.常见问题</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_6-4-细节" class="sidebar-link">6.4.细节</a></li></ul></li><li><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_7-场景3-gdb的远程调试" class="sidebar-link">7.场景3-gdb的远程调试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_7-1-组会调试经验-gdb-gdbserver远程调试技术-✔️" class="sidebar-link">7.1.组会调试经验（gdb+gdbserver远程调试技术）✔️</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_7-2-gdb使用模拟器-免除远程调试-✔️" class="sidebar-link">7.2.gdb使用模拟器（免除远程调试）✔️</a></li></ul></li><li><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#⭐️-牛客网-gdb演示「笔记」" class="sidebar-link">⭐️”牛客网“gdb演示「笔记」</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_1-演示开始" class="sidebar-link">1.演示开始</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_2-set-args和show-args的实验" class="sidebar-link">2.set args和show args的实验</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_3-如果test没有使用-g生成-我们的gdb表现" class="sidebar-link">3.如果test没有使用-g生成，我们的gdb表现</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_4-断点的设置" class="sidebar-link">4.断点的设置</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_16-gdb调试4" class="sidebar-link">16.GDB调试4</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#断点被击中一次⭐️「info-break」" class="sidebar-link">断点被击中一次⭐️「info break」</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#跳出循环" class="sidebar-link">跳出循环</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#跳出函数体finish" class="sidebar-link">跳出函数体finish</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#自动变量-很有用" class="sidebar-link">自动变量(很有用)</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#set修正bug-继续调试" class="sidebar-link">set修正bug，继续调试</a></li><li class="sidebar-sub-header"><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#_0-代码" class="sidebar-link">0.代码</a></li></ul></li><li><a href="/8%E5%B7%A5%E5%85%B7/1.GNUtoolchain/2.gdb%E9%80%89%E9%A1%B9%E5%91%BD%E4%BB%A4.html#参考资料" class="sidebar-link">参考资料</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="gdb选项命令"><a href="#gdb选项命令" class="header-anchor">#</a> gdb选项命令</h1> <ul><li>快捷键，command+shift+L</li></ul> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>&lt;font style=&quot;background:yellow&quot;&gt;
&lt;font style=&quot;background:pink&quot;&gt;
&lt;font style=&quot;background: MediumSpringGreen&quot;&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我们<font style="background:pink;">约定<code>(gdb) 命令</code>，表示该命令在gdb里面调试的意思，不是在bash中运行</font></p> <p>有人说：<strong>厉害的调试需要比开发付出2倍以上的努力</strong></p> <ul><li>gdb设计哲学</li></ul> <p>1.gdb里面也能用Tab来补全</p> <p>2.gdb中使用<code>(gdb) help</code>可以查看各种内置gdb命令语法</p> <p>3.退出gdb使用<code>(gdb) q</code>就行了 「或快捷键<font style="background:MediumSpringGreen;">Ctrl+d</font>」</p> <h2 id="目录"><a href="#目录" class="header-anchor">#</a> 目录</h2> <p></p><div class="table-of-contents"><ul><li><a href="#目录">目录</a></li><li><a href="#_1-gdb历史发展">1.gdb历史发展</a></li><li><a href="#_2-基础命令">2.基础命令</a><ul><li><a href="#_2-1-开启-font-style-background-yellow-tui模式-font-的gdb">2.1.开启<font style="background:yellow;">TUI模式</font>的GDB</a></li><li><a href="#_2-2-设置参考-查看具体代码">2.2.设置参考-查看具体代码</a></li><li><a href="#_2-3-断点操作-增-删-改-查看">2.3.断点操作（增+删+改+查看）</a></li><li><a href="#_2-4-调试命令">2.4.调试命令</a></li><li><a href="#_2-6-窗口看汇编-layout-模式使用">2.6.窗口看汇编—layout模式使用</a></li><li><a href="#_2-6-gdb调试汇编指令⭐️">2.6.gdb调试汇编指令⭐️</a></li><li><a href="#_2-7-gdb内执行shell指令">2.7.gdb内执行shell指令</a></li><li><a href="#_2-8-函数调用栈">2.8.函数调用栈</a></li></ul></li><li><a href="#_3-调试多进程or多线程⭐️">3.调试多进程or多线程⭐️</a><ul><li><a href="#_3-1-调试-多进程">3.1.调试-多进程</a></li><li><a href="#_3-2-调试-多线程thread">3.2.调试-多线程thread</a></li></ul></li><li><a href="#_4-场景1-编译器开发⭐️">4.场景1-编译器开发⭐️</a><ul><li><a href="#_4-1-gdb调试gcc的坑⭐️">4.1.gdb调试gcc的坑⭐️</a></li><li><a href="#_4-2-最新组会调试hcc-2022-5-7⭐️">4.2.最新组会调试hcc-2022.5.7⭐️</a></li></ul></li><li><a href="#_5-场景2-调试openmp">5.场景2-调试openmp</a></li><li><a href="#_6-其他细节">6.其他细节</a><ul><li><a href="#_6-1-导入符号表file✔️">6.1.导入符号表file✔️</a></li><li><a href="#_6-2-load✔️">6.2.load✔️</a></li><li><a href="#_6-3-常见问题">6.3.常见问题</a></li><li><a href="#_6-4-细节">6.4.细节</a></li></ul></li><li><a href="#_7-场景3-gdb的远程调试">7.场景3-gdb的远程调试</a><ul><li><a href="#_7-1-组会调试经验-gdb-gdbserver远程调试技术-✔️">7.1.组会调试经验（gdb+gdbserver远程调试技术）✔️</a></li><li><a href="#_7-2-gdb使用模拟器-免除远程调试-✔️">7.2.gdb使用模拟器（免除远程调试）✔️</a></li></ul></li><li><a href="#⭐️-牛客网-gdb演示「笔记」">⭐️”牛客网“gdb演示「笔记」</a><ul><li><a href="#_1-演示开始">1.演示开始</a></li><li><a href="#_2-set-args和show-args的实验">2.set args和show args的实验</a></li><li><a href="#_3-如果test没有使用-g生成-我们的gdb表现">3.如果test没有使用-g生成，我们的gdb表现</a></li><li><a href="#_4-断点的设置">4.断点的设置</a></li><li><a href="#_16-gdb调试4">16.GDB调试4</a></li><li><a href="#断点被击中一次⭐️「info-break」">断点被击中一次⭐️「info break」</a></li><li><a href="#跳出循环">跳出循环</a></li><li><a href="#跳出函数体finish">跳出函数体finish</a></li><li><a href="#自动变量-很有用">自动变量(很有用)</a></li><li><a href="#set修正bug-继续调试">set修正bug，继续调试</a></li><li><a href="#_0-代码">0.代码</a></li></ul></li><li><a href="#参考资料">参考资料</a></li></ul></div><p></p> <p>[TOC]</p> <h2 id="_1-gdb历史发展"><a href="#_1-gdb历史发展" class="header-anchor">#</a> 1.gdb历史发展</h2> <p>​	gdb是由gnu 软件系统社区提供的调试工具,注意的，它是<strong>调试程序</strong>的一个工具。那么这个gdb 啊同我们之前啊所学习的这个gcc 啊<strong>编译套件</strong>。那么他们呢配套啊组成了一套完整的开发环境啊</p> <p>​	gdb 呢它是linux 啊和许多这个类unix系统当中啊，它的一个标准的开发环境。一般来说呢，这个gdb 啊这个调试工具啊主要能够帮助你完成下面四个方面的功能啊。</p> <ul><li><p>1．启动程序，可以按照自定义的要求随心所欲的<strong>运行</strong>程序</p></li> <li><p>2．可让被调试的程序在所指定的调置的断点处停住（断点可以是条件表达式)</p></li> <li><p>3．当程序被停住时，可以检查此时程序中所发生的事</p> <ul><li>比如说呢我想看一个这个变量，它的值是什么</li></ul></li> <li><p>4．可以改变程序，<strong>将一个BUG产生的影响修正</strong>,从而测试其他 BUG</p></li></ul> <p>​	就是当我们用这个GDB啊去调试的时候啊，比如说我们发现了一个bug 了，对吧？其实我们是可以把这个程序啊。啊，修改过来了，就通过GDB 的一些指令啊，比如说我设置某个变量，把它的值呢给⭐️设置正确了⭐️。那么接下来呢我们就可以继续往下去测试其他的这个bug 了。对吧，如果说你第一个bug 没有啊，这个呃结果呢是错误的，<strong>那你后面这个bug 其实他测出来的这个意义啊，有的时候呢是没有任何意义</strong>的，对吧？</p> <ul><li><strong>可能bug 和bug 之间呢会有这个相互的一个影响—依赖关系。</strong></li></ul> <p>​	GDB 啊，它的一个吉祥物啊，那这个吉祥物它是一条鱼，对吧？他不是普通的鱼，它是一个什么呢？<font style="background:MediumSpringGreen;">射手鱼</font>，大家都知道他可以去往这个外面呢去吐这个水泡，对吧？吐水啊，<strong>那么呃他呢能够把这个树上的虫子。通过这个水呢给击落下来啊，来去捕捉这个虫子嘛</strong>，对吧？那么虫子是什么呀，虫子是不是就是bug 呀，对吧？所以说他的这个吉祥物啊还是啊非常有这个意思的，对吧？啊，非常的这个形象啊，我通过这个鱼去吐水啊，把这个树上的bug 呢给击落下来啊，其实就是去找bug 啊，那这样呢大家了解一下。</p> <p>​	然后呢，我们来看一下，我们要进行这个g d b 调试啊，我们需要做的一<strong>些⭐️准备工作</strong>。那么通常呢在<strong>为调试而编译时</strong>，我们会干嘛呢？</p> <ul><li><p>1.通常，在为调试而编译时，我们会⭐️关掉编译器的优化选项（<code>-O</code>)，并打开调试选项（<code>-g</code>)</p> <ul><li><strong>关掉这个啊编译器的一个优化选项⭐️</strong>啊，就是-大O的参数，那其实⭐️你不关的话也没有关系⭐️啊</li> <li>加上一个-g参数啊，那具体怎么操作呢？比如说啊gcc -g，对吧？==-g你放在前面，放在后面都无所谓==。</li></ul></li> <li><p>2.另外， <code>-Wall</code>在尽量不影响程序行为的情况下选项打开所有warning，也可以发现许多问题，避免一些不必要的 BUG。因为有的时候呢，这个警告它其实也是这个问题，对吧？也是这个bug 啊，也可以发现许多问题，避免一些不必要的bug。</p> <ul><li><code>gcc -g -Wall program.c -o program</code></li> <li><strong>然后-Wall打开这个所有的警告，这个你不加的话呢也没有关系啊</strong>。</li> <li><code>-g</code>选项的作用是在可执行文件中<strong>加入源代码的信息</strong>，比如可执行文件中第几条<strong>机器指令</strong>对应<strong>源代码</strong>的第几行，<strong>但并⭐️不是把整个源文件嵌入到可执行文件中</strong>，所以<font style="background:yellow;">⭐️在调试时必须保证gdb能找到源文件（意思是：源码的路径和可执行文件之间的相对位置要不变）</font></li></ul></li></ul> <p>==注意了，他不是把原文件的代码就直接嵌入到这个可执行程序当中了==。他只是把这些啊，比如说你这个可执行程序，它里面的代码，对吧？二进制的这个代码吗？对吧？比如说对应的是我们源代码的。第几行啊，那么他会把这些信息打包到这个可执行程序当中啊，<strong>所以呢我们在调用这个就是说在调试这个程序的时候啊，你必须要保证这个gdb啊能够找到原文件</strong>。==如果说找不到的话，那它就不能进行一个断点调试啊==，<strong>他就不能通过这个gdB去调试。</strong></p> <h2 id="_2-基础命令"><a href="#_2-基础命令" class="header-anchor">#</a> 2.基础命令</h2> <h3 id="_2-1-开启tui模式的gdb"><a href="#_2-1-开启tui模式的gdb" class="header-anchor">#</a> 2.1.开启<font style="background:yellow;">TUI模式</font>的GDB</h3> <p>方法1：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gdb <span class="token builtin class-name">test</span> <span class="token parameter variable">-tui</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>方法2：</p> <p>​	在GDB中使用<code>Ctrl+X+A</code>快捷键，切换TUI模型</p> <ul><li>自<strong>版本6.1</strong>以来，GDB以名为<font style="background:yellow;">TUI（Terminal User Interface，终端用户界面）</font>的模式提供了基于文本交互和图形用户交互之间的折中方法</li></ul> <h3 id="_2-2-设置参考-查看具体代码"><a href="#_2-2-设置参考-查看具体代码" class="header-anchor">#</a> 2.2.设置参考-查看具体代码</h3> <table><thead><tr><th>意义</th> <th>启动和退出</th> <th>示例</th></tr></thead> <tbody><tr><td>启动gdb</td> <td><code>gdb 可执行程序</code></td> <td><code>gdb a.out</code></td></tr> <tr><td>退出gdb</td> <td><code>q/quit</code></td> <td><code>(gdb) q</code></td></tr> <tr><td>给程序<strong>设置参数</strong></td> <td></td> <td><code>(gdb) set args 10 20</code></td></tr> <tr><td>获取程序的设置参数</td> <td></td> <td><code>(gdb) show args</code></td></tr> <tr><td>列出gdb的所有命令使用帮助</td> <td></td> <td><code>(gdb) help</code></td></tr> <tr><td>获取<strong>某条gdb命令具体</strong>的帮助文档</td> <td></td> <td><code>(gdb) help set args</code></td></tr> <tr><td>查看<strong>当前文件代码</strong>(从默认位置显示)</td> <td><code>l/list</code></td> <td><code>(gdb) l</code></td></tr> <tr><td>查看<strong>当前文件代码</strong>(从<strong>指定的行</strong>显示，显示该行的上下文)「注意，这是以该<strong>行</strong>为中间的哪部分显示，而不是从该行开始显示的」</td> <td><code>l 行号</code></td> <td><code>(gdb) l 13</code></td></tr> <tr><td>查看<strong>当前文件代码</strong>(从指定的函数显示，显示该函数的上下文)</td> <td><code>l 函数名</code></td> <td><code>(gdb) l func</code></td></tr> <tr><td>查看<strong>非当前文件</strong>代码「看其他代码的文件」</td> <td><code>list/ l文件名:行号</code></td> <td><code>(gdb) l pragma.c:13</code></td></tr> <tr><td></td> <td><code>list/ l文件名:函数名</code></td> <td><code>(gdb) l pragma.c:alignof</code></td></tr> <tr><td>查看显示的行数</td> <td><code>show list/ listsize</code></td> <td></td></tr> <tr><td>设置显示的行数</td> <td><code>set list/ listsize行数</code></td> <td></td></tr></tbody></table> <h3 id="_2-3-断点操作-增-删-改-查看"><a href="#_2-3-断点操作-增-删-改-查看" class="header-anchor">#</a> 2.3.断点操作（增+删+改+查看）</h3> <p>​	「break point」设置断点</p> <table><thead><tr><th>意义</th> <th>命令</th></tr></thead> <tbody><tr><td>在本文件的某行设置断点</td> <td><code>(gdb) b 13</code></td></tr> <tr><td>在某个函数名设置断点：<font style="background:yellow;">大型调试常用</font></td> <td><code>(gdb) b main</code></td></tr> <tr><td></td> <td><code>(gdb) b prgama.cpp:cgmain</code></td></tr> <tr><td>在某文件的某行，断点</td> <td><code>(gdb) b main.cpp:31</code></td></tr> <tr><td>查看所有断点</td> <td><code>(gdb) info break</code></td></tr> <tr><td>删除断点</td> <td><code>(gdb) d 断点编号</code></td></tr> <tr><td>设置断点无效「disable」</td> <td><code>(gdb) dis/ disable 断点编号</code></td></tr> <tr><td>设置断点生效（<strong>使能</strong>断点）「enable」</td> <td><code>(gdb) ena/enable断点编号</code></td></tr> <tr><td>设置条件断点（一般用在循环的位置)</td> <td><code>(gdb) b 10 if i==5</code></td></tr> <tr><td>正则表达式的断点，rbreak 可以跟一个规则表达式。rbreak + 表达式的用法与grep + 表达式相似。即在所有与表达式匹配的函数入口都设置断点</td> <td><code>rbreak list_*</code>即在所有以 list_ 为开头字符的函数地方都设置断点</td></tr> <tr><td></td> <td></td></tr></tbody></table> <ul><li><code>info program： 来查看程序的是否在运行，进程号，被暂停的原因。</code></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info program
	Using the running image of child process <span class="token number">11013</span>.
Program stopped at 0xaaaaaabcbd48.
It stopped after being stepped.
Type <span class="token string">&quot;info stack&quot;</span> or <span class="token string">&quot;info registers&quot;</span> <span class="token keyword">for</span> <span class="token function">more</span> information.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-4-调试命令"><a href="#_2-4-调试命令" class="header-anchor">#</a> 2.4.调试命令</h3> <table><thead><tr><th>意义</th> <th>命令</th></tr></thead> <tbody><tr><td>在GDB里面运行程序，<strong>程序停在第一行</strong></td> <td><code>(gdb) start</code></td></tr> <tr><td>在GDB里面运行程序，<strong>遇到断点才停</strong></td> <td><code>(gdb) run</code></td></tr> <tr><td>继续运行，到==下一个断点==停</td> <td><code>(gdb) c/continue</code></td></tr> <tr><td>向下执行一行、多行代码（<font style="background:yellow;"><strong>不会进入</strong>函数体</font>）</td> <td><code>(gdb) n</code></td></tr> <tr><td></td> <td><code>(gdb) n 3</code></td></tr> <tr><td>「函数相关」⭐️向下单步调试，<font style="background:yellow;">遇到函数<strong>进入</strong>函数体</font></td> <td><code>(gdb) s/step</code></td></tr> <tr><td>「函数相关」执行完当前函数，==跳出函数体==</td> <td><code>(gdb) finish</code></td></tr> <tr><td>「循环相关」⭐️跳出循环</td> <td><code>(gdb) until</code></td></tr> <tr><td>「手动，临时修正bug」⭐️</td> <td><code>(gdb) set var 变量名=变量值</code> （循环中用的较多）</td></tr></tbody></table> <p>变量操作</p> <ul><li><code>p/print 变量名</code>（打印变量值）</li> <li><code>ptype 变量名</code>（打印变量类型）</li></ul> <p>自动变量操作</p> <ul><li><code>display 变量名</code>（自动打印指定变量的值）</li> <li><code>i/info display</code></li> <li><code>undisplay 编号</code></li></ul> <h3 id="_2-6-窗口看汇编-layout模式使用"><a href="#_2-6-窗口看汇编-layout模式使用" class="header-anchor">#</a> 2.6.窗口看汇编—<code>layout</code>模式使用</h3> <table><thead><tr><th>意思</th> <th>命令</th></tr></thead> <tbody><tr><td>⭐️<strong>使能</strong>TUI模式「enable」</td> <td><code>(gdb) tui enable</code></td></tr> <tr><td>layout 命令用于分割窗口，可以一边查看代码，一边测试</td> <td></td></tr> <tr><td>显示源代码⭐️窗口</td> <td><code>(gdb) layout src</code></td></tr> <tr><td>显示汇编⭐️窗口</td> <td><code>(gdb) layout asm</code></td></tr> <tr><td>显示源代码/汇编和寄存器⭐️窗口</td> <td><code>(gdb) layout regs</code></td></tr> <tr><td>显示源代码和汇编窗口	⭐️</td> <td><code>(gdb) layout split</code></td></tr> <tr><td></td> <td></td></tr> <tr><td>⭐️退出TUI模式或者layout模式「disable」</td> <td><code>(gdb) tui disable</code></td></tr></tbody></table> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> layout next：显示下一个layout
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> layout prev：显示上一个layout

<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> Ctrl + L：刷新窗口	⭐️
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> Ctrl + x，再按1：单窗口模式，显示一个窗口
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> Ctrl + x，再按2：双窗口模式，显示两个窗口
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> Ctrl + x，再按a：回到传统模式，即退出layout，回到执行layout之前的调试窗口
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>​	这样有个弊端，开了两个窗口不能上下切换查看历史命令，怎么解决</p> <p>​	⭐️使用<code>fs next</code>命令「<strong>类似Windows下切换窗口快捷键</strong>」切换窗口焦点「在unbuntu的Linux下，我们发现，<font style="background:MediumSpringGreen;">某个窗口，他的四边形框框是蓝色</font>」</p> <ul><li>比如下面的使用，这样的话，我的翻页就能对src源码翻页，而不是gdb的历史命令翻页</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> fs next   
Focus <span class="token builtin class-name">set</span> to cmd⭐️ window.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> fs next 
Focus <span class="token builtin class-name">set</span> to src⭐️ window.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-6-gdb调试汇编指令⭐️"><a href="#_2-6-gdb调试汇编指令⭐️" class="header-anchor">#</a> 2.6.gdb调试汇编指令⭐️</h3> <table><thead><tr><th>作用</th> <th>举例</th></tr></thead> <tbody><tr><td>⭐️汇编单步，也可使用s一次执行多条指令（取决于C源码），si执行一条汇编指令</td> <td><code>(gdb) si</code></td></tr> <tr><td>⭐️给寄存器赋值</td> <td><code>(gdb) set $x1=85</code></td></tr> <tr><td>⭐️强行终止调试程序</td> <td><code>(gdb) kill</code></td></tr> <tr><td>监视变量var_a</td> <td><code>(gdb) watch var_a</code></td></tr> <tr><td>打印所有寄存器的值</td> <td><code>(gdb) info registers</code></td></tr> <tr><td>⭐️直接查看这个内存地址存放的内容</td> <td><code>(gdb) x 0xc0000000018ac130</code></td></tr> <tr><td>设置硬件断点(hardware breakpoint)</td> <td><code>(gdb) hb boot_cpu_init</code></td></tr> <tr><td>⭐️print，打印<code>$x1</code>寄存器的值，p后面加'x'表示16进制</td> <td><code>(gdb) p/x $x1</code></td></tr> <tr><td>打印变量内存地址</td> <td><code>(gdb) p &amp;vara</code></td></tr> <tr><td>查看内存变量vara的值，赋值语法同寄存器赋值</td> <td><code>(gdb) p vara</code></td></tr> <tr><td>用16进制的方式打印相应的32位</td> <td><code>(gdb) p/x cur-num</code></td></tr> <tr><td>⭐️查看寄存器</td> <td><code>(gdb) info register</code></td></tr> <tr><td>⭐️查看具体寄存器【注意，不需要%eax】</td> <td><code>(gdb) info register eax</code></td></tr> <tr><td>反汇编函数</td> <td><code>(gdb) disassemble main</code></td></tr></tbody></table> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>disaseembit 汇编
built-in的函数直接转为指令了


GDB默认汇编格式是AT<span class="token operator">&amp;</span>T格式，windows用户会感觉很蛋疼，GDB很给力的支持切换成intel指令集。

切换intel格式的命令:
<span class="token builtin class-name">set</span> disassembly-flavor intel

切换成att格式的命令:
<span class="token builtin class-name">set</span> disassembly-flavor att

举例
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> <span class="token builtin class-name">set</span> disassembly-flavor intel
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> disassemble /m addme
Dump of assembler code <span class="token keyword">for</span> <span class="token keyword">function</span> addme:  带源码的反汇编addme函数
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> disassemble main 反汇编main函数
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><blockquote><p>区分，硬件断点、软件断点、内存断点</p></blockquote> <ul><li>参考资料：<a href="https://wizardforcel.gitbooks.io/grey-hat-python/content/9.html" target="_blank" rel="noopener noreferrer">https://wizardforcel.gitbooks.io/grey-hat-python/content/9.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h3 id="_2-7-gdb内执行shell指令"><a href="#_2-7-gdb内执行shell指令" class="header-anchor">#</a> 2.7.gdb内执行shell指令</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>用特殊符号<span class="token operator">!</span>开头.
好处就是可以边调试边看源码,甚至进行一些其他操作.
<span class="token operator">!</span>vim demo.cpp
<span class="token operator">!</span>pwd
<span class="token comment">#查看进来时的工作目录.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-8-函数调用栈"><a href="#_2-8-函数调用栈" class="header-anchor">#</a> 2.8.函数调用栈</h3> <p>​	下面是一些查看<strong>函数调用栈</strong>信息的GDB命令, 如在遇到段错误时，输入bt命令，即可跟踪错误，非常好用，方便记忆。可以叫<strong>变态</strong></p> <table><thead><tr><th>意义</th> <th>命令</th></tr></thead> <tbody><tr><td>bt打印当前的函数调用栈（backtrace）的所有信息，</td> <td><code>(gdb) bt</code></td></tr> <tr><td></td> <td><code>frame</code></td></tr></tbody></table> <h2 id="_3-调试多进程or多线程⭐️"><a href="#_3-调试多进程or多线程⭐️" class="header-anchor">#</a> 3.调试多进程or多线程⭐️</h2> <p>​	多进程和多线程调试，是<strong>后台程序调试</strong>⭐️不可避免⭐️而又比较<strong>困难</strong>的部分</p> <h3 id="_3-1-调试-多进程"><a href="#_3-1-调试-多进程" class="header-anchor">#</a> 3.1.调试-多进程</h3> <p>​	如果一个进程通过fork系统调用创建了子进程，『gdb 会继续调试原来的进程，子进程则正常运行』</p> <p>​	那么该如何调试子进程呢? 常用的方法有如下两种。比如，『子进程从本质上说也是一个进程』，因此我们可以用通用的gdb调试方法来调试它。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> 服务器程序名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>​	我们可以先运行服务器，然后找到<strong>目标子进程的PID</strong>，再将其附加（attach）到gdb调试器上。</p> <p>​	注意，和平常不一样了，需要指定跟踪父进程还是子进程？可以<strong>在fork函数调用之前（注意，一定要在fork函数调用之前设置才有效）</strong>，通过指令设置gdb调试工具跟踪父进程或者是跟踪子进程。<strong>如果不设置，则默认跟踪父进程</strong>（使用gdb调试的时候，gdb只能跟踪一个进程。）</p> <table><thead><tr><th>意义</th> <th>命令</th></tr></thead> <tbody><tr><td>选定某进程PID，进行调试</td> <td><code>attach 4183</code></td></tr> <tr><td>设置跟踪父进程</td> <td><code>set follow-fork-mode parent</code></td></tr> <tr><td>命令设置gdb在fork之后跟踪子进程</td> <td><code>set follow-fork-mode child</code></td></tr></tbody></table> <ul><li>问：要是有多个子进程，怎么办？可以设置断点，条件断点</li></ul> <h3 id="_3-2-调试-多线程thread"><a href="#_3-2-调试-多线程thread" class="header-anchor">#</a> 3.2.调试-多线程thread</h3> <p>​	gdb有一组命令可辅助多线程程序的调试。下面我们仅列举其中常用的一些:</p> <table><thead><tr><th>意义</th> <th>举例</th></tr></thead> <tbody><tr><td>⭐️调试<strong>目标ID</strong>指定的<strong>线程</strong></td> <td><code>(gdb) thread 3</code></td></tr> <tr><td>显示当前可调试的所有线程</td> <td><code>(gdb) info threads</code></td></tr> <tr><td></td> <td></td></tr></tbody></table> <p>​	关于调试进程池和线程池程序的一个不错的方法，是先将池中的进程个数或线程个数减少至1，以观察程序的逻辑是否正确,然后逐步增加进程或线程的数量，以调试进程或线程的『<strong>同步</strong>』是否正确。</p> <ul><li>Info threads的结果：gdb会为每个线程分配一个ID，我们可以使用这个ID来操作对应的线程。<strong>ID前面有“<code>*</code>”号的线程是当前被调试的线程。</strong></li></ul> <p>调试多线程程序时，默认除了被调试的线程在执行外，其他线程也在继续执行，但有的时候我们希望只让被调试的线程运行。这可以通过这个命令来实现。该命令设置scheduler-locking 的值:</p> <ul><li><code>set scheduler-locking [ off | on | step ]</code> <ul><li>off表示不锁定任何线程，即所有线程都可以继续执行，这是默认值;</li> <li>on表示只有当前被调试的线程会继续执行﹔</li> <li>step表示在单步执行的时候，只有当前线程会执行。</li></ul></li></ul> <h2 id="_4-场景1-编译器开发⭐️"><a href="#_4-场景1-编译器开发⭐️" class="header-anchor">#</a> 4.场景1-编译器开发⭐️</h2> <h3 id="_4-1-gdb调试gcc的坑⭐️"><a href="#_4-1-gdb调试gcc的坑⭐️" class="header-anchor">#</a> 4.1.gdb调试gcc的坑⭐️</h3> <ul><li>参考资料：<a href="https://dmalcolm.fedorapeople.org/gcc/newbies-guide/debugging.html" target="_blank" rel="noopener noreferrer">https://dmalcolm.fedorapeople.org/gcc/newbies-guide/debugging.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>直接gdb那个生成的gcc是调试gcc的<code>driver</code></p> <ul><li>gcc 二进制文件实际上是一个相对<strong>较小</strong>的“<strong>驱动（driver）”程序</strong>，它解析一些命令行选项，然后调用一个或多个其他程序来完成真正的工作</li></ul> <blockquote><p>使用这个才是调试<strong>ccl</strong>⭐️</p></blockquote> <ul><li>用这条指令就可以了</li> <li>好像直接gdb gcc调试的是<code>gcc driver</code></li> <li><font style="background:yellow;"><code>-wrapper gdb,--args</code> 调试的是真实的</font>编译器<font style="background:yellow;">cc1</font></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gcc test.c  <span class="token parameter variable">-S</span> <span class="token parameter variable">-Os</span> <span class="token parameter variable">-wrapper</span> gdb,--args
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>坑点：<code>gdb,--args</code>必须紧挨着写</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>XXX@XXX:~/debug_test$ gcc <span class="token parameter variable">-wrapper</span> gdb, <span class="token parameter variable">--args</span> whoway.c
gcc: error: unrecognized <span class="token builtin class-name">command</span> line option <span class="token string">'--args'</span>
XXX@XXX:~/debug_test$ gcc <span class="token parameter variable">-wrapper</span> gdb,--args whoway.c
这样才可以
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>gdb这样使用后（不需要set args或者r的时候添加参数了）✔️</strong></p> <ul><li>直接run就行了</li> <li>记得，调试ccl的时候，不能加-S</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@XXXX:~/debug_test$ gcc <span class="token parameter variable">-Os</span> -fldm-stm-optimize test.c <span class="token parameter variable">-wrapper</span> gdb,--args
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_4-2-最新组会调试hcc-2022-5-7⭐️"><a href="#_4-2-最新组会调试hcc-2022-5-7⭐️" class="header-anchor">#</a> 4.2.最新组会调试hcc-2022.5.7⭐️</h3> <h4 id="_4-2-1-解决-构造hcc可调式版-失败的原因-✔️"><a href="#_4-2-1-解决-构造hcc可调式版-失败的原因-✔️" class="header-anchor">#</a> 4.2.1.解决-构造hcc可调式版-失败的原因！✔️</h4> <h5 id="步骤"><a href="#步骤" class="header-anchor">#</a> 步骤</h5> <ul><li>1.修改<code>build_toolchain.sh</code></li></ul> <p>全部替换下面的</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>:%s/-Os/-g -O0/g
:%s/-O2/-g -O0/g
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>2.然后更新编译<code>(./build_toolchain.sh update)&gt; tee 2&gt;&amp;1</code>（还是无法找到debug信息，失败）⛔️</li> <li>3.==完全重新编译hcc_riscv32==，也就是<code>(./build_toolchain.sh hcc_riscv32)&gt;tee 2&gt;&amp;1</code>（成功✔️）</li></ul> <blockquote><p>关注细节</p></blockquote> <h5 id="调试hcc使用公版gdb而不是riscv-gdb"><a href="#调试hcc使用公版gdb而不是riscv-gdb" class="header-anchor">#</a> 调试hcc使用公版gdb而不是riscv_gdb</h5> <ul><li><p>使用==gdb==而不是riscv_gdb</p></li> <li><p>重新编译</p></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gdb XXXXX/cc1 
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span>先break然后再测试
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span>r lli2.c
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span>进行东西

__builtin_clz
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="调试命令展示⭐️"><a href="#调试命令展示⭐️" class="header-anchor">#</a> 调试命令展示⭐️</h5> <ul><li>调试cc1而不是drive</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>gdb /home/whoway/work/hcc_riscv_gcc/output/hcc_riscv32/libexec/gcc/riscv32-unknown-elf/7.3.0/cc1

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>断点</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>b riscv_judge_and2shift_continuous_bits<span class="token punctuation">(</span>unsigned int, int<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>这样才能，运行测试样例</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>r lli-and2shift-insn2.c <span class="token parameter variable">-Os</span> -mlli-expand -mand-shift-opt -femit-lli 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>小提示：不能-c，虽然你没有main函数，不然报错⭐️</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>cc1: error: <span class="token builtin class-name">command</span> line option <span class="token string">'-c'</span> is valid <span class="token keyword">for</span> the driver⭐️ but not <span class="token keyword">for</span> C

cc1：错误：命令行选项“-c”对驱动程序⭐️有效，但对 C 无效
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="直接调试cc1"><a href="#直接调试cc1" class="header-anchor">#</a> 直接调试cc1</h5> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@job:~/execute$ gdb /home/whoway/work/hcc_riscv_gcc/output/hcc_riscv32/libexec/gcc/riscv32-unknown-elf/7.3.0/cc1	✔️
GNU gdb <span class="token punctuation">(</span>Ubuntu <span class="token number">9.2</span>-0ubuntu1~20.04<span class="token punctuation">)</span> <span class="token number">9.2</span>
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2020</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">&gt;</span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type <span class="token string">&quot;show copying&quot;</span> and <span class="token string">&quot;show warranty&quot;</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">&quot;x86_64-linux-gnu&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;show configuration&quot;</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/bugs/<span class="token operator">&gt;</span>.
Find the GDB manual and other documentation resources online at:
    <span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">&gt;</span>.

For help, <span class="token builtin class-name">type</span> <span class="token string">&quot;help&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;apropos word&quot;</span> to search <span class="token keyword">for</span> commands related to <span class="token string">&quot;word&quot;</span><span class="token punctuation">..</span>.
Reading symbols ✔️ from /home/whoway/work/hcc_riscv_gcc/output/hcc_riscv32/libexec/gcc/riscv32-unknown-elf/7.3.0/cc1<span class="token punctuation">..</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l
<span class="token number">21</span>	<span class="token comment">#include &quot;system.h&quot;</span>
<span class="token number">22</span>	<span class="token comment">#include &quot;coretypes.h&quot;</span>
<span class="token number">23</span>	<span class="token comment">#include &quot;tm.h&quot;</span>
<span class="token number">24</span>	<span class="token comment">#include &quot;diagnostic-core.h&quot;</span>
<span class="token number">25</span>	<span class="token comment">#include &quot;toplev.h&quot;</span>
<span class="token number">26</span>	
<span class="token number">27</span>	int main <span class="token punctuation">(</span>int argc, char **argv<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">28</span>	
<span class="token number">29</span>	/* We define main<span class="token punctuation">(</span><span class="token punctuation">)</span> to call toplev::main<span class="token punctuation">(</span><span class="token punctuation">)</span>, <span class="token function">which</span> is defined <span class="token keyword">in</span> toplev.c.
<span class="token number">30</span>	   We <span class="token keyword">do</span> this <span class="token keyword">in</span> a separate <span class="token function">file</span> <span class="token keyword">in</span> order to allow the language front-end
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> r lli-and2shift-insn2.c
Starting program: /home/whoway/work/hcc_riscv_gcc/output/hcc_riscv32/libexec/gcc/riscv32-unknown-elf/7.3.0/cc1 lli-and2shift-insn2.c
 <span class="token builtin class-name">test</span>
Analyzing compilation unit
Performing interprocedural optimizations
 <span class="token operator">&lt;</span>*free_lang_data<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>visibility<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>build_ssa_passes<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>opt_local_passes<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>targetclone<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>free-inline-summary<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>whole-program<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>inline<span class="token operator">&gt;</span>Assembling functions:
 <span class="token operator">&lt;</span>materialize-all-clones<span class="token operator">&gt;</span> <span class="token builtin class-name">test</span>
Execution <span class="token builtin class-name">times</span> <span class="token punctuation">(</span>seconds<span class="token punctuation">)</span>
 phase setup             <span class="token builtin class-name">:</span>   <span class="token number">0.01</span> <span class="token punctuation">(</span><span class="token number">50</span>%<span class="token punctuation">)</span> usr   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> sys   <span class="token number">0.06</span> <span class="token punctuation">(</span><span class="token number">35</span>%<span class="token punctuation">)</span> wall     <span class="token number">923</span> kB <span class="token punctuation">(</span><span class="token number">85</span>%<span class="token punctuation">)</span> ggc
 phase parsing           <span class="token builtin class-name">:</span>   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> usr   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> sys   <span class="token number">0.02</span> <span class="token punctuation">(</span><span class="token number">12</span>%<span class="token punctuation">)</span> wall     <span class="token number">101</span> kB <span class="token punctuation">(</span> <span class="token number">9</span>%<span class="token punctuation">)</span> ggc
 phase opt and generate  <span class="token builtin class-name">:</span>   <span class="token number">0.01</span> <span class="token punctuation">(</span><span class="token number">50</span>%<span class="token punctuation">)</span> usr   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> sys   <span class="token number">0.09</span> <span class="token punctuation">(</span><span class="token number">53</span>%<span class="token punctuation">)</span> wall      <span class="token number">50</span> kB <span class="token punctuation">(</span> <span class="token number">5</span>%<span class="token punctuation">)</span> ggc
 callgraph construction  <span class="token builtin class-name">:</span>   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> usr   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> sys   <span class="token number">0.02</span> <span class="token punctuation">(</span><span class="token number">12</span>%<span class="token punctuation">)</span> wall       <span class="token number">0</span> kB <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> ggc
 parser <span class="token keyword">function</span> body    <span class="token builtin class-name">:</span>   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> usr   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> sys   <span class="token number">0.02</span> <span class="token punctuation">(</span><span class="token number">12</span>%<span class="token punctuation">)</span> wall       <span class="token number">5</span> kB <span class="token punctuation">(</span> <span class="token number">1</span>%<span class="token punctuation">)</span> ggc
 tree gimplify           <span class="token builtin class-name">:</span>   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> usr   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> sys   <span class="token number">0.02</span> <span class="token punctuation">(</span><span class="token number">12</span>%<span class="token punctuation">)</span> wall       <span class="token number">2</span> kB <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> ggc
 <span class="token function">expand</span>                  <span class="token builtin class-name">:</span>   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> usr   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> sys   <span class="token number">0.03</span> <span class="token punctuation">(</span><span class="token number">18</span>%<span class="token punctuation">)</span> wall       <span class="token number">3</span> kB <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> ggc
 integrated RA           <span class="token builtin class-name">:</span>   <span class="token number">0.01</span> <span class="token punctuation">(</span><span class="token number">50</span>%<span class="token punctuation">)</span> usr   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> sys   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> wall      <span class="token number">24</span> kB <span class="token punctuation">(</span> <span class="token number">2</span>%<span class="token punctuation">)</span> ggc
 LRA non-specific        <span class="token builtin class-name">:</span>   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> usr   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> sys   <span class="token number">0.01</span> <span class="token punctuation">(</span> <span class="token number">6</span>%<span class="token punctuation">)</span> wall       <span class="token number">0</span> kB <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> ggc
 initialize rtl          <span class="token builtin class-name">:</span>   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> usr   <span class="token number">0.00</span> <span class="token punctuation">(</span> <span class="token number">0</span>%<span class="token punctuation">)</span> sys   <span class="token number">0.01</span> <span class="token punctuation">(</span> <span class="token number">6</span>%<span class="token punctuation">)</span> wall       <span class="token number">7</span> kB <span class="token punctuation">(</span> <span class="token number">1</span>%<span class="token punctuation">)</span> ggc
 TOTAL                 <span class="token builtin class-name">:</span>   <span class="token number">0.02</span>             <span class="token number">0.01</span>             <span class="token number">0.17</span>               <span class="token number">1083</span> kB
<span class="token punctuation">[</span>Inferior <span class="token number">1</span> <span class="token punctuation">(</span>process <span class="token number">2768299</span><span class="token punctuation">)</span> exited normally<span class="token punctuation">]</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h4 id="_4-2-2-调试函数"><a href="#_4-2-2-调试函数" class="header-anchor">#</a> 4.2.2.调试函数</h4> <ul><li><code>riscv_judge_and2shift_continuous_bits</code></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>⭐️r lli-and2shift-insn2.c <span class="token parameter variable">-Os</span> -mlli-expand -mand-shift-opt -femit-lli
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b riscv_judge_and2shift_continuous_bits<span class="token punctuation">(</span>unsigned int, int<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>虽然lli-and.2.c是编译的</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> r lli-and2shift-insn2.c -c⭐️ <span class="token parameter variable">-Os</span> -mlli-expand -mand-shift-opt -femit-lli
Starting program: /home/whoway/work/hcc_riscv_gcc/output/hcc_riscv32/libexec/gcc/riscv32-unknown-elf/7.3.0/cc1 lli-and2shift-insn2.c <span class="token parameter variable">-c</span> <span class="token parameter variable">-Os</span> -mlli-expand -mand-shift-opt -femit-lli
cc1: error: <span class="token builtin class-name">command</span> line option <span class="token string">'-c'</span> ⭐️is valid <span class="token keyword">for</span> the driver but not <span class="token keyword">for</span> C

Execution <span class="token builtin class-name">times</span> <span class="token punctuation">(</span>seconds<span class="token punctuation">)</span>
 TOTAL                 <span class="token builtin class-name">:</span>   <span class="token number">0.00</span>             <span class="token number">0.00</span>             <span class="token number">0.00</span>                  <span class="token number">8</span> kB
<span class="token punctuation">[</span>Inferior <span class="token number">1</span> <span class="token punctuation">(</span>process <span class="token number">2785637</span><span class="token punctuation">)</span> exited with code 01<span class="token punctuation">]</span>

⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️⭐️
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> r lli-and2shift-insn2.c <span class="token parameter variable">-Os</span> -mlli-expand -mand-shift-opt -femit-lli
Starting program: /home/whoway/work/hcc_riscv_gcc/output/hcc_riscv32/libexec/gcc/riscv32-unknown-elf/7.3.0/cc1 lli-and2shift-insn2.c <span class="token parameter variable">-Os</span> -mlli-expand -mand-shift-opt -femit-lli
 <span class="token builtin class-name">test</span>
Analyzing compilation unit
Performing interprocedural optimizations
 <span class="token operator">&lt;</span>*free_lang_data<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>visibility<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>build_ssa_passes<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>opt_local_passes<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>targetclone<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>free-inline-summary<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>whole-program<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>profile_estimate<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>icf<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>devirt<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>cp<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>inline<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>pure-const<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>static-var<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>single-use<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>comdats<span class="token operator">&gt;</span>Assembling functions:
 <span class="token operator">&lt;</span>materialize-all-clones<span class="token operator">&gt;</span> <span class="token builtin class-name">test</span>
Breakpoint <span class="token number">1</span>, riscv_judge_and2shift_continuous_bits <span class="token punctuation">(</span>cur_num<span class="token operator">=</span><span class="token number">32767</span>, <span class="token assign-left variable">select_mode</span><span class="token operator">=</span>-139277408<span class="token punctuation">)</span>
    at /home/whoway/work/hcc_riscv_gcc/open_source/gcc-7.3.0/gcc/predict.c:3819
<span class="token number">3819</span>	<span class="token punctuation">{</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> disp
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> p select_mode 
<span class="token variable">$1</span> <span class="token operator">=</span> <span class="token parameter variable">-139277408</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@job:~/execute$ <span class="token function">cat</span> lli-and2shift-insn2.c

int test<span class="token punctuation">(</span>int a, int b<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
        int c <span class="token operator">=</span> b <span class="token operator">&amp;</span> 0x7fffffff<span class="token punctuation">;</span>
        <span class="token builtin class-name">return</span> a + c<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>step后cur_num就变化了？</li> <li>2147483647</li> <li>p select_mode 1</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>‭0111	<span class="token number">1111</span>	<span class="token number">1111</span>	<span class="token number">1111</span>	<span class="token number">1111</span>	<span class="token number">1111</span>	<span class="token number">1111</span>	<span class="token number">1111</span>‬
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b /home/whoway/work/hcc_riscv_gcc/open_source/gcc-7.3.0/gcc/config/riscv/peephole.md:201
Breakpoint <span class="token number">2</span> at 0xf2fd11: /home/whoway/work/hcc_riscv_gcc/open_source/gcc-7.3.0/gcc/config/riscv/peephole.md:201. <span class="token punctuation">(</span><span class="token number">2</span> locations<span class="token punctuation">)</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b /home/whoway/work/hcc_riscv_gcc/open_source/gcc-7.3.0/gcc/config/riscv/peephole.md:200
Breakpoint <span class="token number">3</span> at 0xf61348: <span class="token function">file</span> /home/whoway/work/hcc_riscv_gcc/open_source/gcc-7.3.0/gcc/config/riscv/peephole.md, line <span class="token number">200</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b /home/whoway/work/hcc_riscv_gcc/open_source/gcc-7.3.0/gcc/config/riscv/peephole.md:202
Breakpoint <span class="token number">4</span> at 0xf6138d: <span class="token function">file</span> /home/whoway/work/hcc_riscv_gcc/open_source/gcc-7.3.0/gcc/config/riscv/peephole.md, line <span class="token number">202</span>.

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_4-2-3-汇编-peephole2-md"><a href="#_4-2-3-汇编-peephole2-md" class="header-anchor">#</a> 4.2.3.汇编-<code>peephole2.md</code></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@job:~/execute$ riscv32-unknown-elf-objdump <span class="token parameter variable">-d</span> lli-and2shift-insn2.o

lli-and2shift-insn2.o:     <span class="token function">file</span> <span class="token function">format</span> elf32-littleriscv


Disassembly of section .text:

00000000 <span class="token operator">&lt;</span>test<span class="token operator">&gt;</span>:
   <span class="token number">0</span>:	800007b7          	lui	a5,0x80000
   <span class="token number">4</span>:	fff7c793          	not	a5,a5
   <span class="token number">8</span>:	8dfd                	and	a1,a1,a5
   a:	952e                	<span class="token function">add</span>	a0,a0,a1
   c:	<span class="token number">8082</span>                	ret

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_5-场景2-调试openmp"><a href="#_5-场景2-调试openmp" class="header-anchor">#</a> 5.场景2-调试openmp</h2> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>step <span class="token number">1</span>：gdb test_omp

step <span class="token number">2</span>：break <span class="token number">15</span>

step <span class="token number">3</span>：run

gdb<span class="token punctuation">)</span> info threads
  <span class="token number">4</span> Thread 0x7ffff640d700 <span class="token punctuation">(</span>LWP <span class="token number">17110</span><span class="token punctuation">)</span>  main.omp_fn.0 <span class="token punctuation">(</span>.omp_data_i<span class="token operator">=</span>0x7fffffffe3b0<span class="token punctuation">)</span> at test_omp.c:15
  <span class="token number">3</span> Thread 0x7ffff6c0e700 <span class="token punctuation">(</span>LWP <span class="token number">17109</span><span class="token punctuation">)</span>  main.omp_fn.0 <span class="token punctuation">(</span>.omp_data_i<span class="token operator">=</span>0x7fffffffe3b0<span class="token punctuation">)</span> at test_omp.c:15
  <span class="token number">2</span> Thread 0x7ffff740f700 <span class="token punctuation">(</span>LWP <span class="token number">17108</span><span class="token punctuation">)</span>  main.omp_fn.0 <span class="token punctuation">(</span>.omp_data_i<span class="token operator">=</span>0x7fffffffe3b0<span class="token punctuation">)</span> at test_omp.c:15
* <span class="token number">1</span> Thread 0x7ffff7fdf780 <span class="token punctuation">(</span>LWP <span class="token number">17105</span><span class="token punctuation">)</span>  main.omp_fn.0 <span class="token punctuation">(</span>.omp_data_i<span class="token operator">=</span>0x7fffffffe3b0<span class="token punctuation">)</span> at test_omp.c:15

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>bt命令</p> <p>​	对于当前调试环境中存在的栈帧，GDB 调试器会按照既定规则对它们进行编号：<strong>当前正被调用函数</strong>对应的栈帧的<strong>编号为 0</strong>，<strong>调用它的函数</strong>对应栈帧的<strong>编号为 1</strong>，<strong>以此类推</strong>。</p> <ul><li>参考资料：GDB frame和backtrace命令：查看栈信息：<a href="http://c.biancheng.net/view/8282.html" target="_blank" rel="noopener noreferrer">http://c.biancheng.net/view/8282.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> bt
<span class="token comment">#0  __kmpc_fork_call (loc=0x20000ffff, argc=0, microtask=0x0)</span>
    at /home/whoway/big-benchmark/classic-flang-llvm-project/openmp/runtime/src/kmp_csupport.cpp:262
<span class="token comment">#1  0x00000000004012f9 in main::testfirstprivate () at private.f95:13</span>
<span class="token comment">#2  0x000000000040129c in main () at private.f95:8</span>
<span class="token comment">#3  0x00000000004014fe in main (argc=1, argv=0x7fffffffc4b8)</span>
    at /home/whoway/big-benchmark/kmpl-flang/runtime/flangmain/flangmain.c:59
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> <span class="token operator">!</span>vim private.f95
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> frame <span class="token number">0</span>
<span class="token comment">#0  __kmpc_fork_call (loc=0x20000ffff, argc=0, microtask=0x0)</span>
    at /home/whoway/big-benchmark/classic-flang-llvm-project/openmp/runtime/src/kmp_csupport.cpp:262
<span class="token number">262</span>	void __kmpc_fork_call<span class="token punctuation">(</span>ident_t *loc, kmp_int32 argc, kmpc_micro microtask, <span class="token punctuation">..</span>.<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> frame <span class="token number">1</span>
<span class="token comment">#1  0x00000000004012f9 in main::testfirstprivate () at private.f95:13</span>
<span class="token number">13</span>	      <span class="token operator">!</span><span class="token variable">$omp</span> parallel firstprivate<span class="token punctuation">(</span>atest<span class="token punctuation">)</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> frame <span class="token number">2</span>
<span class="token comment">#2  0x000000000040129c in main () at private.f95:8</span>
<span class="token number">8</span>		call testfirstprivate<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> frame <span class="token number">3</span>
<span class="token comment">#3  0x00000000004014fe in main (argc=1, argv=0x7fffffffc4b8)</span>
    at /home/whoway/big-benchmark/kmpl-flang/runtime/flangmain/flangmain.c:59
<span class="token number">59</span>	  MAIN_<span class="token punctuation">(</span>argc, argv, __io_environ<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> bt
<span class="token comment">#0  __kmpc_fork_call (loc=0x20000ffff, argc=0, microtask=0x0)</span>
    at /home/whoway/big-benchmark/classic-flang-llvm-project/openmp/runtime/src/kmp_csupport.cpp:262
<span class="token comment">#1  0x00000000004012f9 in main::testfirstprivate () at private.f95:13</span>
<span class="token comment">#2  0x000000000040129c in main () at private.f95:8</span>
<span class="token comment">#3  0x00000000004014fe in main (argc=1, argv=0x7fffffffc4b8)</span>
    at /home/whoway/big-benchmark/kmpl-flang/runtime/flangmain/flangmain.c:59
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="_6-其他细节"><a href="#_6-其他细节" class="header-anchor">#</a> 6.其他细节</h2> <h3 id="_6-1-导入符号表file✔️"><a href="#_6-1-导入符号表file✔️" class="header-anchor">#</a> 6.1.导入符号表file✔️</h3> <p>file</p> <ul><li>导入符号表，其实gdb进来，要是读取成功了，就不用这个了</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> <span class="token function">file</span> a.out 
Load new symbol table from <span class="token string">&quot;a.out&quot;</span>? <span class="token punctuation">(</span>y or n<span class="token punctuation">)</span> y
Reading symbols from a.out<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_6-2-load✔️"><a href="#_6-2-load✔️" class="header-anchor">#</a> 6.2.load✔️</h3> <p>load好像可以在调试的时候，换执行文件，具体参考下面</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@XXX:~/solvelbu/riscv_gcc/output/riscv32/bin$ ./gdb gcc
GNU gdb <span class="token punctuation">(</span>GDB<span class="token punctuation">)</span> <span class="token number">10.1</span>
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2020</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">&gt;</span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type <span class="token string">&quot;show copying&quot;</span> and <span class="token string">&quot;show warranty&quot;</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">&quot;--host=x86_64-pc-linux-gnu --target=riscv32-unknown-elf&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;show configuration&quot;</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>https://www.gnu.org/software/gdb/bugs/<span class="token operator">&gt;</span>.
Find the GDB manual and other documentation resources online at:
    <span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">&gt;</span>.

For help, <span class="token builtin class-name">type</span> <span class="token string">&quot;help&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;apropos word&quot;</span> to search <span class="token keyword">for</span> commands related to <span class="token string">&quot;word&quot;</span><span class="token punctuation">..</span>.

warning: A handler <span class="token keyword">for</span> the OS ABI <span class="token string">&quot;GNU/Linux&quot;</span> is not built into this configuration
of GDB.  Attempting to <span class="token builtin class-name">continue</span> with the default riscv settings.

Reading symbols from rgcc<span class="token punctuation">..</span>.
<span class="token punctuation">(</span>No debugging symbols found <span class="token keyword">in</span> gcc<span class="token punctuation">)</span>		<span class="token comment">#注意，这里没有读入“符号表”信息</span>

<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> target sim
Connected to the simulator.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> load <span class="token builtin class-name">test</span>
<span class="token builtin class-name">test</span>    test.c  
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> load <span class="token builtin class-name">test</span>
Loading section .text, size 0xc0ee lma 0x10074
Loading section .rodata, size 0x10cc lma 0x1c168
Loading section .eh_frame, size 0x40 lma 0x1e234
Loading section .init_array, size 0x8 lma 0x1e274
Loading section .fini_array, size 0x4 lma 0x1e27c
Loading section .data, size 0x99c lma 0x1e280
Loading section .sdata, size 0x2c lma 0x1ec20
Start address 0x10084
Transfer rate: <span class="token number">450160</span> bits <span class="token keyword">in</span> <span class="token operator">&lt;</span><span class="token number">1</span> sec.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h3 id="_6-3-常见问题"><a href="#_6-3-常见问题" class="header-anchor">#</a> 6.3.常见问题</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b ira.c:ira
No <span class="token builtin class-name">source</span> <span class="token function">file</span> named ira.c.
Make breakpoint pending on future shared library load? <span class="token punctuation">(</span>y or <span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> n
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>出现上述，可能2种情况</p> <ul><li>1.编译文件的时候，没加<code>-g</code></li> <li>2.可能是比如gcc那样，不是调试的cc1</li> <li>3.b只能加在可能执行到的地方，<code>riscv.md</code>好像不行==（待考察）==</li></ul> <h3 id="_6-4-细节"><a href="#_6-4-细节" class="header-anchor">#</a> 6.4.细节</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b regcprop.c:ldm_stm_replace_p<span class="token punctuation">(</span>rtx_insn const*, rtx, rtx<span class="token punctuation">)</span> 
Function <span class="token string">&quot;ldm_stm_replace_p(rtx_insn const*, rtx, rtx)&quot;</span> not defined <span class="token keyword">in</span> <span class="token string">&quot;regcprop.c&quot;</span><span class="token builtin class-name">.</span>
Make breakpoint pending on future shared library load? <span class="token punctuation">(</span>y or <span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> n
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b regcprop.c:ldm_stm_replace_p
Breakpoint <span class="token number">1</span> at 0x5a39c0: <span class="token function">file</span> /home/whoway/solvelbu/gcc/open_source/gcc-7.3.0/gcc/regcprop.c, line <span class="token number">487</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_7-场景3-gdb的远程调试"><a href="#_7-场景3-gdb的远程调试" class="header-anchor">#</a> 7.场景3-gdb的远程调试</h2> <h3 id="_7-1-组会调试经验-gdb-gdbserver远程调试技术-✔️"><a href="#_7-1-组会调试经验-gdb-gdbserver远程调试技术-✔️" class="header-anchor">#</a> 7.1.组会调试经验（gdb+gdbserver远程调试技术）✔️</h3> <blockquote><p>参考自@<a href="https://github.com/Wilson2334" target="_blank" rel="noopener noreferrer">Wilson2334<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的总结</p></blockquote> <ul><li><p>第1个bash用qemu开启端口1234「使用beta-qemu用户态加载程序」</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>/home/XXX/buildroot_new/buildroot/output/host/bin/qemu-beta <span class="token parameter variable">-g</span> <span class="token number">8848</span> test.exe 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（此时该终端处于执行状态...）</p></li> <li><p>第2个bash用gdb调试，在gdb运行起来的时候，在里面开启端口「新建终端使用beta-gdb远程连接qemu」</p></li> <li><p>先加载程序</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>/home/XXX/buildroot_new/buildroot/output/host/bin/beta-linux-gdb test.exe 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <ul><li><p>然后使用remote连接端口</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Reading symbols from test.exe<span class="token punctuation">..</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> target remote :8848
Remote debugging using :8848
_start <span class="token punctuation">(</span><span class="token punctuation">)</span> at <span class="token punctuation">..</span>/sysdeps/beta/start.S:50
<span class="token number">50</span>              call  load_gp
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b main
Breakpoint <span class="token number">1</span> at 0x1004e0: <span class="token function">file</span> flw_fsw_fadds_fsubs.c, line <span class="token number">10</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> print a
<span class="token variable">$1</span> <span class="token operator">=</span> <span class="token number">1.01999998</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l
<span class="token number">6</span>       int main<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">7</span>       <span class="token punctuation">{</span>
<span class="token number">8</span>           float a, b, res_add, res_sub<span class="token punctuation">;</span>
<span class="token number">9</span>
<span class="token number">10</span>          a <span class="token operator">=</span> <span class="token number">1.02</span><span class="token punctuation">;</span>
<span class="token number">11</span>          b <span class="token operator">=</span> <span class="token number">2.01</span><span class="token punctuation">;</span>
<span class="token number">12</span>          foo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">13</span>          <span class="token builtin class-name">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token number">14</span>      <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li> <li><p>补充资料：gdb+gdbserver<a href="https://blog.csdn.net/zhaoxd200808501/article/details/77838933" target="_blank" rel="noopener noreferrer">远程调试技术<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>gdbserver在目标系统中运行，gdb则在宿主机上运行</li></ul></li></ul> <h3 id="_7-2-gdb使用模拟器-免除远程调试-✔️"><a href="#_7-2-gdb使用模拟器-免除远程调试-✔️" class="header-anchor">#</a> 7.2.gdb使用模拟器（免除远程调试）✔️</h3> <h4 id="代码调试-无qemu的情况"><a href="#代码调试-无qemu的情况" class="header-anchor">#</a> 代码调试-无qemu的情况</h4> <ul><li>在riscv版本的gdb中使用<code>target sim</code>来进行</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b gcc-main.c:43
Breakpoint <span class="token number">1</span> at 0x1d7b7: <span class="token function">file</span> /home/whoway/solvelbu/gcc/open_source/gcc-/gcc/gcc-main.c, line <span class="token number">43</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> run
Don't know how to run.  Try <span class="token string">&quot;help target&quot;</span><span class="token builtin class-name">.</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> target sim		<span class="token comment">#gdb特有的功能？</span>
Connected to the simulator.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> run
Starting program: /home/whoway/solvelbu/gcc/output/riscv32/bin/gcc 
warning: No program loaded.
Warning:
Cannot insert breakpoint <span class="token number">1</span>.
Cannot access memory at address 0x1d7b7
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="⭐️-牛客网-gdb演示「笔记」"><a href="#⭐️-牛客网-gdb演示「笔记」" class="header-anchor">#</a> ⭐️”牛客网“gdb演示「笔记」</h2> <h3 id="_1-演示开始"><a href="#_1-演示开始" class="header-anchor">#</a> 1.演示开始</h3> <p>​	那接下来我们去执行这个gdb，那么怎么去打开gdb呢？非常简单，执行一个gdb的这个==shell命令==。<strong>注意，这个gdb是个shell命令，后面呢跟上我们要执行的可执行文件啊</strong>，它的一个名称。</p> <p>​	好，回车好了，你看现在他是不是就<strong>切换成这个gdb</strong>了。对吧，就进入到gdb 里面了啊，注意了，那现在进入到gdb 里面以后啊，==他并没有把这个test 这个可执行程序啊运行起来啊==。一会呢我们还要通过其他的这个啊，指令呢去运行我们的这个程序啊。</p> <p>​	好，那么现在呢已经进入到这个gdb里面的，对吧？gdb里面哈，然后呢再给大家去介绍几个这个命令啊，<strong>那一个呢是给这个程序啊设置参数啊，以及呢获取这个设置的参数啊</strong>。那有的时候呢我们去呃执行这个。
​	可听程序啊，是不是会在后面加入一些参数啊啊我们来看一下，</p> <h3 id="_2-set-args和show-args的实验"><a href="#_2-set-args和show-args的实验" class="header-anchor">#</a> 2.set args和show args的实验</h3> <p>​	所以呢我们在这个gdp 调试的时候呢，也可以给这个可执行程序啊设置一些传入的参数。</p> <p>​	那怎么设置呢？简单啊。一个是set at a r g s，然后后面是参数的这个值啊，那这个多个参数呢重新用空格呢隔开。好，那我们来设置一下。that 比如说ar gs 对吧？设置这个参数十。二十回撤啊，现在呢就设置起来了啊，那么一会我们去运行我们的这个可进程序的时候啊啊那么他是不是会把这个参数就传递给。我们这个可进程序里面的这个慢函数啊，对不对？</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>$ gdb test.exe
GNU gdb <span class="token punctuation">(</span>GDB<span class="token punctuation">)</span> <span class="token number">7.8</span>.1
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2014</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">&gt;</span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type <span class="token string">&quot;show copying&quot;</span>
and <span class="token string">&quot;show warranty&quot;</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">&quot;x86_64-w64-mingw32&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;show configuration&quot;</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/bugs/<span class="token operator">&gt;</span>.
Find the GDB manual and other documentation resources online at:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">&gt;</span>.
For help, <span class="token builtin class-name">type</span> <span class="token string">&quot;help&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;apropos word&quot;</span> to search <span class="token keyword">for</span> commands related to <span class="token string">&quot;word&quot;</span><span class="token punctuation">..</span>.
Reading symbols from test.exe<span class="token punctuation">..</span>.done.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> <span class="token builtin class-name">set</span> args <span class="token number">10</span> <span class="token number">20</span>			⭐️
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> show args
Argument list to give program being debugged when it is started is <span class="token string">&quot;10 20&quot;</span><span class="token builtin class-name">.</span>	⭐️
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>好，那么怎么去啊获取我们设置的参数呢？其实就是<strong>show args.</strong> 这个g d b。他是什么？他是一个<strong>shell命令</strong></p> <h3 id="_3-如果test没有使用-g生成-我们的gdb表现"><a href="#_3-如果test没有使用-g生成-我们的gdb表现" class="header-anchor">#</a> 3.如果test没有使用-g生成，我们的gdb表现</h3> <ul><li>test1是没有<code>-g</code></li> <li>test是有<code>-g</code></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@LAPTOP-DI85I9OS MINGW64 ~/Desktop
$ gdb test1.exe
GNU gdb <span class="token punctuation">(</span>GDB<span class="token punctuation">)</span> <span class="token number">7.8</span>.1
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2014</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">&gt;</span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type <span class="token string">&quot;show copying&quot;</span>
and <span class="token string">&quot;show warranty&quot;</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">&quot;x86_64-w64-mingw32&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;show configuration&quot;</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/bugs/<span class="token operator">&gt;</span>.
Find the GDB manual and other documentation resources online at:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">&gt;</span>.
For help, <span class="token builtin class-name">type</span> <span class="token string">&quot;help&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;apropos word&quot;</span> to search <span class="token keyword">for</span> commands related to <span class="token string">&quot;word&quot;</span><span class="token punctuation">..</span>.
Reading symbols from test1.exe<span class="token punctuation">..</span>.done.		⭐️⭐️（其实这里会显示no debug symbols啥的）
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> list
<span class="token number">1</span>       C:/crossdev/src/mingw-w64-v3-git/mingw-w64-crt/crt/crtexe.c: No such <span class="token function">file</span> or directory.

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>​	上面的，在高版本还会显示：大家注意看啊，我现在呢要去查看这个啊代码了，我们用一个list 指令啊回车，大家看一下他说什么，他说没有符号表被读取</p> <ul><li>test</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@LAPTOP-DI85I9OS MINGW64 ~/Desktop
$ gdb test.exe
GNU gdb <span class="token punctuation">(</span>GDB<span class="token punctuation">)</span> <span class="token number">7.8</span>.1
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2014</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">&gt;</span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type <span class="token string">&quot;show copying&quot;</span>
and <span class="token string">&quot;show warranty&quot;</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">&quot;x86_64-w64-mingw32&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;show configuration&quot;</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/bugs/<span class="token operator">&gt;</span>.
Find the GDB manual and other documentation resources online at:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">&gt;</span>.
For help, <span class="token builtin class-name">type</span> <span class="token string">&quot;help&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;apropos word&quot;</span> to search <span class="token keyword">for</span> commands related to <span class="token string">&quot;word&quot;</span><span class="token punctuation">..</span>.
Reading symbols from test.exe<span class="token punctuation">..</span>.done.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> list
<span class="token number">1</span>       <span class="token comment">#include &lt;stdio.h&gt;</span>
<span class="token number">2</span>       <span class="token comment">#include &lt;stdlib.h&gt;</span>
<span class="token number">3</span>
<span class="token number">4</span>       int test<span class="token punctuation">(</span>int a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">5</span>
<span class="token number">6</span>       int main<span class="token punctuation">(</span>int argc, char* argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">7</span>           int a, b<span class="token punctuation">;</span>
<span class="token number">8</span>           printf<span class="token punctuation">(</span><span class="token string">&quot;argc = %d<span class="token entity" title="\n">\n</span>&quot;</span>, argc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">9</span>
<span class="token number">10</span>          if<span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="观察-不要移动你的源码位置-我移动了源文件位置-就算你-g也没用"><a href="#观察-不要移动你的源码位置-我移动了源文件位置-就算你-g也没用" class="header-anchor">#</a> ⭐️<font style="background:MediumSpringGreen;">观察：不要移动你的源码位置，我移动了源文件位置，就算你<code>-g</code>也没用</font></h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@LAPTOP-DI85I9OS MINGW64 ~/Desktop
$ <span class="token function">ls</span>
 bubble.cpp    main.cpp     sort.h   test.exe*    手链.md
 desktop.ini   select.cpp   test.c   test1.exe*  <span class="token string">'新建 DOCX 文档.docx'</span>

whoway@LAPTOP-DI85I9OS MINGW64 ~/Desktop
$ <span class="token function">mkdir</span> temp

whoway@LAPTOP-DI85I9OS MINGW64 ~/Desktop
$ gdb test.exe
GNU gdb <span class="token punctuation">(</span>GDB<span class="token punctuation">)</span> <span class="token number">7.8</span>.1
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2014</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">&gt;</span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type <span class="token string">&quot;show copying&quot;</span>
and <span class="token string">&quot;show warranty&quot;</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">&quot;x86_64-w64-mingw32&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;show configuration&quot;</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/bugs/<span class="token operator">&gt;</span>.
Find the GDB manual and other documentation resources online at:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">&gt;</span>.
For help, <span class="token builtin class-name">type</span> <span class="token string">&quot;help&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;apropos word&quot;</span> to search <span class="token keyword">for</span> commands related to <span class="token string">&quot;word&quot;</span><span class="token punctuation">..</span>.
Reading symbols from test.exe<span class="token punctuation">..</span>.done.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l	⭐️⭐️
<span class="token number">1</span>       <span class="token comment">#include &lt;stdio.h&gt;</span>
<span class="token number">2</span>       <span class="token comment">#include &lt;stdlib.h&gt;</span>
<span class="token number">3</span>
<span class="token number">4</span>       int test<span class="token punctuation">(</span>int a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">5</span>
<span class="token number">6</span>       int main<span class="token punctuation">(</span>int argc, char* argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">7</span>           int a, b<span class="token punctuation">;</span>
<span class="token number">8</span>           printf<span class="token punctuation">(</span><span class="token string">&quot;argc = %d<span class="token entity" title="\n">\n</span>&quot;</span>, argc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">9</span>
<span class="token number">10</span>          if<span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> q

whoway@LAPTOP-DI85I9OS MINGW64 ~/Desktop
$ <span class="token function">mv</span> test.c  temp/	⭐️⭐️

whoway@LAPTOP-DI85I9OS MINGW64 ~/Desktop
$ gdb test.exe
GNU gdb <span class="token punctuation">(</span>GDB<span class="token punctuation">)</span> <span class="token number">7.8</span>.1
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2014</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">&gt;</span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type <span class="token string">&quot;show copying&quot;</span>
and <span class="token string">&quot;show warranty&quot;</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">&quot;x86_64-w64-mingw32&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;show configuration&quot;</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/bugs/<span class="token operator">&gt;</span>.
Find the GDB manual and other documentation resources online at:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">&gt;</span>.
For help, <span class="token builtin class-name">type</span> <span class="token string">&quot;help&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;apropos word&quot;</span> to search <span class="token keyword">for</span> commands related to <span class="token string">&quot;word&quot;</span><span class="token punctuation">..</span>.
Reading symbols from test.exe<span class="token punctuation">..</span>.done.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l
<span class="token number">1</span>       test.c: No such <span class="token function">file</span> or directory.	⭐️⭐️（注意点！！！注意，调试的时候，你的源代码文件也要和我们的可执行文件在一起）
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><ul><li>⭐️⭐️（注意点！注意，调试的时候，你的源代码文件也要和我们的可执行文件在一起）</li></ul> <h4 id="多次list可能显示代码"><a href="#多次list可能显示代码" class="header-anchor">#</a> 多次list可能显示代码</h4> <p>​	在gdb中，那么这个地方呢<strong>大家注意了</strong>，==如果说我啥，不输入按回车啊，默认呢它是继续去啊使用上一次的命令，==上一次的命令呢就是这个list。</p> <p>​	啊，因为这个是什么点cpu 文件是吧？那我们说一般呢用这个记忆佳佳呢去编译点c pp 文件啊==，<strong>如果你用gcc 去编译的话呢，它其实。找不到这个c 加加的一些库</strong>。==</p> <h4 id="演示"><a href="#演示" class="header-anchor">#</a> 演示</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@ubuntu:~/nowcoder$ <span class="token function">ls</span>
bubble.cpp  main.cpp  select.cpp  sort.h  test.c
whoway@ubuntu:~/nowcoder$ gcc bubble.cpp main.cpp select.cpp <span class="token parameter variable">-o</span> main <span class="token parameter variable">-g</span>
/usr/bin/ld: /tmp/ccfmeEhF.o: <span class="token keyword">in</span> <span class="token keyword">function</span> <span class="token variable"><span class="token variable">`</span>__static_initialization_and_destruction_0<span class="token punctuation">(</span>int, int<span class="token punctuation">)</span>':
/usr/include/c++/9/iostream:74: undefined reference to <span class="token variable">`</span></span>std::ios_base::Init::Init<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token string">'
/usr/bin/ld: /usr/include/c++/9/iostream:74: undefined reference to `std::ios_base::Init::~Init()'</span>
/usr/bin/ld: /tmp/ccrm8b4B.o: <span class="token keyword">in</span> <span class="token keyword">function</span> <span class="token variable"><span class="token variable">`</span>main':
/home/whoway/nowcoder/main.cpp:14: undefined reference to <span class="token variable">`</span></span>std::cout<span class="token string">'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:14: undefined reference to `std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::operator&lt;&lt; &lt;std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*)'</span>
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:16: undefined reference to <span class="token variable"><span class="token variable">`</span>std::cout'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:16: undefined reference to <span class="token variable">`</span></span>std::ostream::operator<span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token string">'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:16: undefined reference to `std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::operator&lt;&lt; &lt;std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*)'</span>
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:18: undefined reference to <span class="token variable"><span class="token variable">`</span>std::basic_ostream<span class="token operator">&lt;</span>char, std::char_traits<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token operator">&gt;&amp;</span> std::endl<span class="token operator">&lt;</span>char, std::char_traits<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token punctuation">(</span>std::basic_ostream<span class="token operator">&lt;</span>char, std::char_traits<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token operator">&gt;&amp;</span><span class="token punctuation">)</span>'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:18: undefined reference to <span class="token variable">`</span></span>std::cout<span class="token string">'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:18: undefined reference to `std::ostream::operator&lt;&lt;(std::ostream&amp; (*)(std::ostream&amp;))'</span>
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:19: undefined reference to <span class="token variable"><span class="token variable">`</span>std::cout'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:19: undefined reference to <span class="token variable">`</span></span>std::basic_ostream<span class="token operator">&lt;</span>char, std::char_traits<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token operator">&gt;&amp;</span> std::operator<span class="token operator">&lt;&lt;</span> <span class="token operator">&lt;</span>std::char_traits<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token punctuation">(</span>std::basic_ostream<span class="token operator">&lt;</span>char, std::char_traits<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token operator">&gt;&amp;</span>, char const*<span class="token punctuation">)</span><span class="token string">'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:19: undefined reference to `std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::endl&lt;char, std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;)'</span>
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:19: undefined reference to <span class="token variable"><span class="token variable">`</span>std::ostream::operator<span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>std::ostream<span class="token operator">&amp;</span> <span class="token punctuation">(</span>*<span class="token punctuation">)</span><span class="token punctuation">(</span>std::ostream<span class="token operator">&amp;</span><span class="token punctuation">))</span>'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:27: undefined reference to <span class="token variable">`</span></span>std::cout<span class="token string">'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:27: undefined reference to `std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::operator&lt;&lt; &lt;std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*)'</span>
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:29: undefined reference to <span class="token variable"><span class="token variable">`</span>std::cout'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:29: undefined reference to <span class="token variable">`</span></span>std::ostream::operator<span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token string">'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:29: undefined reference to `std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::operator&lt;&lt; &lt;std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*)'</span>
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:31: undefined reference to <span class="token variable"><span class="token variable">`</span>std::basic_ostream<span class="token operator">&lt;</span>char, std::char_traits<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token operator">&gt;&amp;</span> std::endl<span class="token operator">&lt;</span>char, std::char_traits<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token operator">&gt;</span><span class="token punctuation">(</span>std::basic_ostream<span class="token operator">&lt;</span>char, std::char_traits<span class="token operator">&lt;</span>char<span class="token operator">&gt;</span> <span class="token operator">&gt;&amp;</span><span class="token punctuation">)</span>'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:31: undefined reference to <span class="token variable">`</span></span>std::cout<span class="token string">'
/usr/bin/ld: /home/whoway/nowcoder/main.cpp:31: undefined reference to `std::ostream::operator&lt;&lt;(std::ostream&amp; (*)(std::ostream&amp;))'</span>
/usr/bin/ld: /tmp/ccrm8b4B.o: <span class="token keyword">in</span> <span class="token keyword">function</span> <span class="token variable"><span class="token variable">`</span>__static_initialization_and_destruction_0<span class="token punctuation">(</span>int, int<span class="token punctuation">)</span>':
/usr/include/c++/9/iostream:74: undefined reference to <span class="token variable">`</span></span>std::ios_base::Init::Init<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token string">'
/usr/bin/ld: /usr/include/c++/9/iostream:74: undefined reference to `std::ios_base::Init::~Init()'</span>
/usr/bin/ld: /tmp/ccnsT8ZF.o: <span class="token keyword">in</span> <span class="token keyword">function</span> <span class="token variable"><span class="token variable">`</span>__static_initialization_and_destruction_0<span class="token punctuation">(</span>int, int<span class="token punctuation">)</span>':
/usr/include/c++/9/iostream:74: undefined reference to <span class="token variable">`</span></span>std::ios_base::Init::Init<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token string">'
/usr/bin/ld: /usr/include/c++/9/iostream:74: undefined reference to `std::ios_base::Init::~Init()'</span>
collect2: error: ld returned <span class="token number">1</span> <span class="token builtin class-name">exit</span> status

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>会报错啊，我们来看一下，比如说gcc 对吧？barber 点c p p 啊，m 点c pp select 点c pp，然后呢杠o 啊。
一个可执行文件，比如说生成一个面啊。好，然后呢杠g 是不是加上一个这个参数啊回撤啊，那么这样呢他会呃包一些错误，他说什么呀？他说。
什么什么卫星e 的引用其实就是他找不到这个c 加加的一些库啊，是吧？好，那么这样呢我们用这个g 佳佳啊去进行一个编译啊，回车。
好，是不是宣传好了？</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@ubuntu:~/nowcoder$ g++ bubble.cpp main.cpp select.cpp <span class="token parameter variable">-o</span> main <span class="token parameter variable">-g</span>
whoway@ubuntu:~/nowcoder$ <span class="token function">ls</span>
bubble.cpp  main  main.cpp  select.cpp  sort.h  test.c

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>生成了一个可以调试的啊可执行文件面。好，那我们通过gdp 呀。去打开这个面啊。好，那么现在呢我输入这个l 或者list 啊，那默认呢注意看了，<strong>默认它是。显示什么呢？显示这个main函数</strong>，因为我们可执行程序啊，他是不是从main函数开始啊，这个进入的对吧？开始执行啊，所以呢他默认去显示的是。这个慢函数所在的那个文件其实就是这个啊慢点c p p 那个文件里面的代码啊，大家看是不是这样的啊，然后继续按ll 它是不是。
继续往下去显示啊。那么现在如果说我想啊去查看这个八b 点c pt 啊，我们我们在这呢再去打开一个这个。
废话啊。cd 到linux 啊，listen 八。
好，比如说呢我们想去这个barber 点c p p 里面去查看它里面的代码。那这个时候怎么办呢？这个时候呢我们应该这样去使用啊。
或者l 然后呢是文件名啊，文件名指定要看哪个文件里面的这个啊具体的代码啊，后面呢跟上这个行号或者呢跟上函数名啊，跟他行号的话。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l selectSort<span class="token punctuation">(</span>int*, int<span class="token punctuation">)</span> 
<span class="token number">1</span>	<span class="token comment">#include &quot;sort.h&quot;</span>
<span class="token number">2</span>	<span class="token comment">#include &lt;iostream&gt;</span>
<span class="token number">3</span>	
<span class="token number">4</span>	using namespace std<span class="token punctuation">;</span>
<span class="token number">5</span>	
<span class="token number">6</span>	void selectSort<span class="token punctuation">(</span>int *array, int len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">7</span>	
<span class="token number">8</span>	    <span class="token keyword">for</span> <span class="token punctuation">(</span>int j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len - <span class="token number">1</span><span class="token punctuation">;</span> j++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">9</span>			<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> j + <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">10</span>				<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l sort.h:3
No <span class="token builtin class-name">source</span> <span class="token function">file</span> named sort.h.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l select.cpp:3
<span class="token number">1</span>	<span class="token comment">#include &quot;sort.h&quot;</span>
<span class="token number">2</span>	<span class="token comment">#include &lt;iostream&gt;</span>
<span class="token number">3</span>	
<span class="token number">4</span>	using namespace std<span class="token punctuation">;</span>
<span class="token number">5</span>	
<span class="token number">6</span>	void selectSort<span class="token punctuation">(</span>int *array, int len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">7</span>	
<span class="token number">8</span>	    <span class="token keyword">for</span> <span class="token punctuation">(</span>int j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len - <span class="token number">1</span><span class="token punctuation">;</span> j++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">9</span>			<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> j + <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">10</span>				<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>是去查看指定的这个行号的代码，对吧？当然是这个上下文那个代码。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l select.cpp:selectSort
<span class="token number">1</span>	<span class="token comment">#include &quot;sort.h&quot;</span>
<span class="token number">2</span>	<span class="token comment">#include &lt;iostream&gt;</span>
<span class="token number">3</span>	
<span class="token number">4</span>	using namespace std<span class="token punctuation">;</span>
<span class="token number">5</span>	
<span class="token number">6</span>	void selectSort<span class="token punctuation">(</span>int *array, int len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">7</span>	
<span class="token number">8</span>	    <span class="token keyword">for</span> <span class="token punctuation">(</span>int j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len - <span class="token number">1</span><span class="token punctuation">;</span> j++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">9</span>			<span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> j + <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">10</span>				<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>那么接着呢大家再来看，就是说啊我们现在呢是呃每一次调用这个list，<strong>它只显示十行代码了，对不对？</strong></p> <p>那么<strong>这个呃显示的行数我能不能去啊，查看或者说修改它了啊，是可以的啊</strong>。那么我们如何去设置显示的行数呢？啊，就是这个。
set list. 啊，那注意了这个list 的它其实是一个简写，是list size i 的一个简写啊，list size 是不是就是啊行数啊，对吧？大小对吧？
列出的一个大小啊，然后后面的跟上行数啊，然后呢也可以去显示啊，我默认显示多少。行，那就是税务list 或者。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Reading symbols from main<span class="token punctuation">..</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l
<span class="token number">1</span>	<span class="token comment">#include &lt;iostream&gt;</span>
<span class="token number">2</span>	<span class="token comment">#include &quot;sort.h&quot;</span>
<span class="token number">3</span>	
<span class="token number">4</span>	using namespace std<span class="token punctuation">;</span>
<span class="token number">5</span>	
<span class="token number">6</span>	int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">7</span>	
<span class="token number">8</span>	    int array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">12</span>, <span class="token number">27</span>, <span class="token number">55</span>, <span class="token number">22</span>, <span class="token number">67</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token number">9</span>	    int len <span class="token operator">=</span> sizeof<span class="token punctuation">(</span>array<span class="token punctuation">)</span> / sizeof<span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">10</span>	
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> show listsize 
Number of <span class="token builtin class-name">source</span> lines gdb will list by default is <span class="token number">10</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> list main.cpp	【啊，那么这样呢他呃错误啊，我们不能直接这样去操作，我们后面呢要带上这个行号，或者呢是它的一个。这个函数的名称啊不能直接写一个文件】
Function <span class="token string">&quot;main.cpp&quot;</span> not defined.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> show list
Number of <span class="token builtin class-name">source</span> lines gdb will list by default is <span class="token number">10</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> <span class="token builtin class-name">set</span> listsize <span class="token number">20</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l
<span class="token number">11</span>	    bubbleSort<span class="token punctuation">(</span>array, len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">12</span>	    
<span class="token number">13</span>	    // 遍历
<span class="token number">14</span>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;冒泡排序之后的数组: &quot;</span><span class="token punctuation">;</span>
<span class="token number">15</span>	    for<span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">16</span>	        cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
<span class="token number">17</span>	    <span class="token punctuation">}</span>
<span class="token number">18</span>	    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token number">19</span>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;===================================&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token number">20</span>	
<span class="token number">21</span>	    int array1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">25</span>, <span class="token number">47</span>, <span class="token number">36</span>, <span class="token number">80</span>, <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token number">22</span>	    len <span class="token operator">=</span> sizeof<span class="token punctuation">(</span>array1<span class="token punctuation">)</span> / sizeof<span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">23</span>	    
<span class="token number">24</span>	    selectSort<span class="token punctuation">(</span>array1, len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">25</span>	    
<span class="token number">26</span>	    // 遍历
<span class="token number">27</span>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;选择排序之后的数组: &quot;</span><span class="token punctuation">;</span>
<span class="token number">28</span>	    for<span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">29</span>	        cout <span class="token operator">&lt;&lt;</span> array1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
<span class="token number">30</span>	    <span class="token punctuation">}</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span>  show listsize 
Number of <span class="token builtin class-name">source</span> lines gdb will list by default is <span class="token number">20</span>.

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="_4-断点的设置"><a href="#_4-断点的设置" class="header-anchor">#</a> 4.断点的设置</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b <span class="token number">9</span>
Breakpoint <span class="token number">1</span> at 0x137b: <span class="token function">file</span> main.cpp, line <span class="token number">9</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info <span class="token builtin class-name">break</span>
Num     Type           Disp Enb⭐️ Address            What
<span class="token number">1</span>       breakpoint     keep y   0x000000000000137b <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:9

⭐️⭐️⭐️Enb （这是英语单词enable的缩写，Y表示yes，N是No）也就是断点生效与否

<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b <span class="token number">11</span>
Breakpoint <span class="token number">2</span> at 0x1382: <span class="token function">file</span> main.cpp, line <span class="token number">11</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info b
Num     Type           Disp Enb Address            What
<span class="token number">1</span>       breakpoint     keep y   0x000000000000137b <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:9
<span class="token number">2</span>⭐️       breakpoint     keep y⭐️   0x0000000000001382 <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:11
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> disable <span class="token number">2</span>⭐️
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info b
Num     Type           Disp Enb Address            What
<span class="token number">1</span>       breakpoint     keep y   0x000000000000137b <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:9
<span class="token number">2</span>       breakpoint     keep n⭐️   0x0000000000001382 <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:11

Enb为No之后，将来，你虽然打了断点，但是程序到这，不会停，除非你重新yes
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> <span class="token builtin class-name">enable</span> <span class="token number">2</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info b
Num     Type           Disp Enb Address            What
<span class="token number">1</span>       breakpoint     keep y   0x000000000000137b <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:9
<span class="token number">2</span>       breakpoint     keep y   0x0000000000001382 <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:11

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="条件断点-一般在循环"><a href="#条件断点-一般在循环" class="header-anchor">#</a> 条件断点（一般在循环）</h4> <ul><li>然后呢我们还可以这样就是设置一些条件断点啊，那么这个设置条件断点呢一般是用在这个循环的位置。</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l
<span class="token number">11</span>	    bubbleSort<span class="token punctuation">(</span>array, len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">12</span>	    
<span class="token number">13</span>	    // 遍历
<span class="token number">14</span>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;冒泡排序之后的数组: &quot;</span><span class="token punctuation">;</span>
<span class="token number">15</span>	    for<span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">16</span>	        cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>	⭐️
<span class="token number">17</span>	    <span class="token punctuation">}</span>
<span class="token number">18</span>	    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token number">19</span>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;===================================&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token number">20</span>	
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b <span class="token number">16</span>
Breakpoint <span class="token number">3</span> at 0x13b5: <span class="token function">file</span> main.cpp, line <span class="token number">16</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info b
Num     Type           Disp Enb Address            What
<span class="token number">1</span>       breakpoint     keep y   0x000000000000137b <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:9
<span class="token number">2</span>       breakpoint     keep y   0x0000000000001382 <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:11
<span class="token number">3</span>       breakpoint     keep y   0x00000000000013b5 <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:16
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> d <span class="token number">3</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info b
Num     Type           Disp Enb Address            What
<span class="token number">1</span>       breakpoint     keep y   0x000000000000137b <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:9
<span class="token number">2</span>       breakpoint     keep y   0x0000000000001382 <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:11
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b <span class="token number">16</span> <span class="token keyword">if</span> <span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">3</span>		⭐️
Breakpoint <span class="token number">4</span> at 0x13b5: <span class="token function">file</span> main.cpp, line <span class="token number">16</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info b
Num     Type           Disp Enb Address            What
<span class="token number">1</span>       breakpoint     keep y   0x000000000000137b <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:9
<span class="token number">2</span>       breakpoint     keep y   0x0000000000001382 <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:11
<span class="token number">4</span>       breakpoint     keep y   0x00000000000013b5 <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:16
	stop only <span class="token keyword">if</span> <span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">3</span>		⭐️（有说明）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><p>​	啊，好，那举个例子啊，比如说我们啊。现在去查看第一行。啊，再再再去查看一下。大家看一下我账号是不是有一个货循环啊，还有一个破循环，我们可以在这个第十六行啊打个断点，比如说呃break。十六后面呢我们加上去条件条件是什么呢？义务因为什么呢？我们这个i s 不是一个变量啊，对吧？那我们可以让这个i 呀。
在你看这个楞寺庵，小于愣死愣死的设计啊，一二三四五对吧？那我们可以在这个地方呢打一个断点。
让这个i 呀为比如说为三的时候啊，</p> <ul><li><strong>i为 3的时候我这个断点呢才停在这</strong></li> <li>那当你这个i=0,1,2的时候。虽然你在这打了断点，但是程序听嘛？不停对吧？</li> <li>因为我们打的是这个条件，断点啊，回车。</li></ul> <p>好，然后呢，我们id 看一下。
你看一下，这是第六个观点嘛，对不对？他是在第十六行到的。然后呢，他是不是也有一个这个说明，他说。stop n line, if i 等于三是吧？也就是说，当我这个i 等于三的时候，这个断点他才会停在的，是吧？哎，这是我们啊设置的这个条件断点啊。好了，那这个是我们如何去在这个gdp 当中啊去设置断点，对吧？
那设置断点啊，非常简单。</p> <p>那<strong>设置好了以后呢，接下来我们是不是就要让我们的程序去运行啊，对吧？运行了以后程序停到这个断点处</strong>。
啊，然后我们是不是就可以去查看这个代码当中的一些变量，它的值是不是正确的，对吧？然后呢分析一下咱们这个程序呢哎是不是有问题。</p> <h3 id="_16-gdb调试4"><a href="#_16-gdb调试4" class="header-anchor">#</a> 16.GDB调试4</h3> <p>现在呢这个断点呢我们已经设置好了啊那。设置好了以后呢，接下来呢我们要让这个g d p 程序啊给大家运行起来，对吧？那现在呢我们并没有去运行我们的啊g d p 程序啊。</p> <ul><li><strong>我们之前呢<font style="background:MediumSpringGreen;">输入的这个gdb命令啊，它只是去打开gdb调试工具啊</font></strong>, 并没有去运行我们的g d p 程序。所以呢我们接下来呢。</li></ul> <p>要<strong>让我们g d b 这个调试工具啊去操作我们的程序</strong>啊，让这个程序呢启动起来。</p> <p>那如果说你在这个程序当中啊啊设置了这个端点的话呢，那程序呢才会停到我们的啊这个设置的断点上，对吧？所以呢接下来呢给大家去介绍一下。这个g d b 啊调试相关的一些命令。
那我刚才说了，我们要去调试这个程序啊，对吧？首先我们要打断点对吧？那断点呢我们已经设置好了。那接下来呢要让gdp 程序啊给它运行起来。</p> <p>好，那么运行gdp 程序啊，它有两个命令，一个呢是start，start的是不是就是开始的意思，对吧？那么这个大的呢，它是啊把。我们这个程序啊运行起来以后呢，它会停在第一行啊他会停在第一行。然后还有一个命令呢是这个wrong 啊，那rush 不就是跑起来，对吧？让我们程序跑起来。
啊，那么他呢是呃，程序运行起来以后啊啊只有遇到这个断点的地方呢，它才会停啊。那也就是说这个大的跟这个run 呢。
的区别啊就在于start 呢它是程序运行起来以后呢，它就直接停在第一行了。</p> <ul><li><p>啊，那么<strong>如果说我们要想从这个程序的啊这个第一行开始。啊，往下呢去调试我们的程序</strong>，那我们就可以使用这个start的啊。</p></li> <li><p>那么如果说呢你要呃让这个程序啊运行起来以后呢，哎<strong>停在你自己啊。设置的这个第一个断点上</strong>。那么我们可以用这个run 啊，这是他们的一个区别。</p></li></ul> <p>然后呢，还有一些其他的，比如说呢呃我们可以继续去运行我们的这个程序，对吧？比如说我们现在呢已经停到了一个断点上了啊，我想让这个程序呢继续往下去运行。啊，然后呢到下一个断点来停止，我们可以使用这个啊continue 啊，简写呢就是c 对吧？continue 就是继续的意思。</p> <p>那或者呢我们还可以向下去执行1行代码啊，用这个next 啊简写呢就是n 那么这个呢它是呃<strong>向下执行</strong>啊。比如说我们遇到了一个个调用函数对吧？我们调用一个函数，那么它是把整个这个函数呢都执行完的，它<strong>是不会进入到函数体里面的</strong>。</p> <p>啊，那么这个跟我们后面。啊，要讲的另外一个命令就是step 啊，节选呢是s 那它呢也是<strong>向下去执行1行代码</strong>，那它呢是单步调试啊。那当他遇到这个函数体的时候呢，他会进入到这个函数体当中啊，就是说进入到函数体当中。然后呢一行一行的往下执行啊。</p> <p>然后呢还可以设置这个自动变量啊。number 啊，然后呢，显示这个我设置的这个自动变量啊，我们用info 或者i 啊，然后后面跟上display。那之前呢我们显示这个断点是不是。info break 对吧？啊，那这样呢变成了display。那取消这个自动变量呢就是on display。后面呢跟上这个啊自动变量的一个编号啊那。</p> <p><strong>什么是设置这个自动变量？我们后面呢啊给大家演示的时候呢，我们在详细的去说哈</strong>。然后呢还有一些其他的操作。比如说我们可以设置一个变量的值。啊，比如说set far 啊，这是固定的啊，比如说我要设置一个变量的值，后面呢是变量名等于变量值啊，然后呢还有像这个跳出啊这个函数体，我们可以用finish。对吧，毕竟是就是结束的意思。那跳出循环呢，我们用这个until对吧？until条跳出循环啊。好，那这些呢是我们调试程序啊。啊，相关的一些命令啊，<strong>那当然了，这个调试程序相关的命令呢还有很多啊，那么我们常用到的呢就是这些啊，而且这些呢是最基础的。</strong></p> <ul><li>==那我们学完这些以后呢，同学们呢可以自己呢去通过gdp 的一个帮助文档啊，去<strong>查看一些其他的这个调试命令的使用啊</strong>。==</li></ul> <p>好，那下面呢就给大家去<strong>演示</strong>一下这些啊调试命令。</p> <p>​	我们先给大家呢也是这个啊多个文件的。啊，这个调试啊，好，那我们怎么去操作啊，是不是gdp 对吧？后面呢跟上可执行文件回车。那么注意了，现在呢我们只是打开了g d b 这个。工具调试工具并没有去运行我们的这个man 这个可执行程序，对吧？那我要怎么去运行呢？</p> <p>啊，我在这呢可以输入这个。start at. 啊，或者呢输入这个wrong 对吧？那么注意，现在我有没有打断点？
注意了，我<strong>如果说我退出了g d p 啊，那它的端点呢就全部没有了啊，那你重新进来以后呢，他呃还需要重新去设置断点</strong>。好，那大家看一下。我现在呢i b 现在是不是没有断电，没有任何的概念吗？对吧？我输入这个指令叫sstart啊，那么大家看一下他停在哪儿了，大家看一下，他说temporary break point 一啊，在这个卖函数在慢点c p p 里面第六行。
是不是就是停在这个曼函数啊，对不对？也就是我们程序的第一行嘛，是吧？好，那这是呃这个start它的一个作用啊。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@ubuntu:~/nowcoder$ gdb main
GNU gdb <span class="token punctuation">(</span>Ubuntu <span class="token number">9.2</span>-0ubuntu1~20.04.1<span class="token punctuation">)</span> <span class="token number">9.2</span>
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2020</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">&gt;</span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type <span class="token string">&quot;show copying&quot;</span> and <span class="token string">&quot;show warranty&quot;</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">&quot;x86_64-linux-gnu&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;show configuration&quot;</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/bugs/<span class="token operator">&gt;</span>.
Find the GDB manual and other documentation resources online at:
    <span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">&gt;</span>.

For help, <span class="token builtin class-name">type</span> <span class="token string">&quot;help&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;apropos word&quot;</span> to search <span class="token keyword">for</span> commands related to <span class="token string">&quot;word&quot;</span><span class="token punctuation">..</span>.
Reading symbols from main<span class="token punctuation">..</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> start
Temporary breakpoint <span class="token number">1</span> at 0x133d: <span class="token function">file</span> main.cpp, line <span class="token number">6</span>.
Starting program: /home/whoway/nowcoder/main 

Temporary breakpoint <span class="token number">1</span>, main <span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:6
<span class="token number">6</span>	int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span>  

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>然后呢，我们比如说呢我们现在呢要呃继续往下执行，我们是不是可以按这个c 啊啊那rc 的话呢它是呃继续往下执行。
直到遇到下一个断点会停止。那现在呢我们是不是没有其他的专家啊，那么他会停在哪啊？他是把这个程序给运行完了回去啊，你看。
程序就运行完了，是不是？好，然后呢再演示一下这个run 啊。那run 的话，我们现在没有打断点，是不是，呃，我们run 的话，他没有断点呢。停在哪？那么整个程序是不是也会运行，我啊回车，你看是不是整个程序也运行完了，你看他把这个呃排序后的一个结果都给我们输出出来吧。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> start
Temporary breakpoint <span class="token number">1</span> at 0x133d: <span class="token function">file</span> main.cpp, line <span class="token number">6</span>.
Starting program: /home/whoway/nowcoder/main 

Temporary breakpoint <span class="token number">1</span>, main <span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:6
<span class="token number">6</span>	int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span>  c
Continuing.
冒泡排序之后的数组: <span class="token number">12</span> <span class="token number">22</span> <span class="token number">27</span> <span class="token number">55</span> <span class="token number">67</span> 
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
选择排序之后的数组: <span class="token number">11</span> <span class="token number">25</span> <span class="token number">36</span> <span class="token number">47</span> <span class="token number">80</span> 
<span class="token punctuation">[</span>Inferior <span class="token number">1</span> <span class="token punctuation">(</span>process <span class="token number">837476</span><span class="token punctuation">)</span> exited normally<span class="token punctuation">]</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span>  

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>如果没有断点，使用run</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>whoway@ubuntu:~/nowcoder$ gdb main
GNU gdb <span class="token punctuation">(</span>Ubuntu <span class="token number">9.2</span>-0ubuntu1~20.04.1<span class="token punctuation">)</span> <span class="token number">9.2</span>
Copyright <span class="token punctuation">(</span>C<span class="token punctuation">)</span> <span class="token number">2020</span> Free Software Foundation, Inc.
License GPLv3+: GNU GPL version <span class="token number">3</span> or later <span class="token operator">&lt;</span>http://gnu.org/licenses/gpl.html<span class="token operator">&gt;</span>
This is <span class="token function">free</span> software: you are <span class="token function">free</span> to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type <span class="token string">&quot;show copying&quot;</span> and <span class="token string">&quot;show warranty&quot;</span> <span class="token keyword">for</span> details.
This GDB was configured as <span class="token string">&quot;x86_64-linux-gnu&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;show configuration&quot;</span> <span class="token keyword">for</span> configuration details.
For bug reporting instructions, please see:
<span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/bugs/<span class="token operator">&gt;</span>.
Find the GDB manual and other documentation resources online at:
    <span class="token operator">&lt;</span>http://www.gnu.org/software/gdb/documentation/<span class="token operator">&gt;</span>.

For help, <span class="token builtin class-name">type</span> <span class="token string">&quot;help&quot;</span><span class="token builtin class-name">.</span>
Type <span class="token string">&quot;apropos word&quot;</span> to search <span class="token keyword">for</span> commands related to <span class="token string">&quot;word&quot;</span><span class="token punctuation">..</span>.
Reading symbols from main<span class="token punctuation">..</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> r
Starting program: /home/whoway/nowcoder/main 
冒泡排序之后的数组: <span class="token number">12</span> <span class="token number">22</span> <span class="token number">27</span> <span class="token number">55</span> <span class="token number">67</span> 
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span>
选择排序之后的数组: <span class="token number">11</span> <span class="token number">25</span> <span class="token number">36</span> <span class="token number">47</span> <span class="token number">80</span> 
<span class="token punctuation">[</span>Inferior <span class="token number">1</span> <span class="token punctuation">(</span>process <span class="token number">837509</span><span class="token punctuation">)</span> exited normally<span class="token punctuation">]</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="断点被击中一次⭐️「info-break」"><a href="#断点被击中一次⭐️「info-break」" class="header-anchor">#</a> 断点被击中一次⭐️「info break」</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b <span class="token number">16</span>
Breakpoint <span class="token number">1</span> at 0x5555555553b5: <span class="token function">file</span> main.cpp, line <span class="token number">16</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> r
Starting program: /home/whoway/nowcoder/main 

Breakpoint <span class="token number">1</span>, main <span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:16
<span class="token number">16</span>	        cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> i b
Num     Type           Disp Enb Address            What
<span class="token number">1</span>       breakpoint     keep y   0x00005555555553b5 <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:16
	breakpoint already hit <span class="token number">1</span> time⭐️⭐️⭐️

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="跳出循环"><a href="#跳出循环" class="header-anchor">#</a> 跳出循环</h3> <ul><li><p>我们如果要跳出1个循环，需要满足一些条件：</p></li> <li><p>1、首先循环里面不能有断点/或该断点不可用</p></li> <li><p>2、然后，我们要执行到循环的最后一行</p> <ul><li>也就是我们循环开始的一行<code>for(int i=0; i&lt;len; ++i)</code></li></ul></li> <li><p>3、在这行使用until</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> i b
Num     Type           Disp Enb Address            What
<span class="token number">1</span>       breakpoint     keep y   0x00005555555553b5 <span class="token keyword">in</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:16
	breakpoint already hit <span class="token number">4</span> <span class="token builtin class-name">times</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> d <span class="token number">1</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l
<span class="token number">11</span>	    bubbleSort<span class="token punctuation">(</span>array, len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">12</span>	    
<span class="token number">13</span>	    // 遍历
<span class="token number">14</span>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;冒泡排序之后的数组: &quot;</span><span class="token punctuation">;</span>
<span class="token number">15</span>	    for<span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">16</span>	        cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
<span class="token number">17</span>	    <span class="token punctuation">}</span>
<span class="token number">18</span>	    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token number">19</span>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;===================================&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token number">20</span>	
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> <span class="token keyword">until</span>
<span class="token number">15</span>	    for<span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>	⭐️⭐️⭐️（程序停在第16行）
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> p i
<span class="token variable">$5</span> <span class="token operator">=</span> <span class="token number">3</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> <span class="token keyword">until</span>
<span class="token number">18</span>	    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>	⭐️直接到第18行了

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li></ul> <h3 id="跳出函数体finish"><a href="#跳出函数体finish" class="header-anchor">#</a> 跳出函数体finish</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>Reading symbols from main<span class="token punctuation">..</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l
<span class="token number">1</span>	<span class="token comment">#include &lt;iostream&gt;</span>
<span class="token number">2</span>	<span class="token comment">#include &quot;sort.h&quot;</span>
<span class="token number">3</span>	
<span class="token number">4</span>	using namespace std<span class="token punctuation">;</span>
<span class="token number">5</span>	
<span class="token number">6</span>	int <span class="token function-name function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">7</span>	
<span class="token number">8</span>	    int array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">12</span>, <span class="token number">27</span>, <span class="token number">55</span>, <span class="token number">22</span>, <span class="token number">67</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token number">9</span>	    int len <span class="token operator">=</span> sizeof<span class="token punctuation">(</span>array<span class="token punctuation">)</span> / sizeof<span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">10</span>	
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> l
<span class="token number">11</span>	    bubbleSort<span class="token punctuation">(</span>array, len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">12</span>	    
<span class="token number">13</span>	    // 遍历
<span class="token number">14</span>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;冒泡排序之后的数组: &quot;</span><span class="token punctuation">;</span>
<span class="token number">15</span>	    for<span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">16</span>	        cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
<span class="token number">17</span>	    <span class="token punctuation">}</span>
<span class="token number">18</span>	    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token number">19</span>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;===================================&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token number">20</span>	
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b <span class="token number">11</span>
Breakpoint <span class="token number">1</span> at 0x1382: <span class="token function">file</span> main.cpp, line <span class="token number">11</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> r
Starting program: /home/whoway/nowcoder/main 

Breakpoint <span class="token number">1</span>, main <span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:11
<span class="token number">11</span>	    bubbleSort<span class="token punctuation">(</span>array, len<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> s
bubbleSort <span class="token punctuation">(</span>array<span class="token operator">=</span>0x3, <span class="token assign-left variable">len</span><span class="token operator">=</span><span class="token number">32767</span><span class="token punctuation">)</span> at bubble.cpp:6
<span class="token number">6</span>	void bubbleSort<span class="token punctuation">(</span>int *array, int len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> s
<span class="token number">8</span>	    <span class="token keyword">for</span> <span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len - <span class="token number">1</span><span class="token punctuation">;</span> i++<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> finish 
Run till <span class="token builtin class-name">exit</span> from <span class="token comment">#0  bubbleSort (array=0x7fffffffe380, len=5) at bubble.cpp:8</span>
main <span class="token punctuation">(</span><span class="token punctuation">)</span> at main.cpp:14
<span class="token number">14</span>	    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;冒泡排序之后的数组: &quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><ul><li>那我们跳出这个函数啊，也需要满足一些条件。就是说你这个呃函数啊呃里面呢或者说往下不能有这个断点。</li></ul> <p>因为你<strong>成绩往下执行啊，不能遇到断点。如果遇到断点的话，他是不是又停到那个站点那个地方了？</strong>
所以说你要把下面的这些断掉啊，比如说啊我们举个例子，</p> <p>比如说你当前呢是在这个barber sort 这个函数的啊，比如说第一行是吧？那你现在呢想要跳出这个函数了。</p> <p>那如果说下面有端点的话，那你要把它给干部给他先删除掉啊，然后呢再执行这个finish，他才能够跳出啊他才能够跳出。</p> <h3 id="自动变量-很有用"><a href="#自动变量-很有用" class="header-anchor">#</a> 自动变量(很有用)</h3> <p>​	好，然后呢我们继续往下执行啊，程序运行完了。好，kate 推出啊。好，然后呢还有一个没有给大家介绍啊，就是我们可以去设置这个啊自动变量啊，那么设置自动变量呢我们<strong>拿另外一个案例</strong>来看啊。</p> <p>​	那现在呢比如说我们想print。a 的值。对吧哎是不是输出了printer 这个a 的值啊，对吧？那我在print b 是不是输出了b 的值，一个是十一个，是三十是吧？那我现在呢我要往下去执行啊，比如说我按这个啊next。他是不是执行到这个for 循环啊，是吧？</p> <p>​	==那我想每一次向下去执行的时候呢，<strong>都要</strong>去输出a 和b 的值。==那这个时候呢啊我们是不是<strong>啊，每次都要print a print b 那如果说你有很多的变量的话，你都要去查看的话，是不是都要通过这个print 去输出啊，非常麻烦。那我们可以设置一个自动变量</strong>。好，那设置自动变量以后呢，每一次往下执行呢，它都会去。自动打印这个你设置的这个自动变量的值啊，display 后面的跟上这个变量的名称。</p> <p>​	啊。好，那我们来设计一下，比如说display。好，比如说a 回撤是不是设置好了，然后display。b 回传是吧？好，然后呢注意看我往下执行啊next。好，大家看向下执行，执行到二十一行，他是不是照样能够输出a 和b 的值，对吧？在那。</p> <p>​	<strong>哎，你看他是不是每一次往下去执行，都会输出a 和b 的值，对吧？这个就是自动变量啊</strong>，那我们还可以通过info，然后display。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info display 
Auto-display expressions now <span class="token keyword">in</span> effect:
Num Enb Expression
<span class="token number">1</span>:   y  a
<span class="token number">2</span>:   y  b
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>​	去查看你设置了哪些自动面料，你看是不是设置了两个，那你要删除的话怎么办呢？
​	那删除的话呢就是==undisplay==，<strong>然后后面跟上这个编号就行了啊</strong>。比如说我们on this，the play, 比如说一回撤啊啊那他这样呢，他说什么，他说。没有定义的这个呃，命令是吧？我写错了啊。这是play。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> display a
<span class="token number">1</span>: a <span class="token operator">=</span> <span class="token number">10</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> display b
<span class="token number">2</span>: b <span class="token operator">=</span> <span class="token number">30</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info display 
Auto-display expressions now <span class="token keyword">in</span> effect:
Num Enb Expression
<span class="token number">1</span>:   y  a
<span class="token number">2</span>:   y  b
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> undisplay <span class="token number">1</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> n
a + b <span class="token operator">=</span> <span class="token number">40</span>
<span class="token number">20</span>	    for<span class="token punctuation">(</span>int i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">;</span> ++i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">2</span>: b <span class="token operator">=</span> <span class="token number">30</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> info display 
Auto-display expressions now <span class="token keyword">in</span> effect:
Num Enb Expression
<span class="token number">2</span>:   y  b
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> 

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="set修正bug-继续调试"><a href="#set修正bug-继续调试" class="header-anchor">#</a> set修正bug，继续调试</h3> <p>​	所说的这个设置条件按钮，对吧？好，<strong>然后呢我们在这个地方呢还可以设置变量它的一个值。啊，那比如说呢我们现在呢在调试对吧？发现这个。呃，里面呢有一个变量，比如说这个i 的值啊，跟我们预想的不一样</strong>。但<strong>我想改正一下</strong>，对吧？那我们可以通过这个set 头发啊，然后变量名等于一个值，比如说。
​	呃，让这个i 呢等于啊你注意看我们现在呢这个货循环，它是循环几次，我们来看一下</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> b <span class="token number">24</span>
Breakpoint <span class="token number">1</span> at 0x125a: <span class="token function">file</span> test.c, line <span class="token number">24</span>.
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> run
Starting program: /home/whoway/nowcoder/test 
argc <span class="token operator">=</span> <span class="token number">1</span>
a <span class="token operator">=</span> <span class="token number">10</span>, b <span class="token operator">=</span> <span class="token number">30</span>
a + b <span class="token operator">=</span> <span class="token number">40</span>
i <span class="token operator">=</span> <span class="token number">0</span>

Breakpoint <span class="token number">1</span>, main <span class="token punctuation">(</span>argc<span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">argv</span><span class="token operator">=</span>0x7fffffffe4b8<span class="token punctuation">)</span> at test.c:24
<span class="token number">24</span>	        printf<span class="token punctuation">(</span><span class="token string">&quot;res value: %d<span class="token entity" title="\n">\n</span>&quot;</span>, res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> p res
<span class="token variable">$1</span> <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> <span class="token builtin class-name">set</span> var <span class="token assign-left variable">res</span><span class="token operator">=</span><span class="token number">99</span>
<span class="token punctuation">(</span>gdb<span class="token punctuation">)</span> p res
<span class="token variable">$2</span> <span class="token operator">=</span> <span class="token number">99</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>啊，就是说有的时候呢我们可以用到这个set var这个命令去设置某一个变量的值啊，让它等于我们想要的这个值，对吧？</li> <li>那设置好了以后，我们可以继续往下去。啊，调试其他的这个代码，然后呢去找出其他的bug</li></ul> <p>​	那么到这呢啊我们这个gdb啊要求大家所掌握的一些内容呢，就已经给大家全部介绍完了啊。<strong>至于一些其他的这个命令呢，大家可以自己去查看一些资料啊，自己去学一学</strong>啊。</p> <h3 id="_0-代码"><a href="#_0-代码" class="header-anchor">#</a> 0.代码</h3> <h4 id="main-cpp"><a href="#main-cpp" class="header-anchor">#</a> main.cpp</h4> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;sort.h&quot;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">int</span> array<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">bubbleSort</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 遍历</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;冒泡排序之后的数组: &quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;===================================&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword">int</span> array1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    len <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>array1<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">selectSort</span><span class="token punctuation">(</span>array1<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 遍历</span>
    cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;选择排序之后的数组: &quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cout <span class="token operator">&lt;&lt;</span> array1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h4 id="select-cpp"><a href="#select-cpp" class="header-anchor">#</a> select.cpp</h4> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;sort.h&quot;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">selectSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>array<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">int</span> temp <span class="token operator">=</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
				array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
				array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="sort-h"><a href="#sort-h" class="header-anchor">#</a> sort.h</h4> <div class="language-h line-numbers-mode"><pre class="language-text"><code>#ifndef SORT_H_
#define SORT_H_

void bubbleSort(int *array, int len);

void selectSort(int *array, int len);

#endif
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="test-c"><a href="#test-c" class="header-anchor">#</a> test.c</h4> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;argc = %d\n&quot;</span><span class="token punctuation">,</span> argc<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>argc <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        b <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        a <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        b <span class="token operator">=</span> <span class="token function">atoi</span><span class="token punctuation">(</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a = %d, b = %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a + b = %d\n&quot;</span><span class="token punctuation">,</span> a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;i = %d\n&quot;</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 函数调用</span>
        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;res value: %d\n&quot;</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;THE END !!!\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">int</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> a<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        num <span class="token operator">+=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> num<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h4 id="bubble-cpp"><a href="#bubble-cpp" class="header-anchor">#</a> bubble.cpp</h4> <div class="language-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;sort.h&quot;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>array<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> array<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">int</span> temp <span class="token operator">=</span> array<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
				array<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> array<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				array<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li>游双，Linux高性能服务器编程</li> <li>公众号，编程珠玑，GDB调试指南</li> <li><a href="https://sourceware.org/gdb/" target="_blank" rel="noopener noreferrer">https://sourceware.org/gdb/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>GitHub上的<a href="https://github.com/skywind3000/awesome-cheatsheets/blob/master/tools/gdb.txt" target="_blank" rel="noopener noreferrer">gdb速查表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>张云，<a href="https://m.douban.com/book/subject/4111413/" target="_blank" rel="noopener noreferrer">软件调试的艺术<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>调试GCC源码的官方Wiki：<a href="https://gcc.gnu.org/wiki/DebuggingGCC" target="_blank" rel="noopener noreferrer">https://gcc.gnu.org/wiki/DebuggingGCC<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>gdb 调试利器：<a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html" target="_blank" rel="noopener noreferrer">https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/gdb.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2e5696d8.js" defer></script><script src="/assets/js/2.cdbbc3f7.js" defer></script><script src="/assets/js/1.7582fb06.js" defer></script><script src="/assets/js/137.442e14c3.js" defer></script>
  </body>
</html>
